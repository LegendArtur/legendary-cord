/*! For license information please see main.ae502ab9.js.LICENSE.txt */
!function(){var e={3361:function(e,t,n){"use strict";n.d(t,{Z:function(){return ie}});var r=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),i=Math.abs,a=String.fromCharCode,o=Object.assign;function u(e){return e.trim()}function s(e,t,n){return e.replace(t,n)}function c(e,t){return e.indexOf(t)}function l(e,t){return 0|e.charCodeAt(t)}function f(e,t,n){return e.slice(t,n)}function h(e){return e.length}function d(e){return e.length}function p(e,t){return t.push(e),e}var v=1,m=1,y=0,g=0,k=0,b="";function w(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:v,column:m,length:o,return:""}}function x(e,t){return o(w("",null,null,"",null,null,0),e,{length:-e.length},t)}function I(){return k=g>0?l(b,--g):0,m--,10===k&&(m=1,v--),k}function _(){return k=g<y?l(b,g++):0,m++,10===k&&(m=1,v++),k}function S(){return l(b,g)}function E(){return g}function T(e,t){return f(b,e,t)}function C(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function A(e){return v=m=1,y=h(b=e),g=0,[]}function N(e){return b="",e}function O(e){return u(T(g-1,R(91===e?e+2:40===e?e+1:e)))}function P(e){for(;(k=S())&&k<33;)_();return C(e)>2||C(k)>3?"":" "}function D(e,t){for(;--t&&_()&&!(k<48||k>102||k>57&&k<65||k>70&&k<97););return T(e,E()+(t<6&&32==S()&&32==_()))}function R(e){for(;_();)switch(k){case e:return g;case 34:case 39:34!==e&&39!==e&&R(k);break;case 40:41===e&&R(e);break;case 92:_()}return g}function L(e,t){for(;_()&&e+k!==57&&(e+k!==84||47!==S()););return"/*"+T(t,g-1)+"*"+a(47===e?e:_())}function M(e){for(;!C(S());)_();return T(e,g)}var F="-ms-",V="-moz-",j="-webkit-",U="comm",z="rule",Z="decl",B="@keyframes";function q(e,t){for(var n="",r=d(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function K(e,t,n,r){switch(e.type){case"@import":case Z:return e.return=e.return||e.value;case U:return"";case B:return e.return=e.value+"{"+q(e.children,r)+"}";case z:e.value=e.props.join(",")}return h(n=q(e.children,r))?e.return=e.value+"{"+n+"}":""}function W(e){return N(G("",null,null,null,[""],e=A(e),0,[0],e))}function G(e,t,n,r,i,o,u,f,d){for(var v=0,m=0,y=u,g=0,k=0,b=0,w=1,x=1,T=1,C=0,A="",N=i,R=o,F=r,V=A;x;)switch(b=C,C=_()){case 40:if(108!=b&&58==l(V,y-1)){-1!=c(V+=s(O(C),"&","&\f"),"&\f")&&(T=-1);break}case 34:case 39:case 91:V+=O(C);break;case 9:case 10:case 13:case 32:V+=P(b);break;case 92:V+=D(E()-1,7);continue;case 47:switch(S()){case 42:case 47:p(Q(L(_(),E()),t,n),d);break;default:V+="/"}break;case 123*w:f[v++]=h(V)*T;case 125*w:case 59:case 0:switch(C){case 0:case 125:x=0;case 59+m:k>0&&h(V)-y&&p(k>32?$(V+";",r,n,y-1):$(s(V," ","")+";",r,n,y-2),d);break;case 59:V+=";";default:if(p(F=H(V,t,n,v,m,i,f,A,N=[],R=[],y),o),123===C)if(0===m)G(V,t,F,F,N,o,y,f,R);else switch(99===g&&110===l(V,3)?100:g){case 100:case 109:case 115:G(e,F,F,r&&p(H(e,F,F,0,0,i,f,A,i,N=[],y),R),i,R,y,f,r?N:R);break;default:G(V,F,F,F,[""],R,0,f,R)}}v=m=k=0,w=T=1,A=V="",y=u;break;case 58:y=1+h(V),k=b;default:if(w<1)if(123==C)--w;else if(125==C&&0==w++&&125==I())continue;switch(V+=a(C),C*w){case 38:T=m>0?1:(V+="\f",-1);break;case 44:f[v++]=(h(V)-1)*T,T=1;break;case 64:45===S()&&(V+=O(_())),g=S(),m=y=h(A=V+=M(E())),C++;break;case 45:45===b&&2==h(V)&&(w=0)}}return o}function H(e,t,n,r,a,o,c,l,h,p,v){for(var m=a-1,y=0===a?o:[""],g=d(y),k=0,b=0,x=0;k<r;++k)for(var I=0,_=f(e,m+1,m=i(b=c[k])),S=e;I<g;++I)(S=u(b>0?y[I]+" "+_:s(_,/&\f/g,y[I])))&&(h[x++]=S);return w(e,t,n,0===a?z:l,h,p,v)}function Q(e,t,n){return w(e,t,n,U,a(k),f(e,2,-2),0)}function $(e,t,n,r){return w(e,t,n,Z,f(e,0,r),f(e,r+1,-1),r)}var Y=function(e,t,n){for(var r=0,i=0;r=i,i=S(),38===r&&12===i&&(t[n]=1),!C(i);)_();return T(e,g)},X=function(e,t){return N(function(e,t){var n=-1,r=44;do{switch(C(r)){case 0:38===r&&12===S()&&(t[n]=1),e[n]+=Y(g-1,t,n);break;case 2:e[n]+=O(r);break;case 4:if(44===r){e[++n]=58===S()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=a(r)}}while(r=_());return e}(A(e),t))},J=new WeakMap,ee=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||J.get(n))&&!r){J.set(e,!0);for(var i=[],a=X(t,i),o=n.props,u=0,s=0;u<a.length;u++)for(var c=0;c<o.length;c++,s++)e.props[s]=i[u]?a[u].replace(/&\f/g,o[c]):o[c]+" "+a[u]}}},te=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function ne(e,t){switch(function(e,t){return 45^l(e,0)?(((t<<2^l(e,0))<<2^l(e,1))<<2^l(e,2))<<2^l(e,3):0}(e,t)){case 5103:return"-webkit-print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return j+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return j+e+V+e+F+e+e;case 6828:case 4268:return j+e+F+e+e;case 6165:return j+e+F+"flex-"+e+e;case 5187:return j+e+s(e,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+e;case 5443:return j+e+F+"flex-item-"+s(e,/flex-|-self/,"")+e;case 4675:return j+e+F+"flex-line-pack"+s(e,/align-content|flex-|-self/,"")+e;case 5548:return j+e+F+s(e,"shrink","negative")+e;case 5292:return j+e+F+s(e,"basis","preferred-size")+e;case 6060:return"-webkit-box-"+s(e,"-grow","")+j+e+F+s(e,"grow","positive")+e;case 4554:return j+s(e,/([^-])(transform)/g,"$1-webkit-$2")+e;case 6187:return s(s(s(e,/(zoom-|grab)/,"-webkit-$1"),/(image-set)/,"-webkit-$1"),e,"")+e;case 5495:case 3959:return s(e,/(image-set\([^]*)/,"-webkit-$1$`$1");case 4968:return s(s(e,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+j+e+e;case 4095:case 3583:case 4068:case 2532:return s(e,/(.+)-inline(.+)/,"-webkit-$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(h(e)-1-t>6)switch(l(e,t+1)){case 109:if(45!==l(e,t+4))break;case 102:return s(e,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1-moz-"+(108==l(e,t+3)?"$3":"$2-$3"))+e;case 115:return~c(e,"stretch")?ne(s(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==l(e,t+1))break;case 6444:switch(l(e,h(e)-3-(~c(e,"!important")&&10))){case 107:return s(e,":",":-webkit-")+e;case 101:return s(e,/(.+:)([^;!]+)(;|!.+)?/,"$1-webkit-"+(45===l(e,14)?"inline-":"")+"box$3$1"+"-webkit-$2$3$1"+"-ms-$2box$3")+e}break;case 5936:switch(l(e,t+11)){case 114:return j+e+F+s(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return j+e+F+s(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return j+e+F+s(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return j+e+F+e+e}return e}var re=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case Z:e.return=ne(e.value,e.length);break;case B:return q([x(e,{value:s(e.value,"@","@-webkit-")})],r);case z:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return q([x(e,{props:[s(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return q([x(e,{props:[s(t,/:(plac\w+)/,":-webkit-input-$1")]}),x(e,{props:[s(t,/:(plac\w+)/,":-moz-$1")]}),x(e,{props:[s(t,/:(plac\w+)/,"-ms-input-$1")]})],r)}return""}))}}],ie=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var i=e.stylisPlugins||re;var a,o,u={},s=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)u[t[n]]=!0;s.push(e)}));var c,l,f=[K,(l=function(e){c.insert(e)},function(e){e.root||(e=e.return)&&l(e)})],h=function(e){var t=d(e);return function(n,r,i,a){for(var o="",u=0;u<t;u++)o+=e[u](n,r,i,a)||"";return o}}([ee,te].concat(i,f));o=function(e,t,n,r){c=n,q(W(e?e+"{"+t.styles+"}":t.styles),h),r&&(p.inserted[t.name]=!0)};var p={key:t,sheet:new r({key:t,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:u,registered:{},insert:o};return p.sheet.hydrate(s),p}},9797:function(e,t){"use strict";t.Z=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}},9140:function(e,t,n){"use strict";n.d(t,{O:function(){return v}});var r=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},i={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},a=n(9797),o=/[A-Z]|^ms/g,u=/_EMO_([^_]+?)_([^]*?)_EMO_/g,s=function(e){return 45===e.charCodeAt(1)},c=function(e){return null!=e&&"boolean"!==typeof e},l=(0,a.Z)((function(e){return s(e)?e:e.replace(o,"-$&").toLowerCase()})),f=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(u,(function(e,t,n){return d={name:t,styles:n,next:d},t}))}return 1===i[e]||s(e)||"number"!==typeof t||0===t?t:t+"px"};function h(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return d={name:n.name,styles:n.styles,next:d},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)d={name:r.name,styles:r.styles,next:d},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=h(e,t,n[i])+";";else for(var a in n){var o=n[a];if("object"!==typeof o)null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":c(o)&&(r+=l(a)+":"+f(a,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var u=h(e,t,o);switch(a){case"animation":case"animationName":r+=l(a)+":"+u+";";break;default:r+=a+"{"+u+"}"}}else for(var s=0;s<o.length;s++)c(o[s])&&(r+=l(a)+":"+f(a,o[s])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=d,a=n(e);return d=i,h(e,t,a)}}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var d,p=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var v=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var i=!0,a="";d=void 0;var o=e[0];null==o||void 0===o.raw?(i=!1,a+=h(n,t,o)):a+=o[0];for(var u=1;u<e.length;u++)a+=h(n,t,e[u]),i&&(a+=o[u]);p.lastIndex=0;for(var s,c="";null!==(s=p.exec(a));)c+="-"+s[1];return{name:r(a)+c,styles:a,next:d}}},2561:function(e,t,n){"use strict";var r;n.d(t,{L:function(){return o}});var i=n(2791),a=!!(r||(r=n.t(i,2))).useInsertionEffect&&(r||(r=n.t(i,2))).useInsertionEffect,o=a||function(e){return e()};a||i.useLayoutEffect},2419:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");t.Z=o},1486:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4 11h-3v3c0 .55-.45 1-1 1s-1-.45-1-1v-3H8c-.55 0-1-.45-1-1s.45-1 1-1h3V8c0-.55.45-1 1-1s1 .45 1 1v3h3c.55 0 1 .45 1 1s-.45 1-1 1z"}),"AddCircleRounded");t.Z=o},6002:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M20.01 15.38c-1.23 0-2.42-.2-3.53-.56-.35-.12-.74-.03-1.01.24l-1.57 1.97c-2.83-1.35-5.48-3.9-6.89-6.83l1.95-1.66c.27-.28.35-.67.24-1.02-.37-1.11-.56-2.3-.56-3.53 0-.54-.45-.99-.99-.99H4.19C3.65 3 3 3.24 3 3.99 3 13.28 10.73 21 20.01 21c.71 0 .99-.63.99-1.18v-3.45c0-.54-.45-.99-.99-.99z"}),"Call");t.Z=o},6084:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM8.5 8c.83 0 1.5.67 1.5 1.5S9.33 11 8.5 11 7 10.33 7 9.5 7.67 8 8.5 8zM12 18c-2.28 0-4.22-1.66-5-4h10c-.78 2.34-2.72 4-5 4zm3.5-7c-.83 0-1.5-.67-1.5-1.5S14.67 8 15.5 8s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"}),"EmojiEmotions");t.Z=o},1131:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");t.Z=o},2472:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M20 4h-4l-4-4-4 4H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H4V6h4.52l3.52-3.5L15.52 6H20v14zM18 8H6v10h12"}),"FilterFrames");t.Z=o},7511:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9.5 13v-1h1v1c0 .55-.45 1-1 1h-1c-.55 0-1-.45-1-1v-2c0-.55.45-1 1-1h1c.55 0 1 .45 1 1h-2v2h1zm3 1h-1v-4h1v4zm4-3h-2v.5H16v1h-1.5V14h-1v-4h3v1z"}),"GifBox");t.Z=o},1886:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M12 1c-4.97 0-9 4.03-9 9v7c0 1.66 1.34 3 3 3h3v-8H5v-2c0-3.87 3.13-7 7-7s7 3.13 7 7v2h-4v8h3c1.66 0 3-1.34 3-3v-7c0-4.97-4.03-9-9-9z"}),"Headset");t.Z=o},5860:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"InfoOutlined");t.Z=o},5335:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4-8 5-8-5V6l8 5 8-5v2z"}),"Mail");t.Z=o},5436:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72h-1.7z"}),"Mic");t.Z=o},8128:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"}),"Notifications");t.Z=o},9527:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)([(0,a.jsx)("path",{fillRule:"evenodd",d:"M16.67 13.13C18.04 14.06 19 15.32 19 17v3h4v-3c0-2.18-3.57-3.47-6.33-3.87z"},"0"),(0,a.jsx)("circle",{cx:"9",cy:"8",r:"4",fillRule:"evenodd"},"1"),(0,a.jsx)("path",{fillRule:"evenodd",d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4c-.47 0-.91.1-1.33.24C14.5 5.27 15 6.58 15 8s-.5 2.73-1.33 3.76c.42.14.86.24 1.33.24zm-6 1c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4z"},"2")],"PeopleAlt");t.Z=o},5453:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{fillRule:"evenodd",d:"M16 9V4h1c.55 0 1-.45 1-1s-.45-1-1-1H7c-.55 0-1 .45-1 1s.45 1 1 1h1v5c0 1.66-1.34 3-3 3v2h5.97v7l1 1 1-1v-7H19v-2c-1.66 0-3-1.34-3-3z"}),"PushPin");t.Z=o},8774:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 11 8.76l1-1.36 1 1.36L15.38 12 17 10.83 14.92 8H20v6z"}),"Redeem");t.Z=o},7825:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M15.5 14h-.79l-.28-.27c1.2-1.4 1.82-3.31 1.48-5.34-.47-2.78-2.79-5-5.59-5.34-4.23-.52-7.79 3.04-7.27 7.27.34 2.8 2.56 5.12 5.34 5.59 2.03.34 3.94-.28 5.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"SearchRounded");t.Z=o},7122:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"}),"Settings");t.Z=o},3898:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M17 4h3v16h-3zM5 14h3v6H5zm6-5h3v11h-3z"}),"SignalCellularAlt");t.Z=o},5649:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(2849)},5361:function(e,t,n){"use strict";n.d(t,{Z:function(){return j}});var r=n(7462),i=n(3366),a=n(6189),o=n(2466),u=n(5080),s=n(4942);function c(e,t){var n;return(0,r.Z)({toolbar:(n={minHeight:56},(0,s.Z)(n,e.up("xs"),{"@media (orientation: landscape)":{minHeight:48}}),(0,s.Z)(n,e.up("sm"),{minHeight:64}),n)},t)}var l=n(2065),f={black:"#000",white:"#fff"},h={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},d={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},p={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},v={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},m={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},y={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},g={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},k=["mode","contrastThreshold","tonalOffset"],b={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:f.white,default:f.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},w={text:{primary:f.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:f.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function x(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=(0,l.$n)(e.main,i):"dark"===t&&(e.dark=(0,l._j)(e.main,a)))}function I(e){var t=e.mode,n=void 0===t?"light":t,u=e.contrastThreshold,s=void 0===u?3:u,c=e.tonalOffset,I=void 0===c?.2:c,_=(0,i.Z)(e,k),S=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:m[200],light:m[50],dark:m[400]}:{main:m[700],light:m[400],dark:m[800]}}(n),E=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:d[200],light:d[50],dark:d[400]}:{main:d[500],light:d[300],dark:d[700]}}(n),T=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:p[500],light:p[300],dark:p[700]}:{main:p[700],light:p[400],dark:p[800]}}(n),C=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:y[400],light:y[300],dark:y[700]}:{main:y[700],light:y[500],dark:y[900]}}(n),A=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:g[400],light:g[300],dark:g[700]}:{main:g[800],light:g[500],dark:g[900]}}(n),N=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:v[400],light:v[300],dark:v[700]}:{main:"#ed6c02",light:v[500],dark:v[900]}}(n);function O(e){return(0,l.mi)(e,w.text.primary)>=s?w.text.primary:b.text.primary}var P=function(e){var t=e.color,n=e.name,i=e.mainShade,o=void 0===i?500:i,u=e.lightShade,s=void 0===u?300:u,c=e.darkShade,l=void 0===c?700:c;if(!(t=(0,r.Z)({},t)).main&&t[o]&&(t.main=t[o]),!t.hasOwnProperty("main"))throw new Error((0,a.Z)(11,n?" (".concat(n,")"):"",o));if("string"!==typeof t.main)throw new Error((0,a.Z)(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return x(t,"light",s,I),x(t,"dark",l,I),t.contrastText||(t.contrastText=O(t.main)),t},D={dark:w,light:b};return(0,o.Z)((0,r.Z)({common:(0,r.Z)({},f),mode:n,primary:P({color:S,name:"primary"}),secondary:P({color:E,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:P({color:T,name:"error"}),warning:P({color:N,name:"warning"}),info:P({color:C,name:"info"}),success:P({color:A,name:"success"}),grey:h,contrastThreshold:s,getContrastText:O,augmentColor:P,tonalOffset:I},D[n]),_)}var _=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var S={textTransform:"uppercase"},E='"Roboto", "Helvetica", "Arial", sans-serif';function T(e,t){var n="function"===typeof t?t(e):t,a=n.fontFamily,u=void 0===a?E:a,s=n.fontSize,c=void 0===s?14:s,l=n.fontWeightLight,f=void 0===l?300:l,h=n.fontWeightRegular,d=void 0===h?400:h,p=n.fontWeightMedium,v=void 0===p?500:p,m=n.fontWeightBold,y=void 0===m?700:m,g=n.htmlFontSize,k=void 0===g?16:g,b=n.allVariants,w=n.pxToRem,x=(0,i.Z)(n,_);var I=c/14,T=w||function(e){return"".concat(e/k*I,"rem")},C=function(e,t,n,i,a){return(0,r.Z)({fontFamily:u,fontWeight:e,fontSize:T(t),lineHeight:n},u===E?{letterSpacing:"".concat((o=i/t,Math.round(1e5*o)/1e5),"em")}:{},a,b);var o},A={h1:C(f,96,1.167,-1.5),h2:C(f,60,1.2,-.5),h3:C(d,48,1.167,0),h4:C(d,34,1.235,.25),h5:C(d,24,1.334,0),h6:C(v,20,1.6,.15),subtitle1:C(d,16,1.75,.15),subtitle2:C(v,14,1.57,.1),body1:C(d,16,1.5,.15),body2:C(d,14,1.43,.15),button:C(v,14,1.75,.4,S),caption:C(d,12,1.66,.4),overline:C(d,12,2.66,1,S)};return(0,o.Z)((0,r.Z)({htmlFontSize:k,pxToRem:T,fontFamily:u,fontSize:c,fontWeightLight:f,fontWeightRegular:d,fontWeightMedium:v,fontWeightBold:y},A),x,{clone:!1})}function C(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var A=["none",C(0,2,1,-1,0,1,1,0,0,1,3,0),C(0,3,1,-2,0,2,2,0,0,1,5,0),C(0,3,3,-2,0,3,4,0,0,1,8,0),C(0,2,4,-1,0,4,5,0,0,1,10,0),C(0,3,5,-1,0,5,8,0,0,1,14,0),C(0,3,5,-1,0,6,10,0,0,1,18,0),C(0,4,5,-2,0,7,10,1,0,2,16,1),C(0,5,5,-3,0,8,10,1,0,3,14,2),C(0,5,6,-3,0,9,12,1,0,3,16,2),C(0,6,6,-3,0,10,14,1,0,4,18,3),C(0,6,7,-4,0,11,15,1,0,4,20,3),C(0,7,8,-4,0,12,17,2,0,5,22,4),C(0,7,8,-4,0,13,19,2,0,5,24,4),C(0,7,9,-4,0,14,21,2,0,5,26,4),C(0,8,9,-5,0,15,22,2,0,6,28,5),C(0,8,10,-5,0,16,24,2,0,6,30,5),C(0,8,11,-5,0,17,26,2,0,6,32,5),C(0,9,11,-5,0,18,28,2,0,7,34,6),C(0,9,12,-6,0,19,29,2,0,7,36,6),C(0,10,13,-6,0,20,31,3,0,8,38,7),C(0,10,13,-6,0,21,33,3,0,8,40,7),C(0,10,14,-6,0,22,35,3,0,8,42,7),C(0,11,14,-7,0,23,36,3,0,9,44,8),C(0,11,15,-7,0,24,38,3,0,9,46,8)],N=["duration","easing","delay"],O={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},P={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function D(e){return"".concat(Math.round(e),"ms")}function R(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function L(e){var t=(0,r.Z)({},O,e.easing),n=(0,r.Z)({},P,e.duration);return(0,r.Z)({getAutoHeightDuration:R,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.duration,o=void 0===a?n.standard:a,u=r.easing,s=void 0===u?t.easeInOut:u,c=r.delay,l=void 0===c?0:c;(0,i.Z)(r,N);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof o?o:D(o)," ").concat(s," ").concat("string"===typeof l?l:D(l))})).join(",")}},e,{easing:t,duration:n})}var M={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},F=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function V(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,s=e.palette,l=void 0===s?{}:s,f=e.transitions,h=void 0===f?{}:f,d=e.typography,p=void 0===d?{}:d,v=(0,i.Z)(e,F);if(e.vars)throw new Error((0,a.Z)(18));var m=I(l),y=(0,u.Z)(e),g=(0,o.Z)(y,{mixins:c(y.breakpoints,n),palette:m,shadows:A.slice(),typography:T(m,p),transitions:L(h),zIndex:(0,r.Z)({},M)});g=(0,o.Z)(g,v);for(var k=arguments.length,b=new Array(k>1?k-1:0),w=1;w<k;w++)b[w-1]=arguments[w];return g=b.reduce((function(e,t){return(0,o.Z)(e,t)}),g)}var j=V()},60:function(e,t,n){"use strict";n.d(t,{ZP:function(){return Ke},FO:function(){return Be}});var r=n(3433),i=n(9439),a=n(3366),o=n(7462),u=n(2791),s=n(9797),c=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,l=(0,s.Z)((function(e){return c.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),f=n(3361),h=n(9140),d=n(2561),p=(0,u.createContext)("undefined"!==typeof HTMLElement?(0,f.Z)({key:"css"}):null);p.Provider;var v=function(e){return(0,u.forwardRef)((function(t,n){var r=(0,u.useContext)(p);return e(t,r,n)}))},m=(0,u.createContext)({});function y(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var g=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},k=l,b=function(e){return"theme"!==e},w=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?k:b},x=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},I=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;g(t,n,r);(0,d.L)((function(){return function(e,t,n){g(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}}(t,n,r)}));return null},_=function e(t,n){var r,i,a=t.__emotion_real===t,s=a&&t.__emotion_base||t;void 0!==n&&(r=n.label,i=n.target);var c=x(t,n,a),l=c||w(s),f=!l("as");return function(){var d=arguments,p=a&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==r&&p.push("label:"+r+";"),null==d[0]||void 0===d[0].raw)p.push.apply(p,d);else{0,p.push(d[0][0]);for(var g=d.length,k=1;k<g;k++)p.push(d[k],d[0][k])}var b=v((function(e,t,n){var r=f&&e.as||s,a="",o=[],d=e;if(null==e.theme){for(var v in d={},e)d[v]=e[v];d.theme=(0,u.useContext)(m)}"string"===typeof e.className?a=y(t.registered,o,e.className):null!=e.className&&(a=e.className+" ");var g=(0,h.O)(p.concat(o),t.registered,d);a+=t.key+"-"+g.name,void 0!==i&&(a+=" "+i);var k=f&&void 0===c?w(r):l,b={};for(var x in e)f&&"as"===x||k(x)&&(b[x]=e[x]);return b.className=a,b.ref=n,(0,u.createElement)(u.Fragment,null,(0,u.createElement)(I,{cache:t,serialized:g,isStringTag:"string"===typeof r}),(0,u.createElement)(r,b))}));return b.displayName=void 0!==r?r:"Styled("+("string"===typeof s?s:s.displayName||s.name||"Component")+")",b.defaultProps=t.defaultProps,b.__emotion_real=b,b.__emotion_base=s,b.__emotion_styles=p,b.__emotion_forwardProp=c,Object.defineProperty(b,"toString",{value:function(){return"."+i}}),b.withComponent=function(t,r){return e(t,(0,o.Z)({},n,r,{shouldForwardProp:x(b,r,!0)})).apply(void 0,p)},b}},S=_.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){S[e]=S(e)}));var E=S;function T(e,t){return E(e,t)}var C=function(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))},A=n(5080),N=n(7312),O=["variant"];function P(e){return 0===e.length}function D(e){var t=e.variant,n=(0,a.Z)(e,O),r=t||"";return Object.keys(n).sort().forEach((function(t){r+="color"===t?P(r)?e[t]:(0,N.Z)(e[t]):"".concat(P(r)?t:(0,N.Z)(t)).concat((0,N.Z)(e[t].toString()))})),r}var R=n(4942),L=n(8247),M=n(8529);var F=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return t.filterProps.forEach((function(n){e[n]=t})),e}),{}),i=function(e){return Object.keys(e).reduce((function(t,n){return r[n]?(0,L.Z)(t,r[n](e)):t}),{})};return i.propTypes={},i.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),i},V=n(5682),j=n(1184);function U(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var z=(0,M.Z)({prop:"border",themeKey:"borders",transform:U}),Z=(0,M.Z)({prop:"borderTop",themeKey:"borders",transform:U}),B=(0,M.Z)({prop:"borderRight",themeKey:"borders",transform:U}),q=(0,M.Z)({prop:"borderBottom",themeKey:"borders",transform:U}),K=(0,M.Z)({prop:"borderLeft",themeKey:"borders",transform:U}),W=(0,M.Z)({prop:"borderColor",themeKey:"palette"}),G=(0,M.Z)({prop:"borderTopColor",themeKey:"palette"}),H=(0,M.Z)({prop:"borderRightColor",themeKey:"palette"}),Q=(0,M.Z)({prop:"borderBottomColor",themeKey:"palette"}),$=(0,M.Z)({prop:"borderLeftColor",themeKey:"palette"}),Y=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=(0,V.eI)(e.theme,"shape.borderRadius",4,"borderRadius");return(0,j.k9)(e,e.borderRadius,(function(e){return{borderRadius:(0,V.NA)(t,e)}}))}return null};Y.propTypes={},Y.filterProps=["borderRadius"];var X=F(z,Z,B,q,K,W,G,H,Q,$,Y),J=F((0,M.Z)({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),(0,M.Z)({prop:"display"}),(0,M.Z)({prop:"overflow"}),(0,M.Z)({prop:"textOverflow"}),(0,M.Z)({prop:"visibility"}),(0,M.Z)({prop:"whiteSpace"})),ee=F((0,M.Z)({prop:"flexBasis"}),(0,M.Z)({prop:"flexDirection"}),(0,M.Z)({prop:"flexWrap"}),(0,M.Z)({prop:"justifyContent"}),(0,M.Z)({prop:"alignItems"}),(0,M.Z)({prop:"alignContent"}),(0,M.Z)({prop:"order"}),(0,M.Z)({prop:"flex"}),(0,M.Z)({prop:"flexGrow"}),(0,M.Z)({prop:"flexShrink"}),(0,M.Z)({prop:"alignSelf"}),(0,M.Z)({prop:"justifyItems"}),(0,M.Z)({prop:"justifySelf"})),te=function(e){if(void 0!==e.gap&&null!==e.gap){var t=(0,V.eI)(e.theme,"spacing",8,"gap");return(0,j.k9)(e,e.gap,(function(e){return{gap:(0,V.NA)(t,e)}}))}return null};te.propTypes={},te.filterProps=["gap"];var ne=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=(0,V.eI)(e.theme,"spacing",8,"columnGap");return(0,j.k9)(e,e.columnGap,(function(e){return{columnGap:(0,V.NA)(t,e)}}))}return null};ne.propTypes={},ne.filterProps=["columnGap"];var re=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=(0,V.eI)(e.theme,"spacing",8,"rowGap");return(0,j.k9)(e,e.rowGap,(function(e){return{rowGap:(0,V.NA)(t,e)}}))}return null};re.propTypes={},re.filterProps=["rowGap"];var ie=F(te,ne,re,(0,M.Z)({prop:"gridColumn"}),(0,M.Z)({prop:"gridRow"}),(0,M.Z)({prop:"gridAutoFlow"}),(0,M.Z)({prop:"gridAutoColumns"}),(0,M.Z)({prop:"gridAutoRows"}),(0,M.Z)({prop:"gridTemplateColumns"}),(0,M.Z)({prop:"gridTemplateRows"}),(0,M.Z)({prop:"gridTemplateAreas"}),(0,M.Z)({prop:"gridArea"})),ae=F((0,M.Z)({prop:"position"}),(0,M.Z)({prop:"zIndex",themeKey:"zIndex"}),(0,M.Z)({prop:"top"}),(0,M.Z)({prop:"right"}),(0,M.Z)({prop:"bottom"}),(0,M.Z)({prop:"left"}));function oe(e,t){return"grey"===t?t:e}var ue=F((0,M.Z)({prop:"color",themeKey:"palette",transform:oe}),(0,M.Z)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:oe}),(0,M.Z)({prop:"backgroundColor",themeKey:"palette",transform:oe})),se=(0,M.Z)({prop:"boxShadow",themeKey:"shadows"});function ce(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var le=(0,M.Z)({prop:"width",transform:ce}),fe=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return(0,j.k9)(e,e.maxWidth,(function(t){var n,r,i;return{maxWidth:(null==(n=e.theme)||null==(r=n.breakpoints)||null==(i=r.values)?void 0:i[t])||j.VO[t]||ce(t)}}))}return null};fe.filterProps=["maxWidth"];var he=(0,M.Z)({prop:"minWidth",transform:ce}),de=(0,M.Z)({prop:"height",transform:ce}),pe=(0,M.Z)({prop:"maxHeight",transform:ce}),ve=(0,M.Z)({prop:"minHeight",transform:ce}),me=((0,M.Z)({prop:"size",cssProperty:"width",transform:ce}),(0,M.Z)({prop:"size",cssProperty:"height",transform:ce}),F(le,fe,he,de,pe,ve,(0,M.Z)({prop:"boxSizing"}))),ye=(0,M.Z)({prop:"fontFamily",themeKey:"typography"}),ge=(0,M.Z)({prop:"fontSize",themeKey:"typography"}),ke=(0,M.Z)({prop:"fontStyle",themeKey:"typography"}),be=(0,M.Z)({prop:"fontWeight",themeKey:"typography"}),we=(0,M.Z)({prop:"letterSpacing"}),xe=(0,M.Z)({prop:"textTransform"}),Ie=(0,M.Z)({prop:"lineHeight"}),_e=(0,M.Z)({prop:"textAlign"}),Se=F((0,M.Z)({prop:"typography",cssProperty:!1,themeKey:"typography"}),ye,ge,ke,be,we,Ie,_e,xe),Ee={borders:X.filterProps,display:J.filterProps,flexbox:ee.filterProps,grid:ie.filterProps,positions:ae.filterProps,palette:ue.filterProps,shadows:se.filterProps,sizing:me.filterProps,spacing:V.ZP.filterProps,typography:Se.filterProps},Te={borders:X,display:J,flexbox:ee,grid:ie,positions:ae,palette:ue,shadows:se,sizing:me,spacing:V.ZP,typography:Se};Object.keys(Ee).reduce((function(e,t){return Ee[t].forEach((function(n){e[n]=Te[t]})),e}),{});function Ce(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),i=new Set(r);return t.every((function(e){return i.size===Object.keys(e).length}))}function Ae(e,t){return"function"===typeof e?e(t):e}var Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te,t=Object.keys(e).reduce((function(t,n){return e[n].filterProps.forEach((function(r){t[r]=e[n]})),t}),{});function n(e,n,r){var i,a=(i={},(0,R.Z)(i,e,n),(0,R.Z)(i,"theme",r),i),o=t[e];return o?o(a):(0,R.Z)({},e,n)}function r(e){var i=e||{},a=i.sx,o=i.theme,u=void 0===o?{}:o;if(!a)return null;function s(e){var i=e;if("function"===typeof e)i=e(u);else if("object"!==typeof e)return e;if(!i)return null;var a=(0,j.W8)(u.breakpoints),o=Object.keys(a),s=a;return Object.keys(i).forEach((function(e){var a=Ae(i[e],u);if(null!==a&&void 0!==a)if("object"===typeof a)if(t[e])s=(0,L.Z)(s,n(e,a,u));else{var o=(0,j.k9)({theme:u},a,(function(t){return(0,R.Z)({},e,t)}));Ce(o,a)?s[e]=r({sx:a,theme:u}):s=(0,L.Z)(s,o)}else s=(0,L.Z)(s,n(e,a,u))})),(0,j.L7)(o,s)}return Array.isArray(a)?a.map(s):s(a)}return r}();Ne.filterProps=["sx"];var Oe=Ne,Pe=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],De=["theme"],Re=["theme"];function Le(e){return 0===Object.keys(e).length}function Me(e){return"string"===typeof e&&e.charCodeAt(0)>96}var Fe=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null},Ve=function(e,t){var n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);var r={};return n.forEach((function(e){var t=D(e.props);r[t]=e.style})),r},je=function(e,t,n,r){var i,a,o=e.ownerState,u=void 0===o?{}:o,s=[],c=null==n||null==(i=n.components)||null==(a=i[r])?void 0:a.variants;return c&&c.forEach((function(n){var r=!0;Object.keys(n.props).forEach((function(t){u[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)})),r&&s.push(t[D(n.props)])})),s};function Ue(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var ze=(0,A.Z)();var Ze=n(5361),Be=function(e){return Ue(e)&&"classes"!==e},qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,n=void 0===t?ze:t,u=e.rootShouldForwardProp,s=void 0===u?Ue:u,c=e.slotShouldForwardProp,l=void 0===c?Ue:c,f=e.styleFunctionSx,h=void 0===f?Oe:f,d=function(e){var t=Le(e.theme)?n:e.theme;return h((0,o.Z)({},e,{theme:t}))};return d.__mui_systemSx=!0,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};C(e,(function(e){return e.filter((function(e){return!(null!=e&&e.__mui_systemSx)}))}));var u,c=t.name,f=t.slot,h=t.skipVariantsResolver,p=t.skipSx,v=t.overridesResolver,m=(0,a.Z)(t,Pe),y=void 0!==h?h:f&&"Root"!==f||!1,g=p||!1;var k=Ue;"Root"===f?k=s:f?k=l:Me(e)&&(k=void 0);var b=T(e,(0,o.Z)({shouldForwardProp:k,label:u},m)),w=function(e){for(var t=arguments.length,u=new Array(t>1?t-1:0),s=1;s<t;s++)u[s-1]=arguments[s];var l=u?u.map((function(e){return"function"===typeof e&&e.__emotion_real!==e?function(t){var r=t.theme,i=(0,a.Z)(t,De);return e((0,o.Z)({theme:Le(r)?n:r},i))}:e})):[],f=e;c&&v&&l.push((function(e){var t=Le(e.theme)?n:e.theme,r=Fe(c,t);if(r){var a={};return Object.entries(r).forEach((function(n){var r=(0,i.Z)(n,2),u=r[0],s=r[1];a[u]="function"===typeof s?s((0,o.Z)({},e,{theme:t})):s})),v(e,a)}return null})),c&&!y&&l.push((function(e){var t=Le(e.theme)?n:e.theme;return je(e,Ve(c,t),t,c)})),g||l.push(d);var h=l.length-u.length;if(Array.isArray(e)&&h>0){var p=new Array(h).fill("");(f=[].concat((0,r.Z)(e),(0,r.Z)(p))).raw=[].concat((0,r.Z)(e.raw),(0,r.Z)(p))}else"function"===typeof e&&e.__emotion_real!==e&&(f=function(t){var r=t.theme,i=(0,a.Z)(t,Re);return e((0,o.Z)({theme:Le(r)?n:r},i))});var m=b.apply(void 0,[f].concat((0,r.Z)(l)));return m};return b.withConfig&&(w.withConfig=b.withConfig),w}}({defaultTheme:Ze.Z,rootShouldForwardProp:Be}),Ke=qe},8203:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(5735);var i=n(5080),a=n(2791);var o=a.createContext(null);function u(){return a.useContext(o)}function s(e){return 0===Object.keys(e).length}var c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=u();return!t||s(t)?e:t},l=(0,i.Z)();var f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l;return c(e)};function h(e){var t=e.props,n=e.name,i=e.defaultTheme,a=function(e){var t=e.theme,n=e.name,i=e.props;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?(0,r.Z)(t.components[n].defaultProps,i):i}({theme:f(i),name:n,props:t});return a}var d=n(5361);function p(e){return h({props:e.props,name:e.name,defaultTheme:d.Z})}},9853:function(e,t,n){"use strict";var r=n(7312);t.Z=r.Z},1245:function(e,t,n){"use strict";n.d(t,{Z:function(){return k}});var r=n(7462),i=n(2791),a=n(3366),o=n(8182),u=n(4419),s=n(9853),c=n(8203),l=n(60),f=n(5878),h=n(1217);function d(e){return(0,h.Z)("MuiSvgIcon",e)}(0,f.Z)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var p=n(184),v=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],m=(0,l.ZP)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"inherit"!==n.color&&t["color".concat((0,s.Z)(n.color))],t["fontSize".concat((0,s.Z)(n.fontSize))]]}})((function(e){var t,n,r,i,a,o,u,s,c,l,f,h,d,p,v,m,y,g=e.theme,k=e.ownerState;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:null==(t=g.transitions)||null==(n=t.create)?void 0:n.call(t,"fill",{duration:null==(r=g.transitions)||null==(i=r.duration)?void 0:i.shorter}),fontSize:{inherit:"inherit",small:(null==(a=g.typography)||null==(o=a.pxToRem)?void 0:o.call(a,20))||"1.25rem",medium:(null==(u=g.typography)||null==(s=u.pxToRem)?void 0:s.call(u,24))||"1.5rem",large:(null==(c=g.typography)||null==(l=c.pxToRem)?void 0:l.call(c,35))||"2.1875rem"}[k.fontSize],color:null!=(f=null==(h=(g.vars||g).palette)||null==(d=h[k.color])?void 0:d.main)?f:{action:null==(p=(g.vars||g).palette)||null==(v=p.action)?void 0:v.active,disabled:null==(m=(g.vars||g).palette)||null==(y=m.action)?void 0:y.disabled,inherit:void 0}[k.color]}})),y=i.forwardRef((function(e,t){var n=(0,c.Z)({props:e,name:"MuiSvgIcon"}),i=n.children,l=n.className,f=n.color,h=void 0===f?"inherit":f,y=n.component,g=void 0===y?"svg":y,k=n.fontSize,b=void 0===k?"medium":k,w=n.htmlColor,x=n.inheritViewBox,I=void 0!==x&&x,_=n.titleAccess,S=n.viewBox,E=void 0===S?"0 0 24 24":S,T=(0,a.Z)(n,v),C=(0,r.Z)({},n,{color:h,component:g,fontSize:b,instanceFontSize:e.fontSize,inheritViewBox:I,viewBox:E}),A={};I||(A.viewBox=E);var N=function(e){var t=e.color,n=e.fontSize,r=e.classes,i={root:["root","inherit"!==t&&"color".concat((0,s.Z)(t)),"fontSize".concat((0,s.Z)(n))]};return(0,u.Z)(i,d,r)}(C);return(0,p.jsxs)(m,(0,r.Z)({as:g,className:(0,o.Z)(N.root,l),focusable:"false",color:w,"aria-hidden":!_||void 0,role:_?"img":void 0,ref:t},A,T,{ownerState:C,children:[i,_?(0,p.jsx)("title",{children:_}):null]}))}));y.muiName="SvgIcon";var g=y;function k(e,t){function n(n,i){return(0,p.jsx)(g,(0,r.Z)({"data-testid":"".concat(t,"Icon"),ref:i},n,{children:e}))}return n.muiName=g.muiName,i.memo(i.forwardRef(n))}},2849:function(e,t,n){"use strict";n.r(t),n.d(t,{capitalize:function(){return i.Z},createChainedFunction:function(){return a},createSvgIcon:function(){return o.Z},debounce:function(){return u},deprecatedPropType:function(){return s},isMuiElement:function(){return f},ownerDocument:function(){return d},ownerWindow:function(){return p},requirePropFactory:function(){return v},setRef:function(){return m},unstable_ClassNameGenerator:function(){return T},unstable_useEnhancedEffect:function(){return y},unstable_useId:function(){return w},unsupportedProp:function(){return x},useControlled:function(){return I},useEventCallback:function(){return _.Z},useForkRef:function(){return S.Z},useIsFocusVisible:function(){return E.Z}});var r=n(5902),i=n(9853);var a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))},o=n(1245);var u=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];var u=function(){e.apply(r,a)};clearTimeout(t),t=setTimeout(u,n)}return r.clear=function(){clearTimeout(t)},r};var s=function(e,t){return function(){return null}},c=n(2791),l=n.t(c,2);var f=function(e,t){return c.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)};function h(e){return e&&e.ownerDocument||document}var d=h;var p=function(e){return h(e).defaultView||window};n(7462);var v=function(e,t){return function(){return null}},m=n(2971).Z,y=n(5721).Z,g=n(9439),k=0;var b=l.useId;var w=function(e){if(void 0!==b){var t=b();return null!=e?e:t}return function(e){var t=c.useState(e),n=(0,g.Z)(t,2),r=n[0],i=n[1],a=e||r;return c.useEffect((function(){null==r&&i("mui-".concat(k+=1))}),[r]),a}(e)};var x=function(e,t,n,r,i){return null};var I=function(e){var t=e.controlled,n=e.default,r=(e.name,e.state,c.useRef(void 0!==t).current),i=c.useState(n),a=(0,g.Z)(i,2),o=a[0],u=a[1];return[r?t:o,c.useCallback((function(e){r||u(e)}),[])]},_=n(6702),S=n(792),E=n(2763),T={configure:function(e){console.warn(["MUI: `ClassNameGenerator` import from `@mui/material/utils` is outdated and might cause unexpected issues.","","You should use `import { unstable_ClassNameGenerator } from '@mui/material/className'` instead","","The detail of the issue: https://github.com/mui/material-ui/issues/30011#issuecomment-1024993401","","The updated documentation: https://mui.com/guides/classname-generator/"].join("\n")),r.Z.configure(e)}}},6702:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(2791),i=n(5721);var a=function(e){var t=r.useRef(e);return(0,i.Z)((function(){t.current=e})),r.useCallback((function(){return t.current.apply(void 0,arguments)}),[])}},792:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(2791),i=n(2971);var a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.useMemo((function(){return t.every((function(e){return null==e}))?null:function(e){t.forEach((function(t){(0,i.Z)(t,e)}))}}),t)}},2763:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r,i=n(2791),a=!0,o=!1,u={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function s(e){e.metaKey||e.altKey||e.ctrlKey||(a=!0)}function c(){a=!1}function l(){"hidden"===this.visibilityState&&o&&(a=!0)}function f(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return a||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!u[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}var h=function(){var e=i.useCallback((function(e){var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",s,!0),t.addEventListener("mousedown",c,!0),t.addEventListener("pointerdown",c,!0),t.addEventListener("touchstart",c,!0),t.addEventListener("visibilitychange",l,!0))}),[]),t=i.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!f(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(o=!0,window.clearTimeout(r),r=window.setTimeout((function(){o=!1}),100),t.current=!1,!0)},ref:e}}},1184:function(e,t,n){"use strict";n.d(t,{L7:function(){return u},VO:function(){return r},W8:function(){return o},k9:function(){return a}});var r={xs:0,sm:600,md:900,lg:1200,xl:1536},i={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(r[e],"px)")}};function a(e,t,n){var a=e.theme||{};if(Array.isArray(t)){var o=a.breakpoints||i;return t.reduce((function(e,r,i){return e[o.up(o.keys[i])]=n(t[i]),e}),{})}if("object"===typeof t){var u=a.breakpoints||i;return Object.keys(t).reduce((function(e,i){if(-1!==Object.keys(u.values||r).indexOf(i)){e[u.up(i)]=n(t[i],i)}else{var a=i;e[a]=t[a]}return e}),{})}return n(t)}function o(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=null==(e=t.keys)?void 0:e.reduce((function(e,n){return e[t.up(n)]={},e}),{});return n||{}}function u(e,t){return e.reduce((function(e,t){var n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}},2065:function(e,t,n){"use strict";n.d(t,{$n:function(){return f},Fq:function(){return c},_j:function(){return l},mi:function(){return s}});var r=n(6189);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function a(e){if(e.type)return e;if("#"===e.charAt(0))return a(function(e){e=e.slice(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error((0,r.Z)(9,e));var i,o=e.substring(t+1,e.length-1);if("color"===n){if(i=(o=o.split(" ")).shift(),4===o.length&&"/"===o[3].charAt(0)&&(o[3]=o[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i))throw new Error((0,r.Z)(10,i))}else o=o.split(",");return{type:n,values:o=o.map((function(e){return parseFloat(e)})),colorSpace:i}}function o(e){var t=e.type,n=e.colorSpace,r=e.values;return-1!==t.indexOf("rgb")?r=r.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function u(e){var t="hsl"===(e=a(e)).type||"hsla"===e.type?a(function(e){var t=(e=a(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,u=r*Math.min(i,1-i),s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-u*Math.max(Math.min(t-3,9-t,1),-1)},c="rgb",l=[Math.round(255*s(0)),Math.round(255*s(8)),Math.round(255*s(4))];return"hsla"===e.type&&(c+="a",l.push(t[3])),o({type:c,values:l})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function s(e,t){var n=u(e),r=u(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function c(e,t){return e=a(e),t=i(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,o(e)}function l(e,t){if(e=a(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return o(e)}function f(e,t){if(e=a(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return o(e)}},5080:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(7462),i=n(3366),a=n(2466),o=n(4942),u=["values","unit","step"];function s(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,a=e.unit,s=void 0===a?"px":a,c=e.step,l=void 0===c?5:c,f=(0,i.Z)(e,u),h=function(e){var t=Object.keys(e).map((function(t){return{key:t,val:e[t]}}))||[];return t.sort((function(e,t){return e.val-t.val})),t.reduce((function(e,t){return(0,r.Z)({},e,(0,o.Z)({},t.key,t.val))}),{})}(n),d=Object.keys(h);function p(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(s,")")}function v(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-l/100).concat(s,")")}function m(e,t){var r=d.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(s,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[d[r]]?n[d[r]]:t)-l/100).concat(s,")")}return(0,r.Z)({keys:d,values:h,up:p,down:v,between:m,only:function(e){return d.indexOf(e)+1<d.length?m(e,d[d.indexOf(e)+1]):p(e)},not:function(e){var t=d.indexOf(e);return 0===t?p(d[1]):t===d.length-1?v(d[t]):m(e,d[d.indexOf(e)+1]).replace("@media","@media not all and")},unit:s},f)}var c={borderRadius:4},l=n(5682);function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=(0,l.hB)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=0===n.length?[1]:n;return i.map((function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}var h=["breakpoints","palette","spacing","shape"];var d=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,o=e.palette,u=void 0===o?{}:o,l=e.spacing,d=e.shape,p=void 0===d?{}:d,v=(0,i.Z)(e,h),m=s(n),y=f(l),g=(0,a.Z)({breakpoints:m,direction:"ltr",components:{},palette:(0,r.Z)({mode:"light"},u),spacing:y,shape:(0,r.Z)({},c,p)},v),k=arguments.length,b=new Array(k>1?k-1:0),w=1;w<k;w++)b[w-1]=arguments[w];return g=b.reduce((function(e,t){return(0,a.Z)(e,t)}),g)}},8247:function(e,t,n){"use strict";var r=n(2466);t.Z=function(e,t){return t?(0,r.Z)(e,t,{clone:!1}):e}},5682:function(e,t,n){"use strict";n.d(t,{hB:function(){return v},eI:function(){return p},ZP:function(){return x},NA:function(){return m}});var r=n(9439),i=n(1184),a=n(8529),o=n(8247);var u={m:"margin",p:"padding"},s={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},c={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},l=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!c[e])return[e];e=c[e]}var t=e.split(""),n=(0,r.Z)(t,2),i=n[0],a=n[1],o=u[i],l=s[a]||"";return Array.isArray(l)?l.map((function(e){return o+e})):[o+l]})),f=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],h=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],d=[].concat(f,h);function p(e,t,n,r){var i,o=null!=(i=(0,a.D)(e,t,!1))?i:n;return"number"===typeof o?function(e){return"string"===typeof e?e:o*e}:Array.isArray(o)?function(e){return"string"===typeof e?e:o[e]}:"function"===typeof o?o:function(){}}function v(e){return p(e,"spacing",8)}function m(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function y(e,t,n,r){if(-1===t.indexOf(n))return null;var a=function(e,t){return function(n){return e.reduce((function(e,r){return e[r]=m(t,n),e}),{})}}(l(n),r),o=e[n];return(0,i.k9)(e,o,a)}function g(e,t){var n=v(e.theme);return Object.keys(e).map((function(r){return y(e,t,r,n)})).reduce(o.Z,{})}function k(e){return g(e,f)}function b(e){return g(e,h)}function w(e){return g(e,d)}k.propTypes={},k.filterProps=f,b.propTypes={},b.filterProps=h,w.propTypes={},w.filterProps=d;var x=w},8529:function(e,t,n){"use strict";n.d(t,{D:function(){return o}});var r=n(4942),i=n(7312),a=n(1184);function o(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){var r="vars.".concat(t).split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e);if(null!=r)return r}return t.split(".").reduce((function(e,t){return e&&null!=e[t]?e[t]:null}),e)}function u(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:o(e,n)||i,t&&(r=t(r,i)),r}t.Z=function(e){var t=e.prop,n=e.cssProperty,s=void 0===n?e.prop:n,c=e.themeKey,l=e.transform,f=function(e){if(null==e[t])return null;var n=e[t],f=o(e.theme,c)||{};return(0,a.k9)(e,n,(function(e){var n=u(f,l,e);return e===n&&"string"===typeof e&&(n=u(f,l,"".concat(t).concat("default"===e?"":(0,i.Z)(e)),e)),!1===s?n:(0,r.Z)({},s,n)}))};return f.propTypes={},f.filterProps=[t],f}},5902:function(e,t){"use strict";var n=function(e){return e},r=function(){var e=n;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=n}}}();t.Z=r},7312:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(6189);function i(e){if("string"!==typeof e)throw new Error((0,r.Z)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},4419:function(e,t,n){"use strict";function r(e,t,n){var r={};return Object.keys(e).forEach((function(i){r[i]=e[i].reduce((function(e,r){return r&&(e.push(t(r)),n&&n[r]&&e.push(n[r])),e}),[]).join(" ")})),r}n.d(t,{Z:function(){return r}})},2466:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(7462);function i(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},o=n.clone?(0,r.Z)({},e):e;return i(e)&&i(t)&&Object.keys(t).forEach((function(r){"__proto__"!==r&&(i(t[r])&&r in e&&i(e[r])?o[r]=a(e[r],t[r],n):o[r]=t[r])})),o}},6189:function(e,t,n){"use strict";function r(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}n.d(t,{Z:function(){return r}})},1217:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(5902),i={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",a=i[t];return a?"".concat(n,"-").concat(a):"".concat(r.Z.generate(e),"-").concat(t)}},5878:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(1217);function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",i={};return t.forEach((function(t){i[t]=(0,r.Z)(e,t,n)})),i}},5735:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(7462);function i(e,t){var n=(0,r.Z)({},t);return Object.keys(e).forEach((function(t){void 0===n[t]&&(n[t]=e[t])})),n}},2971:function(e,t,n){"use strict";function r(e,t){"function"===typeof e?e(t):e&&(e.current=t)}n.d(t,{Z:function(){return r}})},5721:function(e,t,n){"use strict";var r=n(2791),i="undefined"!==typeof window?r.useLayoutEffect:r.useEffect;t.Z=i},8182:function(e,t,n){"use strict";function r(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}t.Z=function(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}},2110:function(e,t,n){"use strict";var r=n(8309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!u||!u[y])){var g=h(n,y);try{c(t,y,g)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===y)},t.typeOf=w},8309:function(e,t,n){"use strict";e.exports=n(746)},4463:function(e,t,n){"use strict";var r=n(2791),i=n(5296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var M,F=Object.assign;function V(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var j=!1;function U(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?V(e):""}function z(e){switch(e.tag){case 5:return V(e.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function Z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case I:return"Fragment";case x:return"Portal";case S:return"Profiler";case _:return"StrictMode";case A:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:Z(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return Z(e(t))}catch(n){}}return null}function B(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Z(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function H(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function X(e,t){Y(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&H(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function ae(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Ie=null,_e=null;function Se(e){if(e=ki(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Ee(e){Ie?_e?_e.push(e):_e=[e]:Ie=e}function Te(){if(Ie){var e=Ie,t=_e;if(_e=Ie=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ce(e,t){return e(t)}function Ae(){}var Ne=!1;function Oe(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ce(e,t,n)}finally{Ne=!1,(null!==Ie||null!==_e)&&(Ae(),Te())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var De=!1;if(l)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){De=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(le){De=!1}function Le(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Fe=null,Ve=!1,je=null,Ue={onError:function(e){Me=!0,Fe=e}};function ze(e,t,n,r,i,a,o,u,s){Me=!1,Fe=null,Le.apply(Ue,arguments)}function Ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Be(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(Ze(e)!==e)throw Error(a(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return qe(i),e;if(o===r)return qe(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,He=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,$e=i.unstable_requestPaint,Ye=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,It,_t,St,Et=!1,Tt=[],Ct=null,At=null,Nt=null,Ot=new Map,Pt=new Map,Dt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=Ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Be(n)))return e.blockedOn=t,void St(e.priority,(function(){It(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Vt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function jt(e,t,n){Vt(e)&&n.delete(t)}function Ut(){Et=!1,null!==Ct&&Vt(Ct)&&(Ct=null),null!==At&&Vt(At)&&(At=null),null!==Nt&&Vt(Nt)&&(Nt=null),Ot.forEach(jt),Pt.forEach(jt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function Zt(e){function t(t){return zt(t,e)}if(0<Tt.length){zt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&zt(Ct,e),null!==At&&zt(At,e),null!==Nt&&zt(Nt,e),Ot.forEach(t),Pt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Dt.shift()}var Bt=b.ReactCurrentBatchConfig,qt=!0;function Kt(e,t,n,r){var i=kt,a=Bt.transition;Bt.transition=null;try{kt=1,Gt(e,t,n,r)}finally{kt=i,Bt.transition=a}}function Wt(e,t,n,r){var i=kt,a=Bt.transition;Bt.transition=null;try{kt=4,Gt(e,t,n,r)}finally{kt=i,Bt.transition=a}}function Gt(e,t,n,r){if(qt){var i=Qt(e,t,n,r);if(null===i)qr(e,t,r,Ht,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return At=Mt(At,e,t,n,r,i),!0;case"mouseover":return Nt=Mt(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Ot.set(a,Mt(Ot.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Pt.set(a,Mt(Pt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=Qt(e,t,n,r))&&qr(e,t,r,Ht,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Ht=null;function Qt(e,t,n,r){if(Ht=null,null!==(e=gi(e=we(r))))if(null===(t=Ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Be(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ht=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Xt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Xt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=F({},cn,{view:0,detail:0}),hn=an(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(F({},dn,{dataTransfer:0})),mn=an(F({},fn,{relatedTarget:0})),yn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},In={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=In[e])&&!!t[e]}function Sn(){return _n}var En=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(En),Cn=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Nn=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=an(On),Dn=[9,13,27,32],Rn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,Fn=l&&(!Rn||Ln&&8<Ln&&11>=Ln),Vn=String.fromCharCode(32),jn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Zn=!1;var Bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Bn[e.type]:"textarea"===t}function Kn(e,t,n,r){Ee(r),0<(t=Wr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Gn=null;function Hn(e){Vr(e,0)}function Qn(e){if(G(bi(e)))return e}function $n(e,t){if("change"===e)return t}var Yn=!1;if(l){var Xn;if(l){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"===typeof er.oninput}Xn=Jn}else Xn=!1;Yn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Gn=Wn=null)}function nr(e){if("value"===e.propertyName&&Qn(Gn)){var t=[];Kn(t,Gn,e,we(e)),Oe(Hn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Gn)}function ar(e,t){if("click"===e)return Qn(t)}function or(e,t){if("input"===e||"change"===e)return Qn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=H();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=H((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==H(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Wr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Ir={},_r={};function Sr(e){if(Ir[e])return Ir[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in _r)return Ir[e]=n[t];return e}l&&(_r=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Er=Sr("animationend"),Tr=Sr("animationiteration"),Cr=Sr("animationstart"),Ar=Sr("transitionend"),Nr=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Nr.set(e,t),s(t,[e])}for(var Dr=0;Dr<Or.length;Dr++){var Rr=Or[Dr];Pr(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Pr(Er,"onAnimationEnd"),Pr(Tr,"onAnimationIteration"),Pr(Cr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(ze.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Fe;Me=!1,Fe=null,Ve||(Ve=!0,je=l)}}(r,t,void 0,e),e.currentTarget=null}function Vr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}}}if(Ve)throw e=je,Ve=!1,je=null,e}function jr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(Br(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),Br(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Zr(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Ur("selectionchange",!1,t))}}function Br(e,t,n,r){switch($t(t)){case 1:var i=Kt;break;case 4:i=Wt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Oe((function(){var r=a,i=we(n),o=[];e:{var u=Nr.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=An;break;case Er:case Tr:case Cr:s=yn;break;case Ar:s=Nn;break;case"scroll":s=hn;break;case"wheel":s=Pn;break;case"copy":case"cut":case"paste":s=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Pe(p,h))&&l.push(Kr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=Ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:bi(s),d=null==c?u:bi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Gr(d))p++;for(d=0,v=h;v;v=Gr(v))d++;for(;0<p-d;)l=Gr(l),p--;for(;0<d-p;)h=Gr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Gr(l),h=Gr(h)}l=null}else l=null;null!==s&&Hr(o,u,s,l,!1),null!==c&&null!==f&&Hr(o,f,c,l,!0)}if("select"===(s=(u=r?bi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=$n;else if(qn(u))if(Yn)m=or;else{m=ir;var y=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Kn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?bi(r):window,e){case"focusin":(qn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(Rn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Zn?Un(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Fn&&"ko"!==n.locale&&(Zn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Zn&&(g=en()):(Xt="value"in(Yt=i)?Yt.value:Yt.textContent,Zn=!0)),0<(y=Wr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=zn(n))&&(k.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(jn=!0,Vn);case"textInput":return(e=t.data)===Vn&&jn?null:e;default:return null}}(e,n):function(e,t){if(Zn)return"compositionend"===e||!Rn&&Un(e,t)?(e=en(),Jt=Xt=Yt=null,Zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Vr(o,t)}))}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Pe(e,n))&&r.unshift(Kr(e,a,i)),null!=(a=Pe(e,t))&&r.push(Kr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Hr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Pe(n,a))&&o.unshift(Kr(n,s,u)):i||null!=(s=Pe(n,a))&&o.push(Kr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Qr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace($r,"")}function Xr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(a(425))}function Jr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],Ii=-1;function _i(e){return{current:e}}function Si(e){0>Ii||(e.current=xi[Ii],xi[Ii]=null,Ii--)}function Ei(e,t){Ii++,xi[Ii]=e.current,e.current=t}var Ti={},Ci=_i(Ti),Ai=_i(!1),Ni=Ti;function Oi(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){Si(Ai),Si(Ci)}function Ri(e,t,n){if(Ci.current!==Ti)throw Error(a(168));Ei(Ci,t),Ei(Ai,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,B(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ni=Ci.current,Ei(Ci,e),Ei(Ai,Ai.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Si(Ai),Si(Ci),Ei(Ci,e)):Si(Ai),Ei(Ai,n)}var Vi=null,ji=!1,Ui=!1;function zi(e){null===Vi?Vi=[e]:Vi.push(e)}function Zi(){if(!Ui&&null!==Vi){Ui=!0;var e=0,t=kt;try{var n=Vi;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Vi=null,ji=!1}catch(i){throw null!==Vi&&(Vi=Vi.slice(e+1)),Ge(Je,Zi),i}finally{kt=t,Ui=!1}}return null}var Bi=[],qi=0,Ki=null,Wi=0,Gi=[],Hi=0,Qi=null,$i=1,Yi="";function Xi(e,t){Bi[qi++]=Wi,Bi[qi++]=Ki,Ki=e,Wi=t}function Ji(e,t,n){Gi[Hi++]=$i,Gi[Hi++]=Yi,Gi[Hi++]=Qi,Qi=e;var r=$i;e=Yi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$i=1<<32-ot(t)+i|n<<i|r,Yi=a+e}else $i=1<<a|n<<i|r,Yi=e}function ea(e){null!==e.return&&(Xi(e,1),Ji(e,1,0))}function ta(e){for(;e===Ki;)Ki=Bi[--qi],Bi[qi]=null,Wi=Bi[--qi],Bi[qi]=null;for(;e===Qi;)Qi=Gi[--Hi],Gi[Hi]=null,Yi=Gi[--Hi],Gi[Hi]=null,$i=Gi[--Hi],Gi[Hi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Oc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:$i,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Oc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=_i(null),ga=null,ka=null,ba=null;function wa(){ba=ka=ga=null}function xa(e){var t=ya.current;Si(ya),e._currentValue=t}function Ia(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function _a(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bu=!0),e.firstContext=null)}function Sa(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Ea=null;function Ta(e){null===Ea?Ea=[e]:Ea.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Aa(e,r)}function Aa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Na=!1;function Oa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Da(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ra(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cs)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Aa(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Aa(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Na=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Na=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ms|=o,e.lanes=o,e.memoizedState=f}}function Va(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var ja=(new r.Component).refs;function Ua(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var za={isMounted:function(e){return!!(e=e._reactInternals)&&Ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Da(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ra(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Da(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ra(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Da(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ra(e,i,r))&&(nc(t,e,r,n),La(t,e,r))}};function Za(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function Ba(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Sa(a):(i=Pi(t)?Ni:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oi(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=za,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function qa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&za.enqueueReplaceState(t,t.state,null)}function Ka(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ja,Oa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Sa(a):(a=Pi(t)?Ni:Ci.current,i.context=Oi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ua(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&za.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Wa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===ja&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ha(e){return(0,e._init)(e._payload)}function Qa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===I?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===P&&Ha(a)===t.type)?((r=i(t,n.props)).ref=Wa(e,t,n),r.return=e,r):((r=Rc(n.type,n.key,n.props,null,e.mode,r)).ref=Wa(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Rc(t.type,t.key,t.props,null,e.mode,n)).ref=Wa(e,null,t),n.return=e,n;case x:return(t=Vc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Ga(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case P:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ga(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ga(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),ia&&Xi(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Xi(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Xi(i,v),c}function m(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),ia&&Xi(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return ia&&Xi(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Xi(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===I&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===I){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&Ha(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Wa(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===I?((a=Lc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Rc(o.type,o.key,o.props,null,r.mode,s)).ref=Wa(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Vc(o,r.mode,s)).return=r,r=a}return u(r);case P:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(L(o))return m(r,a,o,s);Ga(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var $a=Qa(!0),Ya=Qa(!1),Xa={},Ja=_i(Xa),eo=_i(Xa),to=_i(Xa);function no(e){if(e===Xa)throw Error(a(174));return e}function ro(e,t){switch(Ei(to,t),Ei(eo,e),Ei(Ja,Xa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si(Ja),Ei(Ja,t)}function io(){Si(Ja),Si(eo),Si(to)}function ao(e){no(to.current);var t=no(Ja.current),n=se(t,e.type);t!==n&&(Ei(eo,e),Ei(Ja,n))}function oo(e){eo.current===e&&(Si(Ja),Si(eo))}var uo=_i(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,ko=!1,bo=0,wo=0;function xo(){throw Error(a(321))}function Io(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function _o(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(ko)}if(fo.current=ou,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function So(){var e=0!==bo;return bo=0,e}function Eo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function To(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Co(e,t){return"function"===typeof t?t(e):t}function Ao(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,vo.lanes|=f,Ms|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(bu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Ms|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function No(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(bu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Oo(){}function Po(e,t){var n=vo,r=To(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,bu=!0),r=r.queue,qo(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,jo(9,Ro.bind(null,n,r,i,t),void 0,null),null===As)throw Error(a(349));0!==(30&po)||Do(n,t,i)}return i}function Do(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ro(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Fo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&Fo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Fo(e){var t=Aa(e,1);null!==t&&nc(t,e,1,-1)}function Vo(e){var t=Eo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function jo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Uo(){return To().memoizedState}function zo(e,t,n,r){var i=Eo();vo.flags|=e,i.memoizedState=jo(1|t,n,void 0,void 0===r?null:r)}function Zo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&Io(r,o.deps))return void(i.memoizedState=jo(t,n,a,r))}vo.flags|=e,i.memoizedState=jo(1|t,n,a,r)}function Bo(e,t){return zo(8390656,8,e,t)}function qo(e,t){return Zo(2048,8,e,t)}function Ko(e,t){return Zo(4,2,e,t)}function Wo(e,t){return Zo(4,4,e,t)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ho(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Zo(4,4,Go.bind(null,t,e),n)}function Qo(){}function $o(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Io(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Yo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Io(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Ms|=n,e.baseState=!0),t)}function Jo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function eu(){return To().memoizedState}function tu(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ca(e,t,n,r))){nc(n,e,r,ec()),au(n,t,r)}}function nu(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ta(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(nc(n,e,r,i=ec()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:Sa,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},uu={readContext:Sa,useCallback:function(e,t){return Eo().memoizedState=[e,void 0===t?null:t],e},useContext:Sa,useEffect:Bo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var n=Eo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Eo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Eo().memoizedState=e},useState:Vo,useDebugValue:Qo,useDeferredValue:function(e){return Eo().memoizedState=e},useTransition:function(){var e=Vo(!1),t=e[0];return e=Jo.bind(null,e[1]),Eo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Eo();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===As)throw Error(a(349));0!==(30&po)||Do(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Bo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,jo(9,Ro.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Eo(),t=As.identifierPrefix;if(ia){var n=Yi;t=":"+t+"R"+(n=($i&~(1<<32-ot($i)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Sa,useCallback:$o,useContext:Sa,useEffect:qo,useImperativeHandle:Ho,useInsertionEffect:Ko,useLayoutEffect:Wo,useMemo:Yo,useReducer:Ao,useRef:Uo,useState:function(){return Ao(Co)},useDebugValue:Qo,useDeferredValue:function(e){return Xo(To(),mo.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],To().memoizedState]},useMutableSource:Oo,useSyncExternalStore:Po,useId:eu,unstable_isNewReconciler:!1},cu={readContext:Sa,useCallback:$o,useContext:Sa,useEffect:qo,useImperativeHandle:Ho,useInsertionEffect:Ko,useLayoutEffect:Wo,useMemo:Yo,useReducer:No,useRef:Uo,useState:function(){return No(Co)},useDebugValue:Qo,useDeferredValue:function(e){var t=To();return null===mo?t.memoizedState=e:Xo(t,mo.memoizedState,e)},useTransition:function(){return[No(Co)[0],To().memoizedState]},useMutableSource:Oo,useSyncExternalStore:Po,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var du="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Da(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){qs||(qs=!0,Ks=r),hu(0,t)},n}function vu(e,t,n){(n=Da(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hu(0,t),"function"!==typeof r&&(null===Ws?Ws=new Set([this]):Ws.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function yu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Da(-1,1)).tag=2,Ra(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ku=b.ReactCurrentOwner,bu=!1;function wu(e,t,n,r){t.child=null===e?Ya(t,null,n,r):$a(t,e.child,n,r)}function xu(e,t,n,r,i){n=n.render;var a=t.ref;return _a(t,i),r=_o(e,t,n,r,a,i),n=So(),null===e||bu?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qu(e,t,i))}function Iu(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Pc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Rc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,_u(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return qu(e,t,i)}return t.flags|=1,(e=Dc(a,r)).ref=t.ref,e.return=t,t.child=e}function _u(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(bu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,qu(e,t,i);0!==(131072&e.flags)&&(bu=!0)}}return Tu(e,t,n,r,i)}function Su(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Ds,Ps),Ps|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Ds,Ps),Ps|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ei(Ds,Ps),Ps|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ei(Ds,Ps),Ps|=r;return wu(e,t,i,n),t.child}function Eu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tu(e,t,n,r,i){var a=Pi(n)?Ni:Ci.current;return a=Oi(t,a),_a(t,i),n=_o(e,t,n,r,a,i),r=So(),null===e||bu?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qu(e,t,i))}function Cu(e,t,n,r,i){if(Pi(n)){var a=!0;Mi(t)}else a=!1;if(_a(t,i),null===t.stateNode)Bu(e,t),Ba(t,n,r),Ka(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Sa(c):c=Oi(t,c=Pi(n)?Ni:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&qa(t,o,r,c),Na=!1;var h=t.memoizedState;o.state=h,Fa(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ai.current||Na?("function"===typeof l&&(Ua(t,n,l,r),s=t.memoizedState),(u=Na||Za(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Pa(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ma(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Sa(s):s=Oi(t,s=Pi(n)?Ni:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&qa(t,o,r,s),Na=!1,h=t.memoizedState,o.state=h,Fa(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ai.current||Na?("function"===typeof d&&(Ua(t,n,d,r),p=t.memoizedState),(c=Na||Za(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Au(e,t,n,r,a,i)}function Au(e,t,n,r,i,a){Eu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),qu(e,t,a);r=t.stateNode,ku.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=$a(t,e.child,null,a),t.child=$a(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Nu(e){var t=e.stateNode;t.pendingContext?Ri(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ri(0,t.context,!1),ro(e,t.containerInfo)}function Ou(e,t,n,r,i){return da(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Pu,Du,Ru,Lu={dehydrated:null,treeContext:null,retryLane:0};function Mu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fu(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ei(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Mc(s,i,0,null),e=Lc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Mu(n),t.memoizedState=Lu,e):Vu(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,ju(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(o=Lc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&$a(t,e.child,null,u),t.child.memoizedState=Mu(u),t.memoizedState=Lu,o);if(0===(1&t.mode))return ju(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,ju(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),bu||s){if(null!==(r=As)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Aa(e,i),nc(r,e,i,-1))}return vc(),ju(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Gi[Hi++]=$i,Gi[Hi++]=Yi,Gi[Hi++]=Qi,$i=e.id,Yi=e.overflow,Qi=t),(t=Vu(t,r.children)).flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Dc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Dc(r,u):(u=Lc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Mu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Lu,i}return e=(u=e.child).sibling,i=Dc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Vu(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function ju(e,t,n,r){return null!==r&&pa(r),$a(t,e.child,null,n),(e=Vu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Uu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ia(e.return,t,n)}function zu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Zu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Uu(e,n,t);else if(19===e.tag)Uu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zu(t,!0,n,null,a);break;case"together":zu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Bu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ms|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ku(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Wu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wu(t),null;case 1:case 17:return Pi(t.type)&&Di(),Wu(t),null;case 3:return r=t.stateNode,io(),Si(Ai),Si(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Wu(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Du(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Wu(t),null}if(e=no(Ja.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":$(r,o),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},jr("invalid",r);break;case"textarea":ie(r,o),jr("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&jr("scroll",r)}switch(n){case"input":W(r),J(r,o,!0);break;case"textarea":W(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Jr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,Pu(e,t),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":jr("cancel",e),jr("close",e),i=r;break;case"iframe":case"object":case"embed":jr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],e);i=r;break;case"source":jr("error",e),i=r;break;case"img":case"image":case"link":jr("error",e),jr("load",e),i=r;break;case"details":jr("toggle",e),i=r;break;case"input":$(e,r),i=Q(e,r),jr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),jr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),jr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&jr("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":W(e),J(e,r,!1);break;case"textarea":W(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Wu(t),null;case 6:if(e&&null!=t.stateNode)Ru(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Ja.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Wu(t),null;case 13:if(Si(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Wu(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Rs&&(Rs=3):vc())),null!==t.updateQueue&&(t.flags|=4),Wu(t),null);case 4:return io(),null===e&&Zr(t.stateNode.containerInfo),Wu(t),null;case 10:return xa(t.type._context),Wu(t),null;case 19:if(Si(uo),null===(o=t.memoizedState))return Wu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Ku(o,!1);else{if(0!==Rs||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Ku(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Ye()>Zs&&(t.flags|=128,r=!0,Ku(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ku(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Wu(t),null}else 2*Ye()-o.renderingStartTime>Zs&&1073741824!==n&&(t.flags|=128,r=!0,Ku(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ye(),t.sibling=null,n=uo.current,Ei(uo,r?1&n|2:1&n),t):(Wu(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ps)&&(Wu(t),6&t.subtreeFlags&&(t.flags|=8192)):Wu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Hu(e,t){switch(ta(t),t.tag){case 1:return Pi(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Si(Ai),Si(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Si(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(uo),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Pu=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Du=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Ja.current);var a,o=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&jr("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Ru=function(e,t,n,r){n!==r&&(t.flags|=4)};var Qu=!1,$u=!1,Yu="function"===typeof WeakSet?WeakSet:Set,Xu=null;function Ju(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){_c(e,t,r)}else n.current=null}function es(e,t,n){try{n()}catch(r){_c(e,t,r)}}var ts=!1;function ns(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&es(t,n,a)}i=i.next}while(i!==r)}}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function is(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function as(e){var t=e.alternate;null!==t&&(e.alternate=null,as(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function os(e){return 5===e.tag||3===e.tag||4===e.tag}function us(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||os(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ss(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(ss(e,t,n),e=e.sibling;null!==e;)ss(e,t,n),e=e.sibling}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}var ls=null,fs=!1;function hs(e,t,n){for(n=n.child;null!==n;)ds(e,t,n),n=n.sibling}function ds(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:$u||Ju(n,t);case 6:var r=ls,i=fs;ls=null,hs(e,t,n),fs=i,null!==(ls=r)&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ls.removeChild(n.stateNode));break;case 18:null!==ls&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),Zt(e)):si(ls,n.stateNode));break;case 4:r=ls,i=fs,ls=n.stateNode.containerInfo,fs=!0,hs(e,t,n),ls=r,fs=i;break;case 0:case 11:case 14:case 15:if(!$u&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&es(n,t,o),i=i.next}while(i!==r)}hs(e,t,n);break;case 1:if(!$u&&(Ju(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){_c(n,t,u)}hs(e,t,n);break;case 21:hs(e,t,n);break;case 22:1&n.mode?($u=(r=$u)||null!==n.memoizedState,hs(e,t,n),$u=r):hs(e,t,n);break;default:hs(e,t,n)}}function ps(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Yu),t.forEach((function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:ls=s.stateNode,fs=!1;break e;case 3:case 4:ls=s.stateNode.containerInfo,fs=!0;break e}s=s.return}if(null===ls)throw Error(a(160));ds(o,u,i),ls=null,fs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){_c(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ms(t,e),t=t.sibling}function ms(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vs(t,e),ys(e),4&r){try{ns(3,e,e.return),rs(3,e)}catch(m){_c(e,e.return,m)}try{ns(5,e,e.return)}catch(m){_c(e,e.return,m)}}break;case 1:vs(t,e),ys(e),512&r&&null!==n&&Ju(n,n.return);break;case 5:if(vs(t,e),ys(e),512&r&&null!==n&&Ju(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){_c(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&Y(i,o),ke(s,u);var l=ke(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(s){case"input":X(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){_c(e,e.return,m)}}break;case 6:if(vs(t,e),ys(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){_c(e,e.return,m)}}break;case 3:if(vs(t,e),ys(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Zt(t.containerInfo)}catch(m){_c(e,e.return,m)}break;case 4:default:vs(t,e),ys(e);break;case 13:vs(t,e),ys(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(zs=Ye())),4&r&&ps(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?($u=(l=$u)||f,vs(t,e),$u=l):vs(t,e),ys(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Xu=e,f=e.child;null!==f;){for(h=Xu=f;null!==Xu;){switch(p=(d=Xu).child,d.tag){case 0:case 11:case 14:case 15:ns(4,d,d.return);break;case 1:Ju(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){_c(r,n,m)}}break;case 5:Ju(d,d.return);break;case 22:if(null!==d.memoizedState){ws(h);continue}}null!==p?(p.return=d,Xu=p):ws(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(m){_c(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){_c(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vs(t,e),ys(e),4&r&&ps(e);case 21:}}function ys(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(os(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cs(e,us(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ss(e,us(e),o);break;default:throw Error(a(161))}}catch(u){_c(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gs(e,t,n){Xu=e,ks(e,t,n)}function ks(e,t,n){for(var r=0!==(1&e.mode);null!==Xu;){var i=Xu,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Qu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||$u;u=Qu;var c=$u;if(Qu=o,($u=s)&&!c)for(Xu=i;null!==Xu;)s=(o=Xu).child,22===o.tag&&null!==o.memoizedState?xs(i):null!==s?(s.return=o,Xu=s):xs(i);for(;null!==a;)Xu=a,ks(a,t,n),a=a.sibling;Xu=i,Qu=u,$u=c}bs(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Xu=a):bs(e)}}function bs(e){for(;null!==Xu;){var t=Xu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$u||rs(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$u)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Va(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Va(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Zt(h)}}}break;default:throw Error(a(163))}$u||512&t.flags&&is(t)}catch(d){_c(t,t.return,d)}}if(t===e){Xu=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xu=n;break}Xu=t.return}}function ws(e){for(;null!==Xu;){var t=Xu;if(t===e){Xu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xu=n;break}Xu=t.return}}function xs(e){for(;null!==Xu;){var t=Xu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rs(4,t)}catch(s){_c(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){_c(t,i,s)}}var a=t.return;try{is(t)}catch(s){_c(t,a,s)}break;case 5:var o=t.return;try{is(t)}catch(s){_c(t,o,s)}}}catch(s){_c(t,t.return,s)}if(t===e){Xu=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Xu=u;break}Xu=t.return}}var Is,_s=Math.ceil,Ss=b.ReactCurrentDispatcher,Es=b.ReactCurrentOwner,Ts=b.ReactCurrentBatchConfig,Cs=0,As=null,Ns=null,Os=0,Ps=0,Ds=_i(0),Rs=0,Ls=null,Ms=0,Fs=0,Vs=0,js=null,Us=null,zs=0,Zs=1/0,Bs=null,qs=!1,Ks=null,Ws=null,Gs=!1,Hs=null,Qs=0,$s=0,Ys=null,Xs=-1,Js=0;function ec(){return 0!==(6&Cs)?Ye():-1!==Xs?Xs:Xs=Ye()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Cs)&&0!==Os?Os&-Os:null!==va.transition?(0===Js&&(Js=vt()),Js):0!==(e=kt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function nc(e,t,n,r){if(50<$s)throw $s=0,Ys=null,Error(a(185));yt(e,n,r),0!==(2&Cs)&&e===As||(e===As&&(0===(2&Cs)&&(Fs|=n),4===Rs&&uc(e,Os)),rc(e,r),1===n&&0===Cs&&0===(1&t.mode)&&(Zs=Ye()+500,ji&&Zi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===As?Os:0);if(0===r)null!==n&&He(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&He(n),1===t)0===e.tag?function(e){ji=!0,zi(e)}(sc.bind(null,e)):zi(sc.bind(null,e)),oi((function(){0===(6&Cs)&&Zi()})),n=null;else{switch(bt(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ac(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Xs=-1,Js=0,0!==(6&Cs))throw Error(a(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=ht(e,e===As?Os:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var i=Cs;Cs|=2;var o=pc();for(As===e&&Os===t||(Bs=null,Zs=Ye()+500,hc(e,t));;)try{gc();break}catch(s){dc(e,s)}wa(),Ss.current=o,Cs=i,null!==Ns?t=0:(As=null,Os=0,t=Rs)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Ls,hc(e,0),uc(e,r),rc(e,Ye()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ac(e,o))),1===t))throw n=Ls,hc(e,0),uc(e,r),rc(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,Us,Bs);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=zs+500-Ye())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Us,Bs),t);break}wc(e,Us,Bs);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_s(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Us,Bs),r);break}wc(e,Us,Bs);break;default:throw Error(a(329))}}}return rc(e,Ye()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=js;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=Us,Us=n,null!==t&&oc(t)),e}function oc(e){null===Us?Us=e:Us.push.apply(Us,e)}function uc(e,t){for(t&=~Vs,t&=~Fs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function sc(e){if(0!==(6&Cs))throw Error(a(327));xc();var t=ht(e,0);if(0===(1&t))return rc(e,Ye()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Ls,hc(e,0),uc(e,t),rc(e,Ye()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Us,Bs),rc(e,Ye()),null}function cc(e,t){var n=Cs;Cs|=1;try{return e(t)}finally{0===(Cs=n)&&(Zs=Ye()+500,ji&&Zi())}}function lc(e){null!==Hs&&0===Hs.tag&&0===(6&Cs)&&xc();var t=Cs;Cs|=1;var n=Ts.transition,r=kt;try{if(Ts.transition=null,kt=1,e)return e()}finally{kt=r,Ts.transition=n,0===(6&(Cs=t))&&Zi()}}function fc(){Ps=Ds.current,Si(Ds)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ns)for(n=Ns.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:io(),Si(Ai),Si(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Si(uo);break;case 10:xa(r.type._context);break;case 22:case 23:fc()}n=n.return}if(As=e,Ns=e=Dc(e.current,null),Os=Ps=t,Rs=0,Ls=null,Vs=Fs=Ms=0,Us=js=null,null!==Ea){for(t=0;t<Ea.length;t++)if(null!==(r=(n=Ea[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ea=null}return e}function dc(e,t){for(;;){var n=Ns;try{if(wa(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,ko=!1,bo=0,Es.current=null,null===n||null===n.return){Rs=1,Ls=t,Ns=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Os,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=yu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&mu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){mu(o,l,t),vc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var y=yu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gu(y,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Rs&&(Rs=2),null===js?js=[o]:js.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,pu(0,c,t));break e;case 1:s=c;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Ws||!Ws.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}bc(n)}catch(b){t=b,Ns===n&&null!==n&&(Ns=n=n.return);continue}break}}function pc(){var e=Ss.current;return Ss.current=ou,null===e?ou:e}function vc(){0!==Rs&&3!==Rs&&2!==Rs||(Rs=4),null===As||0===(268435455&Ms)&&0===(268435455&Fs)||uc(As,Os)}function mc(e,t){var n=Cs;Cs|=2;var r=pc();for(As===e&&Os===t||(Bs=null,hc(e,t));;)try{yc();break}catch(i){dc(e,i)}if(wa(),Cs=n,Ss.current=r,null!==Ns)throw Error(a(261));return As=null,Os=0,Rs}function yc(){for(;null!==Ns;)kc(Ns)}function gc(){for(;null!==Ns&&!Qe();)kc(Ns)}function kc(e){var t=Is(e.alternate,e,Ps);e.memoizedProps=e.pendingProps,null===t?bc(e):Ns=t,Es.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gu(n,t,Ps)))return void(Ns=n)}else{if(null!==(n=Hu(n,t)))return n.flags&=32767,void(Ns=n);if(null===e)return Rs=6,void(Ns=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ns=t);Ns=t=e}while(null!==t);0===Rs&&(Rs=5)}function wc(e,t,n){var r=kt,i=Ts.transition;try{Ts.transition=null,kt=1,function(e,t,n,r){do{xc()}while(null!==Hs);if(0!==(6&Cs))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===As&&(Ns=As=null,Os=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gs||(Gs=!0,Ac(tt,(function(){return xc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Ts.transition,Ts.transition=null;var u=kt;kt=1;var s=Cs;Cs|=4,Es.current=null,function(e,t){if(ei=qt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},qt=!1,Xu=t;null!==Xu;)if(e=(t=Xu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xu=e;else for(;null!==Xu;){t=Xu;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){_c(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Xu=e;break}Xu=t.return}v=ts,ts=!1}(e,n),ms(n,e),pr(ti),qt=!!ei,ti=ei=null,e.current=n,gs(n,e,i),$e(),Cs=s,kt=u,Ts.transition=o}else e.current=n;if(Gs&&(Gs=!1,Hs=e,Qs=i),0===(o=e.pendingLanes)&&(Ws=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(qs)throw qs=!1,e=Ks,Ks=null,e;0!==(1&Qs)&&0!==e.tag&&xc(),0!==(1&(o=e.pendingLanes))?e===Ys?$s++:($s=0,Ys=e):$s=0,Zi()}(e,t,n,r)}finally{Ts.transition=i,kt=r}return null}function xc(){if(null!==Hs){var e=bt(Qs),t=Ts.transition,n=kt;try{if(Ts.transition=null,kt=16>e?16:e,null===Hs)var r=!1;else{if(e=Hs,Hs=null,Qs=0,0!==(6&Cs))throw Error(a(331));var i=Cs;for(Cs|=4,Xu=e.current;null!==Xu;){var o=Xu,u=o.child;if(0!==(16&Xu.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Xu=l;null!==Xu;){var f=Xu;switch(f.tag){case 0:case 11:case 15:ns(8,f,o)}var h=f.child;if(null!==h)h.return=f,Xu=h;else for(;null!==Xu;){var d=(f=Xu).sibling,p=f.return;if(as(f),f===l){Xu=null;break}if(null!==d){d.return=p,Xu=d;break}Xu=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Xu=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Xu=u;else e:for(;null!==Xu;){if(0!==(2048&(o=Xu).flags))switch(o.tag){case 0:case 11:case 15:ns(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Xu=g;break e}Xu=o.return}}var k=e.current;for(Xu=k;null!==Xu;){var b=(u=Xu).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,Xu=b;else e:for(u=k;null!==Xu;){if(0!==(2048&(s=Xu).flags))try{switch(s.tag){case 0:case 11:case 15:rs(9,s)}}catch(x){_c(s,s.return,x)}if(s===u){Xu=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Xu=w;break e}Xu=s.return}}if(Cs=i,Zi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{kt=n,Ts.transition=t}}return!1}function Ic(e,t,n){e=Ra(e,t=pu(0,t=lu(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function _c(e,t,n){if(3===e.tag)Ic(e,e,n);else for(;null!==t;){if(3===t.tag){Ic(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ws||!Ws.has(r))){t=Ra(t,e=vu(t,e=lu(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,As===e&&(Os&n)===n&&(4===Rs||3===Rs&&(130023424&Os)===Os&&500>Ye()-zs?hc(e,0):Vs|=n),rc(e,t)}function Ec(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Aa(e,t))&&(yt(e,t,n),rc(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ec(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Ec(e,n)}function Ac(e,t){return Ge(e,t)}function Nc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,n,r){return new Nc(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Pc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case I:return Lc(n.children,i,o,t);case _:u=8,i|=8;break;case S:return(e=Oc(12,n,t,2|i)).elementType=S,e.lanes=o,e;case A:return(e=Oc(13,n,t,i)).elementType=A,e.lanes=o,e;case N:return(e=Oc(19,n,t,i)).elementType=N,e.lanes=o,e;case D:return Mc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:u=10;break e;case T:u=9;break e;case C:u=11;break e;case O:u=14;break e;case P:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Oc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Lc(e,t,n,r){return(e=Oc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Oc(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Oc(6,e,null,t)).lanes=n,e}function Vc(e,t,n){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,i,a,o,u,s){return e=new jc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Oc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oa(a),e}function zc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Zc(e){if(!e)return Ti;e:{if(Ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Li(e,n,t)}return t}function Bc(e,t,n,r,i,a,o,u,s){return(e=Uc(n,r,!0,e,0,a,0,u,s)).context=Zc(null),n=e.current,(a=Da(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Ra(n,a,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function qc(e,t,n,r){var i=t.current,a=ec(),o=tc(i);return n=Zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Da(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ra(i,t,o))&&(nc(e,i,o,a),La(e,i,o)),o}function Kc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}Is=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)bu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bu=!1,function(e,t,n){switch(t.tag){case 3:Nu(t),da();break;case 5:ao(t);break;case 1:Pi(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fu(e,t,n):(Ei(uo,1&uo.current),null!==(e=qu(e,t,n))?e.sibling:null);Ei(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Zu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Su(e,t,n)}return qu(e,t,n)}(e,t,n);bu=0!==(131072&e.flags)}else bu=!1,ia&&0!==(1048576&t.flags)&&Ji(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Bu(e,t),e=t.pendingProps;var i=Oi(t,Ci.current);_a(t,n),i=_o(null,t,r,e,i,n);var o=So();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Oa(t),i.updater=za,t.stateNode=i,i._reactInternals=t,Ka(t,r,e,n),t=Au(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Bu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===O)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Tu(null,t,r,e,n);break e;case 1:t=Cu(null,t,r,e,n);break e;case 11:t=xu(null,t,r,e,n);break e;case 14:t=Iu(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Tu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Nu(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Pa(e,t),Fa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ou(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Ou(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ya(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=qu(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Eu(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Fu(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$a(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ei(ya,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ai.current){t=qu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Da(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Ia(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),Ia(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,_a(t,n),r=r(i=Sa(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),Iu(e,t,r,i=ma(r.type,i),n);case 15:return _u(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Bu(e,t),t.tag=1,Pi(r)?(e=!0,Mi(t)):e=!1,_a(t,n),Ba(t,r,i),Ka(t,r,i,n),Au(null,t,r,!0,e,n);case 19:return Zu(e,t,n);case 22:return Su(e,t,n)}throw Error(a(156,t.tag))};var Hc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Kc(o);u.call(e)}}qc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Kc(o);a.call(e)}}var o=Bc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=o,e[pi]=o.current,Zr(8===e.nodeType?e.parentNode:e),lc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Kc(s);u.call(e)}}var s=Uc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=s,e[pi]=s.current,Zr(8===e.nodeType?e.parentNode:e),lc((function(){qc(t,s,n,r)})),s}(n,t,e,i,r);return Kc(o)}$c.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));qc(e,t,null,null)},$c.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){qc(null,e,null,null)})),t[pi]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=_t();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),rc(t,Ye()),0===(6&Cs)&&(Zs=Ye()+500,Zi()))}break;case 13:lc((function(){var t=Aa(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Gc(e,1)}},xt=function(e){if(13===e.tag){var t=Aa(e,134217728);if(null!==t)nc(t,e,134217728,ec());Gc(e,134217728)}},It=function(e){if(13===e.tag){var t=tc(e),n=Aa(e,t);if(null!==n)nc(n,e,t,ec());Gc(e,t)}},_t=function(){return kt},St=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},xe=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));G(r),X(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=cc,Ae=lc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,Ee,Te,cc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(a(200));return zc(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(a(299));var n=!1,r="",i=Hc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Zr(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Hc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=Bc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,Zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $c(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(a(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:function(e,t,n){"use strict";var r=n(4164);t.s=r.createRoot,r.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},8459:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case u:case o:case h:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case v:case p:case s:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},6900:function(e,t,n){"use strict";n(8459)},6374:function(e,t,n){"use strict";var r=n(2791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,I={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!_.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:I.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),A(o,t,i,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=A(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=A(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function N(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},D={transition:null},R={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:D,ReactCurrentOwner:I};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=I.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!_.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,D(x);else{var t=r(l);null!==t&&R(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,g(E),E=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!A());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&R(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var I,_=!1,S=null,E=-1,T=5,C=-1;function A(){return!(t.unstable_now()-C<T)}function N(){if(null!==S){var e=t.unstable_now();C=e;var n=!0;try{n=S(!0,e)}finally{n?I():(_=!1,S=null)}}else _=!1}if("function"===typeof k)I=function(){k(N)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,P=O.port2;O.port1.onmessage=N,I=function(){P.postMessage(null)}}else I=function(){y(N,0)};function D(e){S=e,_||(_=!0,I())}function R(e,n){E=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,D(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(E),E=-1):m=!0,R(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,D(x))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},1561:function(e,t,n){"use strict";var r=n(2791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,o=r.useEffect,u=r.useLayoutEffect,s=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var l="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,l=r[1];return u((function(){i.value=n,i.getSnapshot=t,c(i)&&l({inst:i})}),[e,n,t]),o((function(){return c(i)&&l({inst:i}),e((function(){c(i)&&l({inst:i})}))}),[e]),s(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},7595:function(e,t,n){"use strict";var r=n(2791),i=n(7248);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=i.useSyncExternalStore,u=r.useRef,s=r.useEffect,c=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var f=u(null);if(null===f.current){var h={hasValue:!1,value:null};f.current=h}else h=f.current;f=c((function(){function e(e){if(!s){if(s=!0,o=e,e=r(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return u=t}return u=e}if(t=u,a(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(o=e,u=n)}var o,u,s=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var d=o(e,f[0],f[1]);return s((function(){h.hasValue=!0,h.value=d}),[d]),l(d),d}},7248:function(e,t,n){"use strict";e.exports=n(1561)},327:function(e,t,n){"use strict";e.exports=n(7595)},4836:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},3878:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{Z:function(){return r}})},4942:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},7462:function(e,t,n){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:function(){return r}})},9199:function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return r}})},5267:function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return r}})},3366:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,{Z:function(){return r}})},9439:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(3878);var i=n(181),a=n(5267);function o(e,t){return(0,r.Z)(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||(0,i.Z)(e,t)||(0,a.Z)()}},3433:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(907);var i=n(9199),a=n(181);function o(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,i.Z)(e)||(0,a.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(907);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".99d7d29e.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="legendary-cord:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var u,s;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){u=f;break}}u||(s=!0,(u=document.createElement("script")).charset="utf-8",u.timeout=120,n.nc&&u.setAttribute("nonce",n.nc),u.setAttribute("data-webpack",t+a),u.src=r),e[r]=[i];var h=function(t,n){u.onerror=u.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],u.parentNode&&u.parentNode.removeChild(u),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=h.bind(null,u.onerror),u.onload=h.bind(null,u.onload),s&&document.head.appendChild(u)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),u=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",u.name="ChunkLoadError",u.type=a,u.request=o,i[1](u)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],u=r[1],s=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in u)n.o(u,i)&&(n.m[i]=u[i]);if(s)s(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunklegendary_cord=self.webpackChunklegendary_cord||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return Ln},SDK_VERSION:function(){return Wr},_DEFAULT_ENTRY_NAME:function(){return Dr},_addComponent:function(){return Fr},_addOrOverwriteComponent:function(){return Vr},_apps:function(){return Lr},_clearComponents:function(){return Zr},_components:function(){return Mr},_getProvider:function(){return Ur},_registerComponent:function(){return jr},_removeServiceInstance:function(){return zr},deleteApp:function(){return $r},getApp:function(){return Hr},getApps:function(){return Qr},initializeApp:function(){return Gr},onLog:function(){return Jr},registerVersion:function(){return Xr},setLogLevel:function(){return ei}});var t=n(2791),r=n(1250),i=n(7248),a=n(327),o=n(4164);var u=function(e){e()},s=function(){return u},c=(0,t.createContext)(null);function l(){return(0,t.useContext)(c)}var f=function(){throw new Error("uSES not initialized!")},h=f,d=function(e,t){return e===t};function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,n=e===c?l:function(){return(0,t.useContext)(e)};return function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d;var i=n(),a=i.store,o=i.subscription,u=i.getServerState,s=h(o.addNestedSub,a.getState,u||a.getState,e,r);return(0,t.useDebugValue)(s),s}}var v=p();n(2110),n(6900);var m={notify:function(){},get:function(){return[]}};function y(e,t){var n,r=m;function i(){o.onStateChange&&o.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=s(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var o={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=m)},getListeners:function(){return r}};return o}var g=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?t.useLayoutEffect:t.useEffect;var k=function(e){var n=e.store,r=e.context,i=e.children,a=e.serverState,o=(0,t.useMemo)((function(){var e=y(n);return{store:n,subscription:e,getServerState:a?function(){return a}:void 0}}),[n,a]),u=(0,t.useMemo)((function(){return n.getState()}),[n]);g((function(){var e=o.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),u!==n.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[o,u]);var s=r||c;return t.createElement(s.Provider,{value:o},i)};function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,n=e===c?l:function(){return(0,t.useContext)(e)};return function(){return n().store}}var w=b();function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=e===c?w:b(e);return function(){return t().dispatch}}var I,_=x();function S(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function E(e){return!!e&&!!e[ve]}function T(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===me}(e)||Array.isArray(e)||!!e[pe]||!!(null===(t=e.constructor)||void 0===t?void 0:t[pe])||R(e)||L(e))}function C(e,t,n){void 0===n&&(n=!1),0===A(e)?(n?Object.keys:ye)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function A(e){var t=e[ve];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:R(e)?2:L(e)?3:0}function N(e,t){return 2===A(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function O(e,t){return 2===A(e)?e.get(t):e[t]}function P(e,t,n){var r=A(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function D(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function R(e){return le&&e instanceof Map}function L(e){return fe&&e instanceof Set}function M(e){return e.o||e.t}function F(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=ge(e);delete t[ve];for(var n=ye(t),r=0;r<n.length;r++){var i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function V(e,t){return void 0===t&&(t=!1),U(e)||E(e)||!T(e)||(A(e)>1&&(e.set=e.add=e.clear=e.delete=j),Object.freeze(e),t&&C(e,(function(e,t){return V(t,!0)}),!0)),e}function j(){S(2)}function U(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function z(e){var t=ke[e];return t||S(18,e),t}function Z(e,t){ke[e]||(ke[e]=t)}function B(){return se}function q(e,t){t&&(z("Patches"),e.u=[],e.s=[],e.v=t)}function K(e){W(e),e.p.forEach(H),e.p=null}function W(e){e===se&&(se=e.l)}function G(e){return se={p:[],l:se,h:e,m:!0,_:0}}function H(e){var t=e[ve];0===t.i||1===t.i?t.j():t.O=!0}function Q(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||z("ES5").S(t,e,r),r?(n[ve].P&&(K(t),S(4)),T(e)&&(e=$(t,e),t.l||X(t,e)),t.u&&z("Patches").M(n[ve].t,e,t.u,t.s)):e=$(t,n,[]),K(t),t.u&&t.v(t.u,t.s),e!==de?e:void 0}function $(e,t,n){if(U(t))return t;var r=t[ve];if(!r)return C(t,(function(i,a){return Y(e,r,t,i,a,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return X(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=F(r.k):r.o;C(3===r.i?new Set(i):i,(function(t,a){return Y(e,r,i,t,a,n)})),X(e,i,!1),n&&e.u&&z("Patches").R(r,n,e.u,e.s)}return r.o}function Y(e,t,n,r,i,a){if(E(i)){var o=$(e,i,a&&t&&3!==t.i&&!N(t.D,r)?a.concat(r):void 0);if(P(n,r,o),!E(o))return;e.m=!1}if(T(i)&&!U(i)){if(!e.h.F&&e._<1)return;$(e,i),t&&t.A.l||X(e,i)}}function X(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&V(t,n)}function J(e,t){var n=e[ve];return(n?M(n):e)[t]}function ee(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function te(e){e.P||(e.P=!0,e.l&&te(e.l))}function ne(e){e.o||(e.o=F(e.t))}function re(e,t,n){var r=R(t)?z("MapSet").N(t,n):L(t)?z("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:B(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,a=be;n&&(i=[r],a=we);var o=Proxy.revocable(i,a),u=o.revoke,s=o.proxy;return r.k=s,r.j=u,s}(t,n):z("ES5").J(t,n);return(n?n.A:B()).p.push(r),r}function ie(e){return E(e)||S(22,e),function e(t){if(!T(t))return t;var n,r=t[ve],i=A(t);if(r){if(!r.P&&(r.i<4||!z("ES5").K(r)))return r.t;r.I=!0,n=ae(t,i),r.I=!1}else n=ae(t,i);return C(n,(function(t,i){r&&O(r.t,t)===i||P(n,t,e(i))})),3===i?new Set(n):n}(e)}function ae(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return F(e)}function oe(){function e(e,t){var n=i[e];return n?n.enumerable=t:i[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[ve];return be.get(t,e)},set:function(t){var n=this[ve];be.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][ve];if(!i.P)switch(i.i){case 5:r(i)&&te(i);break;case 4:n(i)&&te(i)}}}function n(e){for(var t=e.t,n=e.k,r=ye(n),i=r.length-1;i>=0;i--){var a=r[i];if(a!==ve){var o=t[a];if(void 0===o&&!N(t,a))return!0;var u=n[a],s=u&&u[ve];if(s?s.t!==o:!D(u,o))return!0}}var c=!!t[ve];return r.length!==ye(t).length+(c?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var i={};Z("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var a=ge(n);delete a[ve];for(var o=ye(a),u=0;u<o.length;u++){var s=o[u];a[s]=e(s,t||!!a[s].enumerable)}return Object.create(Object.getPrototypeOf(n),a)}(r,t),a={i:r?5:4,A:n?n.A:B(),P:!1,I:!1,D:{},l:n,t:t,k:i,o:null,O:!1,C:!1};return Object.defineProperty(i,ve,{value:a,writable:!0}),i},S:function(e,n,i){i?E(n)&&n[ve].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[ve];if(n){var i=n.t,a=n.k,o=n.D,u=n.i;if(4===u)C(a,(function(t){t!==ve&&(void 0!==i[t]||N(i,t)?o[t]||e(a[t]):(o[t]=!0,te(n)))})),C(i,(function(e){void 0!==a[e]||N(a,e)||(o[e]=!1,te(n))}));else if(5===u){if(r(n)&&(te(n),o.length=!0),a.length<i.length)for(var s=a.length;s<i.length;s++)o[s]=!1;else for(var c=i.length;c<a.length;c++)o[c]=!0;for(var l=Math.min(a.length,i.length),f=0;f<l;f++)a.hasOwnProperty(f)||(o[f]=!0),void 0===o[f]&&e(a[f])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}!function(e){h=e}(a.useSyncExternalStoreWithSelector),function(e){e}(i.useSyncExternalStore),I=o.unstable_batchedUpdates,u=I;var ue,se,ce="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),le="undefined"!=typeof Map,fe="undefined"!=typeof Set,he="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,de=ce?Symbol.for("immer-nothing"):((ue={})["immer-nothing"]=!0,ue),pe=ce?Symbol.for("immer-draftable"):"__$immer_draftable",ve=ce?Symbol.for("immer-state"):"__$immer_state",me=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),ye="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,ge=Object.getOwnPropertyDescriptors||function(e){var t={};return ye(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},ke={},be={get:function(e,t){if(t===ve)return e;var n=M(e);if(!N(n,t))return function(e,t,n){var r,i=ee(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!T(r)?r:r===J(e.t,t)?(ne(e),e.o[t]=re(e.A.h,r,e)):r},has:function(e,t){return t in M(e)},ownKeys:function(e){return Reflect.ownKeys(M(e))},set:function(e,t,n){var r=ee(M(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=J(M(e),t),a=null==i?void 0:i[ve];if(a&&a.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(D(n,i)&&(void 0!==n||N(e.t,t)))return!0;ne(e),te(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==J(e.t,t)||t in e.t?(e.D[t]=!1,ne(e),te(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=M(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){S(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){S(12)}},we={};C(be,(function(e,t){we[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),we.deleteProperty=function(e,t){return we.set.call(this,e,t,void 0)},we.set=function(e,t,n){return be.set.call(this,e[0],t,n,e[0])};var xe=function(){function e(e){var t=this;this.g=he,this.F=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var a=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,o=Array(r>1?r-1:0),u=1;u<r;u++)o[u-1]=arguments[u];return a.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(o))}))}}var o;if("function"!=typeof n&&S(6),void 0!==r&&"function"!=typeof r&&S(7),T(e)){var u=G(t),s=re(t,e,void 0),c=!0;try{o=n(s),c=!1}finally{c?K(u):W(u)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return q(u,r),Q(e,u)}),(function(e){throw K(u),e})):(q(u,r),Q(o,u))}if(!e||"object"!=typeof e){if(void 0===(o=n(e))&&(o=e),o===de&&(o=void 0),t.F&&V(o,!0),r){var l=[],f=[];z("Patches").M(e,o,l,f),r(l,f)}return o}S(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,a=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return[e,r,i]})):[a,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){T(e)||S(8),E(e)&&(e=ie(e));var t=G(this),n=re(this,e,void 0);return n[ve].C=!0,W(t),n},t.finishDraft=function(e,t){var n=(e&&e[ve]).A;return q(n,t),Q(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!he&&S(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=z("Patches").$;return E(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),Ie=new xe,_e=Ie.produce,Se=(Ie.produceWithPatches.bind(Ie),Ie.setAutoFreeze.bind(Ie),Ie.setUseProxies.bind(Ie),Ie.applyPatches.bind(Ie),Ie.createDraft.bind(Ie),Ie.finishDraft.bind(Ie),_e),Ee=n(4942);function Te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(n),!0).forEach((function(t){(0,Ee.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ae(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Ne="function"===typeof Symbol&&Symbol.observable||"@@observable",Oe=function(){return Math.random().toString(36).substring(7).split("").join(".")},Pe={INIT:"@@redux/INIT"+Oe(),REPLACE:"@@redux/REPLACE"+Oe(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Oe()}};function De(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Re(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(Ae(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(Ae(1));return n(Re)(e,t)}if("function"!==typeof e)throw new Error(Ae(2));var i=e,a=t,o=[],u=o,s=!1;function c(){u===o&&(u=o.slice())}function l(){if(s)throw new Error(Ae(3));return a}function f(e){if("function"!==typeof e)throw new Error(Ae(4));if(s)throw new Error(Ae(5));var t=!0;return c(),u.push(e),function(){if(t){if(s)throw new Error(Ae(6));t=!1,c();var n=u.indexOf(e);u.splice(n,1),o=null}}}function h(e){if(!De(e))throw new Error(Ae(7));if("undefined"===typeof e.type)throw new Error(Ae(8));if(s)throw new Error(Ae(9));try{s=!0,a=i(a,e)}finally{s=!1}for(var t=o=u,n=0;n<t.length;n++){(0,t[n])()}return e}function d(e){if("function"!==typeof e)throw new Error(Ae(10));i=e,h({type:Pe.REPLACE})}function p(){var e,t=f;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(Ae(11));function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[Ne]=function(){return this},e}return h({type:Pe.INIT}),(r={dispatch:h,subscribe:f,getState:l,replaceReducer:d})[Ne]=p,r}function Le(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a,o=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:Pe.INIT}))throw new Error(Ae(12));if("undefined"===typeof n(void 0,{type:Pe.PROBE_UNKNOWN_ACTION()}))throw new Error(Ae(13))}))}(n)}catch(u){a=u}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},u=0;u<o.length;u++){var s=o[u],c=n[s],l=e[s],f=c(l,t);if("undefined"===typeof f){t&&t.type;throw new Error(Ae(14))}i[s]=f,r=r||f!==l}return(r=r||o.length!==Object.keys(e).length)?i:e}}function Me(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function Fe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(Ae(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return r=Me.apply(void 0,a)(n.dispatch),Ce(Ce({},n),{},{dispatch:r})}}}function Ve(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var je=Ve();je.withExtraArgument=Ve;var Ue=je,ze=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ze=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(u){a=[6,u],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},Be=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},qe=Object.defineProperty,Ke=Object.defineProperties,We=Object.getOwnPropertyDescriptors,Ge=Object.getOwnPropertySymbols,He=Object.prototype.hasOwnProperty,Qe=Object.prototype.propertyIsEnumerable,$e=function(e,t,n){return t in e?qe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Ye=function(e,t){for(var n in t||(t={}))He.call(t,n)&&$e(e,n,t[n]);if(Ge)for(var r=0,i=Ge(t);r<i.length;r++){n=i[r];Qe.call(t,n)&&$e(e,n,t[n])}return e},Xe=function(e,t){return Ke(e,We(t))},Je=function(e,t,n){return new Promise((function(r,i){var a=function(e){try{u(n.next(e))}catch(t){i(t)}},o=function(e){try{u(n.throw(e))}catch(t){i(t)}},u=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(a,o)};u((n=n.apply(e,t)).next())}))},et="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?Me:Me.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function tt(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}var nt=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return ze(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,Be([void 0],e[0].concat(this)))):new(t.bind.apply(t,Be([void 0],e.concat(this))))},t}(Array);function rt(e){return T(e)?Se(e,(function(){})):e}function it(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,new nt);n&&(!function(e){return"boolean"===typeof e}(n)?r.push(Ue.withExtraArgument(n.extraArgument)):r.push(Ue));0;return r}(e)}}function at(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return Ye(Ye({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function ot(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"===typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}function ut(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:rt(e.initialState),i=e.reducers||{},a=Object.keys(i),o={},u={},s={};function c(){var t="function"===typeof e.extraReducers?ot(e.extraReducers):[e.extraReducers],n=t[0],i=void 0===n?{}:n,a=t[1],o=void 0===a?[]:a,s=t[2],c=void 0===s?void 0:s,l=Ye(Ye({},i),u);return function(e,t,n,r){void 0===n&&(n=[]);var i,a="function"===typeof t?ot(t):[t,n,r],o=a[0],u=a[1],s=a[2];if(function(e){return"function"===typeof e}(e))i=function(){return rt(e())};else{var c=rt(e);i=function(){return c}}function l(e,t){void 0===e&&(e=i());var n=Be([o[t.type]],u.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[s]),n.reduce((function(e,n){if(n){var r;if(E(e))return void 0===(r=n(e,t))?e:r;if(T(e))return Se(e,(function(e){return n(e,t)}));if(void 0===(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return l.getInitialState=i,l}(r,(function(e){for(var t in l)e.addCase(t,l[t]);for(var n=0,r=o;n<r.length;n++){var i=r[n];e.addMatcher(i.matcher,i.reducer)}c&&e.addDefaultCase(c)}))}return a.forEach((function(e){var n,r,a=i[e],c=t+"/"+e;"reducer"in a?(n=a.reducer,r=a.prepare):n=a,o[e]=n,u[c]=n,s[e]=r?at(c,r):at(c)})),{name:t,reducer:function(e,t){return n||(n=c()),n(e,t)},actions:s,caseReducers:o,getInitialState:function(){return n||(n=c()),n.getInitialState()}}}var st=function(e){void 0===e&&(e=21);for(var t="",n=e;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},ct=["name","message","stack","code"],lt=function(e,t){this.payload=e,this.meta=t},ft=function(e,t){this.payload=e,this.meta=t},ht=function(e){if("object"===typeof e&&null!==e){for(var t={},n=0,r=ct;n<r.length;n++){var i=r[n];"string"===typeof e[i]&&(t[i]=e[i])}return t}return{message:String(e)}};!function(){function e(e,t,n){var r=at(e+"/fulfilled",(function(e,t,n,r){return{payload:e,meta:Xe(Ye({},r||{}),{arg:n,requestId:t,requestStatus:"fulfilled"})}})),i=at(e+"/pending",(function(e,t,n){return{payload:void 0,meta:Xe(Ye({},n||{}),{arg:t,requestId:e,requestStatus:"pending"})}})),a=at(e+"/rejected",(function(e,t,r,i,a){return{payload:i,error:(n&&n.serializeError||ht)(e||"Rejected"),meta:Xe(Ye({},a||{}),{arg:r,requestId:t,rejectedWithValue:!!i,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)})}})),o="undefined"!==typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return e.prototype.abort=function(){0},e}();return Object.assign((function(e){return function(u,s,c){var l,f=(null==n?void 0:n.idGenerator)?n.idGenerator(e):st(),h=new o,d=new Promise((function(e,t){return h.signal.addEventListener("abort",(function(){return t({name:"AbortError",message:l||"Aborted"})}))})),p=!1;function v(e){p&&(l=e,h.abort())}var m=function(){return Je(this,null,(function(){var o,l,m,y,g;return Ze(this,(function(k){switch(k.label){case 0:return k.trys.push([0,4,,5]),y=null==(o=null==n?void 0:n.condition)?void 0:o.call(n,e,{getState:s,extra:c}),null===(b=y)||"object"!==typeof b||"function"!==typeof b.then?[3,2]:[4,y];case 1:y=k.sent(),k.label=2;case 2:if(!1===y)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return p=!0,u(i(f,e,null==(l=null==n?void 0:n.getPendingMeta)?void 0:l.call(n,{requestId:f,arg:e},{getState:s,extra:c}))),[4,Promise.race([d,Promise.resolve(t(e,{dispatch:u,getState:s,extra:c,requestId:f,signal:h.signal,abort:v,rejectWithValue:function(e,t){return new lt(e,t)},fulfillWithValue:function(e,t){return new ft(e,t)}})).then((function(t){if(t instanceof lt)throw t;return t instanceof ft?r(t.payload,f,e,t.meta):r(t,f,e)}))])];case 3:return m=k.sent(),[3,5];case 4:return g=k.sent(),m=g instanceof lt?a(null,f,e,g.payload,g.meta):a(g,f,e),[3,5];case 5:return n&&!n.dispatchConditionRejection&&a.match(m)&&m.meta.condition||u(m),[2,m]}var b}))}))}();return Object.assign(m,{abort:v,requestId:f,arg:e,unwrap:function(){return m.then(dt)}})}}),{pending:i,rejected:a,fulfilled:r,typePrefix:e})}e.withTypes=e}();function dt(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}Object.assign;var pt="listenerMiddleware";at(pt+"/add"),at(pt+"/removeAll"),at(pt+"/remove");var vt;"function"===typeof queueMicrotask&&queueMicrotask.bind("undefined"!==typeof window?window:n.g);oe();var mt=ut({name:"user",initialState:{user:null},reducers:{login:function(e,t){e.user=t.payload},logout:function(e){e.user=null}}}),yt=mt.actions,gt=yt.login,kt=yt.logout,bt=function(e){return e.user.user},wt=mt.reducer,xt=ut({name:"app",initialState:{channelId:null,channelName:null},reducers:{setChannelInfo:function(e,t){e.channelId=t.payload.channelId,e.channelName=t.payload.channelName}}}),It=xt.actions.setChannelInfo,_t=function(e){return e.app.channelName},St=function(e){return e.app.channelId},Et=function(e){var t,n=it(),r=e||{},i=r.reducer,a=void 0===i?void 0:i,o=r.middleware,u=void 0===o?n():o,s=r.devTools,c=void 0===s||s,l=r.preloadedState,f=void 0===l?void 0:l,h=r.enhancers,d=void 0===h?void 0:h;if("function"===typeof a)t=a;else{if(!tt(a))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=Le(a)}var p=u;"function"===typeof p&&(p=p(n));var v=Fe.apply(void 0,p),m=Me;c&&(m=et(Ye({trace:!1},"object"===typeof c&&c)));var y=[v];return Array.isArray(d)?y=Be([v],d):"function"===typeof d&&(y=d(y)),Re(t,f,m.apply(void 0,y))}({reducer:{user:wt,app:xt.reducer}}),Tt=n(9439),Ct=n(8128),At=n(9527),Nt=n(5453),Ot=n(7825),Pt=n(5335),Dt=n(184);var Rt=function(e){var t=e.channelName;return(0,Dt.jsxs)("div",{className:"chatHeader",children:[(0,Dt.jsx)("div",{className:"chatHeader__left",children:(0,Dt.jsxs)("h3",{children:[(0,Dt.jsx)("span",{className:"chatHeader__hash",children:"#"}),t]})}),(0,Dt.jsxs)("div",{className:"chatHeader__right",children:[(0,Dt.jsx)(Ct.Z,{}),(0,Dt.jsx)(Nt.Z,{}),(0,Dt.jsx)(At.Z,{}),(0,Dt.jsxs)("div",{className:"chatHeader__search",children:[(0,Dt.jsx)("input",{placeholder:"Search"}),(0,Dt.jsx)(Ot.Z,{})]}),(0,Dt.jsx)(Pt.Z,{})]})]})},Lt=n(1486),Mt=n(8774),Ft=n(7511),Vt=n(2472),jt=n(6084),Ut=n(3366),zt=n(7462),Zt=n(8182),Bt=n(4419),qt=n(60),Kt=n(8203),Wt=(0,n(1245).Z)((0,Dt.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person"),Gt=n(5878),Ht=n(1217);function Qt(e){return(0,Ht.Z)("MuiAvatar",e)}(0,Gt.Z)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);var $t=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],Yt=(0,qt.ZP)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],n.colorDefault&&t.colorDefault]}})((function(e){var t=e.theme,n=e.ownerState;return(0,zt.Z)({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},"rounded"===n.variant&&{borderRadius:(t.vars||t).shape.borderRadius},"square"===n.variant&&{borderRadius:0},n.colorDefault&&(0,zt.Z)({color:(t.vars||t).palette.background.default},t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:"light"===t.palette.mode?t.palette.grey[400]:t.palette.grey[600]}))})),Xt=(0,qt.ZP)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:function(e,t){return t.img}})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),Jt=(0,qt.ZP)(Wt,{name:"MuiAvatar",slot:"Fallback",overridesResolver:function(e,t){return t.fallback}})({width:"75%",height:"75%"});var en=t.forwardRef((function(e,n){var r=(0,Kt.Z)({props:e,name:"MuiAvatar"}),i=r.alt,a=r.children,o=r.className,u=r.component,s=void 0===u?"div":u,c=r.imgProps,l=r.sizes,f=r.src,h=r.srcSet,d=r.variant,p=void 0===d?"circular":d,v=(0,Ut.Z)(r,$t),m=null,y=function(e){var n=e.crossOrigin,r=e.referrerPolicy,i=e.src,a=e.srcSet,o=t.useState(!1),u=(0,Tt.Z)(o,2),s=u[0],c=u[1];return t.useEffect((function(){if(i||a){c(!1);var e=!0,t=new Image;return t.onload=function(){e&&c("loaded")},t.onerror=function(){e&&c("error")},t.crossOrigin=n,t.referrerPolicy=r,t.src=i,a&&(t.srcset=a),function(){e=!1}}}),[n,r,i,a]),s}((0,zt.Z)({},c,{src:f,srcSet:h})),g=f||h,k=g&&"error"!==y,b=(0,zt.Z)({},r,{colorDefault:!k,component:s,variant:p}),w=function(e){var t=e.classes,n={root:["root",e.variant,e.colorDefault&&"colorDefault"],img:["img"],fallback:["fallback"]};return(0,Bt.Z)(n,Qt,t)}(b);return m=k?(0,Dt.jsx)(Xt,(0,zt.Z)({alt:i,src:f,srcSet:h,sizes:l,ownerState:b,className:w.img},c)):null!=a?a:g&&i?i[0]:(0,Dt.jsx)(Jt,{className:w.fallback}),(0,Dt.jsx)(Yt,(0,zt.Z)({as:s,ownerState:b,className:(0,Zt.Z)(w.root,o),ref:n},v,{children:m}))})),tn=en;var nn=function(e){var t=e.user,n=e.timestamp,r=e.message;return(0,Dt.jsxs)("div",{className:"message",children:[(0,Dt.jsx)(tn,{src:t.photo}),(0,Dt.jsxs)("div",{className:"message__info",children:[(0,Dt.jsxs)("h4",{children:[t.displayName,(0,Dt.jsx)("span",{className:"message__timestamp",children:new Date(null===n||void 0===n?void 0:n.toDate()).toUTCString()})]}),(0,Dt.jsx)("p",{children:r})]})]})};function rn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function an(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function on(e,t,n){return t&&an(e.prototype,t),n&&an(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var un=n(181);function sn(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,un.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function cn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ln(e,t){return ln=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ln(e,t)}function fn(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ln(e,t)}function hn(e){return hn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},hn(e)}function dn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function pn(e){return pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pn(e)}function vn(e,t){if(t&&("object"===pn(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return cn(e)}function mn(e){var t=dn();return function(){var n,r=hn(e);if(t){var i=hn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return vn(this,n)}}function yn(e,t,n){return yn=dn()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&ln(i,n.prototype),i},yn.apply(null,arguments)}function gn(e){var t="function"===typeof Map?new Map:void 0;return gn=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return yn(e,arguments,hn(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),ln(n,e)},gn(e)}var kn=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},bn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(kn(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},wn=function(e){return function(e){var t=kn(e);return bn.encodeByteArray(t,!0)}(e).replace(/\./g,"")},xn=function(e){try{return bn.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function In(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=In(e[n],t[n]));return e}function _n(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Sn(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function En(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Tn(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Cn(){var e=_n();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function An(){return"object"===typeof indexedDB}var Nn=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},On=function(){try{return Nn()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&xn(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},Pn=function(){var e;return null===(e=On())||void 0===e?void 0:e.config},Dn=function(){function e(){var t=this;rn(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return on(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Rn(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[wn(JSON.stringify({alg:"none",type:"JWT"})),wn(JSON.stringify(a)),""].join(".")}var Ln=function(e){fn(n,e);var t=mn(n);function n(e,r,i){var a;return rn(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(cn(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(cn(a),Mn.prototype.create),a}return on(n)}(gn(Error)),Mn=function(){function e(t,n,r){rn(this,e),this.service=t,this.serviceName=n,this.errors=r}return on(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Fn(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Ln(n,a,t);return o}}]),e}();function Fn(e,t){return e.replace(Vn,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Vn=/\{\$([^}]+)}/g;function jn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Un(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(zn(u)&&zn(s)){if(!Un(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function zn(e){return null!==e&&"object"===typeof e}function Zn(e){for(var t=[],n=function(){var e=(0,Tt.Z)(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Bn(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("="),r=(0,Tt.Z)(n,2),i=r[0],a=r[1];t[decodeURIComponent(i)]=decodeURIComponent(a)}})),t}function qn(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Kn(e,t){var n=new Wn(e,t);return n.subscribe.bind(n)}var Wn=function(){function e(t,n){var r=this;rn(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return on(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=sn(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Gn),void 0===r.error&&(r.error=Gn),void 0===r.complete&&(r.complete=Gn);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Gn(){}function Hn(e){return e&&e._delegate?e._delegate:e}function Qn(){Qn=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(C){s=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),u=new S(i||[]);return r(o,"_invoke",{value:w(e,n,u)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(C){return{type:"throw",arg:C}}}e.wrap=c;var f={};function h(){}function d(){}function p(){}var v={};s(v,a,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(E([])));y&&y!==t&&n.call(y,a)&&(v=y);var g=p.prototype=h.prototype=Object.create(v);function k(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function i(r,a,o,u){var s=l(e[r],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"==pn(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,o,u)}),(function(e){i("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,u)}))}u(s.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return T()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=x(o,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=l(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function x(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=l(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function E(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:T}}function T(){return{value:void 0,done:!0}}return d.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=s(p,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,u,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},k(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},k(g),s(g,u,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=E,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;_(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}var $n=n(3433);function Yn(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function Xn(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Yn(a,r,i,o,u,"next",e)}function u(e){Yn(a,r,i,o,u,"throw",e)}o(void 0)}))}}var Jn=function(){function e(t,n,r){rn(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return on(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),er="[DEFAULT]",tr=function(){function e(t,n){rn(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return on(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Dn;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:er})}catch(s){}var t,n=sn(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=(0,Tt.Z)(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:er;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Xn(Qn().mark((function e(){var t;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat((0,$n.Z)(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),(0,$n.Z)(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:er;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:er;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=sn(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=(0,Tt.Z)(i.value,2),s=u[0],c=u[1],l=this.normalizeInstanceIdentifier(s);r===l&&c.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=sn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(tE){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===er?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(tE){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:er;return this.component?this.component.multipleInstances?e:er:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var nr,rr,ir=function(){function e(t){rn(this,e),this.name=t,this.providers=new Map}return on(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new tr(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),ar=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(rr||(rr={}));var or={debug:rr.DEBUG,verbose:rr.VERBOSE,info:rr.INFO,warn:rr.WARN,error:rr.ERROR,silent:rr.SILENT},ur=rr.INFO,sr=(nr={},(0,Ee.Z)(nr,rr.DEBUG,"log"),(0,Ee.Z)(nr,rr.VERBOSE,"log"),(0,Ee.Z)(nr,rr.INFO,"info"),(0,Ee.Z)(nr,rr.WARN,"warn"),(0,Ee.Z)(nr,rr.ERROR,"error"),nr),cr=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=sr[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},lr=function(){function e(t){rn(this,e),this.name=t,this._logLevel=ur,this._logHandler=cr,this._userLogHandler=null,ar.push(this)}return on(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in rr))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?or[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,rr.DEBUG].concat(t)),this._logHandler.apply(this,[this,rr.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,rr.VERBOSE].concat(t)),this._logHandler.apply(this,[this,rr.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,rr.INFO].concat(t)),this._logHandler.apply(this,[this,rr.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,rr.WARN].concat(t)),this._logHandler.apply(this,[this,rr.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,rr.ERROR].concat(t)),this._logHandler.apply(this,[this,rr.ERROR].concat(t))}}]),e}();var fr,hr;var dr=new WeakMap,pr=new WeakMap,vr=new WeakMap,mr=new WeakMap,yr=new WeakMap;var gr={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return pr.get(e);if("objectStoreNames"===t)return e.objectStoreNames||vr.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return wr(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function kr(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(hr||(hr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(xr(this),n),wr(dr.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return wr(e.apply(xr(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[xr(this),t].concat(r));return vr.set(a,t.sort?t.sort():[t]),wr(a)}}function br(e){return"function"===typeof e?kr(e):(e instanceof IDBTransaction&&function(e){if(!pr.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));pr.set(e,t)}}(e),t=e,(fr||(fr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,gr):e);var t}function wr(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(wr(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&dr.set(t,e)})).catch((function(){})),yr.set(t,e),t}(e);if(mr.has(e))return mr.get(e);var t=br(e);return t!==e&&(mr.set(e,t),yr.set(t,e)),t}var xr=function(e){return yr.get(e)};var Ir,_r,Sr=["get","getKey","getAll","getAllKeys","count"],Er=["put","add","delete","clear"],Tr=new Map;function Cr(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Tr.get(t))return Tr.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Er.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Sr.includes(n))){var a=function(){var e=Xn(Qn().mark((function e(t){var a,o,u,s,c,l,f=arguments;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Tr.set(t,a),a}}}gr=function(e){return Ce(Ce({},e),{},{get:function(t,n,r){return Cr(t,n)||e.get(t,n,r)},has:function(t,n){return!!Cr(t,n)||e.has(t,n)}})}(gr);var Ar=function(){function e(t){rn(this,e),this.container=t}return on(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Nr="@firebase/app",Or="0.8.3",Pr=new lr("@firebase/app"),Dr="[DEFAULT]",Rr=(Ir={},(0,Ee.Z)(Ir,Nr,"fire-core"),(0,Ee.Z)(Ir,"@firebase/app-compat","fire-core-compat"),(0,Ee.Z)(Ir,"@firebase/analytics","fire-analytics"),(0,Ee.Z)(Ir,"@firebase/analytics-compat","fire-analytics-compat"),(0,Ee.Z)(Ir,"@firebase/app-check","fire-app-check"),(0,Ee.Z)(Ir,"@firebase/app-check-compat","fire-app-check-compat"),(0,Ee.Z)(Ir,"@firebase/auth","fire-auth"),(0,Ee.Z)(Ir,"@firebase/auth-compat","fire-auth-compat"),(0,Ee.Z)(Ir,"@firebase/database","fire-rtdb"),(0,Ee.Z)(Ir,"@firebase/database-compat","fire-rtdb-compat"),(0,Ee.Z)(Ir,"@firebase/functions","fire-fn"),(0,Ee.Z)(Ir,"@firebase/functions-compat","fire-fn-compat"),(0,Ee.Z)(Ir,"@firebase/installations","fire-iid"),(0,Ee.Z)(Ir,"@firebase/installations-compat","fire-iid-compat"),(0,Ee.Z)(Ir,"@firebase/messaging","fire-fcm"),(0,Ee.Z)(Ir,"@firebase/messaging-compat","fire-fcm-compat"),(0,Ee.Z)(Ir,"@firebase/performance","fire-perf"),(0,Ee.Z)(Ir,"@firebase/performance-compat","fire-perf-compat"),(0,Ee.Z)(Ir,"@firebase/remote-config","fire-rc"),(0,Ee.Z)(Ir,"@firebase/remote-config-compat","fire-rc-compat"),(0,Ee.Z)(Ir,"@firebase/storage","fire-gcs"),(0,Ee.Z)(Ir,"@firebase/storage-compat","fire-gcs-compat"),(0,Ee.Z)(Ir,"@firebase/firestore","fire-fst"),(0,Ee.Z)(Ir,"@firebase/firestore-compat","fire-fst-compat"),(0,Ee.Z)(Ir,"fire-js","fire-js"),(0,Ee.Z)(Ir,"firebase","fire-js-all"),Ir),Lr=new Map,Mr=new Map;function Fr(e,t){try{e.container.addComponent(t)}catch(n){Pr.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Vr(e,t){e.container.addOrOverwriteComponent(t)}function jr(e){var t=e.name;if(Mr.has(t))return Pr.debug("There were multiple attempts to register component ".concat(t,".")),!1;Mr.set(t,e);var n,r=sn(Lr.values());try{for(r.s();!(n=r.n()).done;){Fr(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Ur(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function zr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Dr;Ur(e,t).clearInstance(n)}function Zr(){Mr.clear()}var Br=(_r={},(0,Ee.Z)(_r,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,Ee.Z)(_r,"bad-app-name","Illegal App name: '{$appName}"),(0,Ee.Z)(_r,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),(0,Ee.Z)(_r,"app-deleted","Firebase App named '{$appName}' already deleted"),(0,Ee.Z)(_r,"no-options","Need to provide options, when not being deployed to hosting via source."),(0,Ee.Z)(_r,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),(0,Ee.Z)(_r,"invalid-log-argument","First argument to `onLog` must be null or a function."),(0,Ee.Z)(_r,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),(0,Ee.Z)(_r,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),(0,Ee.Z)(_r,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),(0,Ee.Z)(_r,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),_r),qr=new Mn("app","Firebase",Br),Kr=function(){function e(t,n,r){var i=this;rn(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Jn("app",(function(){return i}),"PUBLIC"))}return on(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw qr.create("app-deleted",{appName:this._name})}}]),e}(),Wr="9.13.0";function Gr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){var r=t;t={name:r}}var i=Object.assign({name:Dr,automaticDataCollectionEnabled:!1},t),a=i.name;if("string"!==typeof a||!a)throw qr.create("bad-app-name",{appName:String(a)});if(n||(n=Pn()),!n)throw qr.create("no-options");var o=Lr.get(a);if(o){if(Un(n,o.options)&&Un(i,o.config))return o;throw qr.create("duplicate-app",{appName:a})}var u,s=new ir(a),c=sn(Mr.values());try{for(c.s();!(u=c.n()).done;){var l=u.value;s.addComponent(l)}}catch(h){c.e(h)}finally{c.f()}var f=new Kr(n,i,s);return Lr.set(a,f),f}function Hr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dr,t=Lr.get(e);if(!t&&e===Dr)return Gr();if(!t)throw qr.create("no-app",{appName:e});return t}function Qr(){return Array.from(Lr.values())}function $r(e){return Yr.apply(this,arguments)}function Yr(){return Yr=Xn(Qn().mark((function e(t){var n;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Lr.has(n)){e.next=6;break}return Lr.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),Yr.apply(this,arguments)}function Xr(e,t,n){var r,i=null!==(r=Rr[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Pr.warn(u.join(" "))}jr(new Jn("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Jr(e,t){if(null!==e&&"function"!==typeof e)throw qr.create("invalid-log-argument");!function(e,t){var n,r=sn(ar);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=or[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:rr[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function ei(e){var t;t=e,ar.forEach((function(e){e.setLogLevel(t)}))}var ti="firebase-heartbeat-store",ni=null;function ri(){return ni||(ni=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=wr(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(wr(u.result),e.oldVersion,e.newVersion,wr(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(ti)}}).catch((function(e){throw qr.create("idb-open",{originalErrorMessage:e.message})}))),ni}function ii(e){return ai.apply(this,arguments)}function ai(){return ai=Xn(Qn().mark((function e(t){var n,r,i;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ri();case 3:return r=e.sent,e.abrupt("return",r.transaction(ti).objectStore(ti).get(si(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof Ln?Pr.warn(e.t0.message):(i=qr.create("idb-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message}),Pr.warn(i.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),ai.apply(this,arguments)}function oi(e,t){return ui.apply(this,arguments)}function ui(){return ui=Xn(Qn().mark((function e(t,n){var r,i,a,o,u;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ri();case 3:return i=e.sent,a=i.transaction(ti,"readwrite"),o=a.objectStore(ti),e.next=8,o.put(n,si(t));case 8:return e.abrupt("return",a.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof Ln?Pr.warn(e.t0.message):(u=qr.create("idb-set",{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message}),Pr.warn(u.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),ui.apply(this,arguments)}function si(e){return"".concat(e.name,"!").concat(e.options.appId)}var ci=function(){function e(t){var n=this;rn(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new pi(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return on(e,[{key:"triggerHeartbeat",value:function(){var e=Xn(Qn().mark((function e(){var t,n,r;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=li(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Xn(Qn().mark((function e(){var t,n,r,i,a;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=li(),n=fi(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=wn(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function li(){return(new Date).toISOString().substring(0,10)}function fi(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=sn(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),vi(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),vi(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var hi,di,pi=function(){function e(t){rn(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return on(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Xn(Qn().mark((function e(){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(An()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Xn(Qn().mark((function e(){var t;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,ii(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Xn(Qn().mark((function e(t){var n,r;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",oi(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Xn(Qn().mark((function e(t){var n,r;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",oi(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat((0,$n.Z)(r.heartbeats),(0,$n.Z)(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function vi(e){return wn(JSON.stringify({version:2,heartbeats:e})).length}hi="",jr(new Jn("platform-logger",(function(e){return new Ar(e)}),"PRIVATE")),jr(new Jn("heartbeat",(function(e){return new ci(e)}),"PRIVATE")),Xr(Nr,Or,hi),Xr(Nr,Or,"esm2017"),Xr("fire-js","");var mi=function(){function e(t,n){var r=this;rn(this,e),this._delegate=t,this.firebase=n,Fr(t,new Jn("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return on(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),$r(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Dr;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Dr;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Fr(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Vr(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),yi=(di={},(0,Ee.Z)(di,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,Ee.Z)(di,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),di),gi=new Mn("app-compat","Firebase",yi);var ki=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Gr(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(jn(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Xr,setLogLevel:ei,onLog:Jr,apps:null,SDK_VERSION:Wr,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(jr(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw gi.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&In(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!jn(n,e=e||Dr))throw gi.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(mi);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){In(n,e)},createSubscribe:Kn,ErrorFactory:Mn,deepExtend:In}),n}(),bi=new lr("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){bi.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var wi=self.firebase.SDK_VERSION;wi&&wi.indexOf("LITE")>=0&&bi.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var xi=ki;!function(e){Xr("@firebase/app-compat","0.1.38",e)}();xi.registerVersion("firebase","9.13.0","app-compat");var Ii=n(3878),_i=n(9199),Si=n(5267);function Ei(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=hn(e)););return e}function Ti(){return Ti="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Ei(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Ti.apply(this,arguments)}function Ci(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var Ai;Object.create;var Ni="facebook.com",Oi="github.com",Pi="google.com",Di="password",Ri="twitter.com",Li="EMAIL_SIGNIN",Mi="PASSWORD_RESET",Fi="RECOVER_EMAIL",Vi="REVERT_SECOND_FACTOR_ADDITION",ji="VERIFY_AND_CHANGE_EMAIL",Ui="VERIFY_EMAIL";function zi(){return(0,Ee.Z)({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Zi=function(){var e;return e={},(0,Ee.Z)(e,"admin-restricted-operation","This operation is restricted to administrators only."),(0,Ee.Z)(e,"argument-error",""),(0,Ee.Z)(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),(0,Ee.Z)(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),(0,Ee.Z)(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),(0,Ee.Z)(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),(0,Ee.Z)(e,"cordova-not-ready","Cordova framework is not ready."),(0,Ee.Z)(e,"cors-unsupported","This browser is not supported."),(0,Ee.Z)(e,"credential-already-in-use","This credential is already associated with a different user account."),(0,Ee.Z)(e,"custom-token-mismatch","The custom token corresponds to a different audience."),(0,Ee.Z)(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),(0,Ee.Z)(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),(0,Ee.Z)(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),(0,Ee.Z)(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),(0,Ee.Z)(e,"email-already-in-use","The email address is already in use by another account."),(0,Ee.Z)(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),(0,Ee.Z)(e,"expired-action-code","The action code has expired."),(0,Ee.Z)(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),(0,Ee.Z)(e,"internal-error","An internal AuthError has occurred."),(0,Ee.Z)(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),(0,Ee.Z)(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),(0,Ee.Z)(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),(0,Ee.Z)(e,"invalid-auth-event","An internal AuthError has occurred."),(0,Ee.Z)(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),(0,Ee.Z)(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),(0,Ee.Z)(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),(0,Ee.Z)(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),(0,Ee.Z)(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),(0,Ee.Z)(e,"invalid-email","The email address is badly formatted."),(0,Ee.Z)(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),(0,Ee.Z)(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),(0,Ee.Z)(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),(0,Ee.Z)(e,"invalid-credential","The supplied auth credential is malformed or has expired."),(0,Ee.Z)(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),(0,Ee.Z)(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),(0,Ee.Z)(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),(0,Ee.Z)(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),(0,Ee.Z)(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),(0,Ee.Z)(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),(0,Ee.Z)(e,"wrong-password","The password is invalid or the user does not have a password."),(0,Ee.Z)(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),(0,Ee.Z)(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),(0,Ee.Z)(e,"invalid-provider-id","The specified provider ID is invalid."),(0,Ee.Z)(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),(0,Ee.Z)(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),(0,Ee.Z)(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),(0,Ee.Z)(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),(0,Ee.Z)(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),(0,Ee.Z)(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),(0,Ee.Z)(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),(0,Ee.Z)(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),(0,Ee.Z)(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),(0,Ee.Z)(e,"missing-continue-uri","A continue URL must be provided in the request."),(0,Ee.Z)(e,"missing-iframe-start","An internal AuthError has occurred."),(0,Ee.Z)(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),(0,Ee.Z)(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),(0,Ee.Z)(e,"missing-multi-factor-info","No second factor identifier is provided."),(0,Ee.Z)(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),(0,Ee.Z)(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),(0,Ee.Z)(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),(0,Ee.Z)(e,"app-deleted","This instance of FirebaseApp has been deleted."),(0,Ee.Z)(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),(0,Ee.Z)(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),(0,Ee.Z)(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),(0,Ee.Z)(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),(0,Ee.Z)(e,"no-auth-event","An internal AuthError has occurred."),(0,Ee.Z)(e,"no-such-provider","User was not linked to an account with the given provider."),(0,Ee.Z)(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),(0,Ee.Z)(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),(0,Ee.Z)(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),(0,Ee.Z)(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),(0,Ee.Z)(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),(0,Ee.Z)(e,"provider-already-linked","User can only be linked to one identity for the given provider."),(0,Ee.Z)(e,"quota-exceeded","The project's quota for this operation has been exceeded."),(0,Ee.Z)(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),(0,Ee.Z)(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),(0,Ee.Z)(e,"rejected-credential","The request contains malformed or mismatching credentials."),(0,Ee.Z)(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),(0,Ee.Z)(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),(0,Ee.Z)(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),(0,Ee.Z)(e,"timeout","The operation has timed out."),(0,Ee.Z)(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),(0,Ee.Z)(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),(0,Ee.Z)(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),(0,Ee.Z)(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),(0,Ee.Z)(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),(0,Ee.Z)(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),(0,Ee.Z)(e,"unverified-email","The operation requires a verified email."),(0,Ee.Z)(e,"user-cancelled","The user did not grant your application the permissions it requested."),(0,Ee.Z)(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),(0,Ee.Z)(e,"user-disabled","The user account has been disabled by an administrator."),(0,Ee.Z)(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),(0,Ee.Z)(e,"user-signed-out",""),(0,Ee.Z)(e,"weak-password","The password must be 6 characters long or more."),(0,Ee.Z)(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),(0,Ee.Z)(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},Bi=zi,qi=new Mn("auth","Firebase",zi()),Ki=new lr("@firebase/auth");function Wi(e){if(Ki.logLevel<=rr.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Ki.error.apply(Ki,["Auth (".concat(Wr,"): ").concat(e)].concat(n))}}function Gi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Yi.apply(void 0,[e].concat(n))}function Hi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Yi.apply(void 0,[e].concat(n))}function Qi(e,t,n){var r=Object.assign(Object.assign({},Bi()),(0,Ee.Z)({},t,n));return new Mn("auth","Firebase",r).create(t,{appName:e.name})}function $i(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Gi(e,"argument-error"),Qi(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Yi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=(0,$n.Z)(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat((0,$n.Z)(o)))}return qi.create.apply(qi,[e].concat(n))}function Xi(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Yi.apply(void 0,[t].concat(r))}}function Ji(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Wi(t),new Error(t)}function ea(e,t){e||Ji(t)}var ta=new Map;function na(e){ea(e instanceof Function,"Expected a class definition");var t=ta.get(e);return t?(ea(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,ta.set(e,t),t)}function ra(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function ia(){return"http:"===aa()||"https:"===aa()}function aa(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var oa=function(){function e(t,n){rn(this,e),this.shortDelay=t,this.longDelay=n,ea(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_n())||Tn()}return on(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(ia()||En()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function ua(e,t){ea(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var sa=function(){function e(){rn(this,e)}return on(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),ca=(Ai={},(0,Ee.Z)(Ai,"CREDENTIAL_MISMATCH","custom-token-mismatch"),(0,Ee.Z)(Ai,"MISSING_CUSTOM_TOKEN","internal-error"),(0,Ee.Z)(Ai,"INVALID_IDENTIFIER","invalid-email"),(0,Ee.Z)(Ai,"MISSING_CONTINUE_URI","internal-error"),(0,Ee.Z)(Ai,"INVALID_PASSWORD","wrong-password"),(0,Ee.Z)(Ai,"MISSING_PASSWORD","internal-error"),(0,Ee.Z)(Ai,"EMAIL_EXISTS","email-already-in-use"),(0,Ee.Z)(Ai,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),(0,Ee.Z)(Ai,"INVALID_IDP_RESPONSE","invalid-credential"),(0,Ee.Z)(Ai,"INVALID_PENDING_TOKEN","invalid-credential"),(0,Ee.Z)(Ai,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),(0,Ee.Z)(Ai,"MISSING_REQ_TYPE","internal-error"),(0,Ee.Z)(Ai,"EMAIL_NOT_FOUND","user-not-found"),(0,Ee.Z)(Ai,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),(0,Ee.Z)(Ai,"EXPIRED_OOB_CODE","expired-action-code"),(0,Ee.Z)(Ai,"INVALID_OOB_CODE","invalid-action-code"),(0,Ee.Z)(Ai,"MISSING_OOB_CODE","internal-error"),(0,Ee.Z)(Ai,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),(0,Ee.Z)(Ai,"INVALID_ID_TOKEN","invalid-user-token"),(0,Ee.Z)(Ai,"TOKEN_EXPIRED","user-token-expired"),(0,Ee.Z)(Ai,"USER_NOT_FOUND","user-token-expired"),(0,Ee.Z)(Ai,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),(0,Ee.Z)(Ai,"INVALID_CODE","invalid-verification-code"),(0,Ee.Z)(Ai,"INVALID_SESSION_INFO","invalid-verification-id"),(0,Ee.Z)(Ai,"INVALID_TEMPORARY_PROOF","invalid-credential"),(0,Ee.Z)(Ai,"MISSING_SESSION_INFO","missing-verification-id"),(0,Ee.Z)(Ai,"SESSION_EXPIRED","code-expired"),(0,Ee.Z)(Ai,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),(0,Ee.Z)(Ai,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),(0,Ee.Z)(Ai,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),(0,Ee.Z)(Ai,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),(0,Ee.Z)(Ai,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),(0,Ee.Z)(Ai,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),(0,Ee.Z)(Ai,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),(0,Ee.Z)(Ai,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),(0,Ee.Z)(Ai,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),(0,Ee.Z)(Ai,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),(0,Ee.Z)(Ai,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Ai),la=new oa(3e4,6e4);function fa(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function ha(e,t,n,r){return da.apply(this,arguments)}function da(){return da=Xn(Qn().mark((function e(t,n,r,i){var a,o=arguments;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",pa(t,a,Xn(Qn().mark((function e(){var a,o,u,s;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=Zn(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",sa.fetch()(ga(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),da.apply(this,arguments)}function pa(e,t,n){return va.apply(this,arguments)}function va(){return va=Xn(Qn().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},ca),n),e.prev=2,a=new ka(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw ba(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,c=s.split(" : "),l=(0,Tt.Z)(c,2),f=l[0],h=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw ba(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==f){e.next=27;break}throw ba(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==f){e.next=29;break}throw ba(t,"user-disabled",u);case 29:if(d=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=34;break}throw Qi(t,d,h);case 34:Gi(t,d);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof Ln)){e.next=41;break}throw e.t0;case 41:Gi(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),va.apply(this,arguments)}function ma(e,t,n,r){return ya.apply(this,arguments)}function ya(){return ya=Xn(Qn().mark((function e(t,n,r,i){var a,o,u=arguments;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,ha(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Gi(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),ya.apply(this,arguments)}function ga(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?ua(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var ka=function(){function e(t){var n=this;rn(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Hi(n.auth,"network-request-failed"))}),la.get())}))}return on(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function ba(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Hi(e,t,r);return i.customData._tokenResponse=n,i}function wa(e,t){return xa.apply(this,arguments)}function xa(){return xa=Xn(Qn().mark((function e(t,n){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ha(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),xa.apply(this,arguments)}function Ia(e,t){return _a.apply(this,arguments)}function _a(){return _a=Xn(Qn().mark((function e(t,n){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ha(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),_a.apply(this,arguments)}function Sa(e,t){return Ea.apply(this,arguments)}function Ea(){return Ea=Xn(Qn().mark((function e(t,n){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ha(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),Ea.apply(this,arguments)}function Ta(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Ca(){return Ca=Xn(Qn().mark((function e(t){var n,r,i,a,o,u,s=arguments;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=Hn(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Xi((a=Na(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Ta(Aa(a.auth_time)),issuedAtTime:Ta(Aa(a.iat)),expirationTime:Ta(Aa(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Ca.apply(this,arguments)}function Aa(e){return 1e3*Number(e)}function Na(e){var t,n=e.split("."),r=(0,Tt.Z)(n,3),i=r[0],a=r[1],o=r[2];if(void 0===i||void 0===a||void 0===o)return Wi("JWT malformed, contained fewer than 3 sections"),null;try{var u=xn(a);return u?JSON.parse(u):(Wi("Failed to decode base64 JWT payload"),null)}catch(s){return Wi("Caught error parsing JWT payload as JSON",null===(t=s)||void 0===t?void 0:t.toString()),null}}function Oa(e,t){return Pa.apply(this,arguments)}function Pa(){return Pa=Xn(Qn().mark((function e(t,n){var r=arguments;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Ln&&Da(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Pa.apply(this,arguments)}function Da(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Ra=function(){function e(t){rn(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return on(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Xn(Qn().mark((function t(){return Qn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Xn(Qn().mark((function e(){var t;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===(t=e.t0)||void 0===t?void 0:t.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),La=function(){function e(t,n){rn(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return on(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Ta(this.lastLoginAt),this.creationTime=Ta(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Ma(e){return Fa.apply(this,arguments)}function Fa(){return Fa=Xn(Qn().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Oa(t,Sa(r,{idToken:i}));case 6:Xi(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?Ua(o.providerUserInfo):[],s=ja(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new La(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),Fa.apply(this,arguments)}function Va(){return(Va=Xn(Qn().mark((function e(t){var n;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Hn(t),e.next=3,Ma(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ja(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat((0,$n.Z)(n),(0,$n.Z)(t))}function Ua(e){return e.map((function(e){var t=e.providerId,n=Ci(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function za(e,t){return Za.apply(this,arguments)}function Za(){return Za=Xn(Qn().mark((function e(t,n){var r;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pa(t,{},Xn(Qn().mark((function e(){var r,i,a,o,u,s;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Zn({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=ga(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",sa.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),Za.apply(this,arguments)}var Ba=function(){function e(){rn(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return on(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Xi(e.idToken,"internal-error"),Xi("undefined"!==typeof e.idToken,"internal-error"),Xi("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Na(e);return Xi(t,"internal-error"),Xi("undefined"!==typeof t.exp,"internal-error"),Xi("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Xn(Qn().mark((function e(t){var n,r=arguments;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Xi(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Xn(Qn().mark((function e(t,n){var r,i,a,o;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,za(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Ji("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Xi("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Xi("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Xi("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function qa(e,t){Xi("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Ka=function(){function e(t){rn(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Ci(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ra(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?(0,$n.Z)(a.providerData):[],this.metadata=new La(a.createdAt||void 0,a.lastLoginAt||void 0)}return on(e,[{key:"getIdToken",value:function(){var e=Xn(Qn().mark((function e(t){var n;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oa(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Xi(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Ca.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Va.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Xi(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){Xi(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Xn(Qn().mark((function e(t){var n,r,i=arguments;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Ma(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Xn(Qn().mark((function e(){var t;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Oa(this,wa(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,I=n.stsTokenManager;Xi(k&&I,t,"internal-error");var _=Ba.fromJSON(this.name,I);Xi("string"===typeof k,t,"internal-error"),qa(f,t.name),qa(h,t.name),Xi("boolean"===typeof b,t,"internal-error"),Xi("boolean"===typeof w,t,"internal-error"),qa(d,t.name),qa(p,t.name),qa(v,t.name),qa(m,t.name),qa(y,t.name),qa(g,t.name);var S=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:_,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(S.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(S._redirectEventId=m),S}},{key:"_fromIdTokenResponse",value:function(){var t=Xn(Qn().mark((function t(n,r){var i,a,o,u=arguments;return Qn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new Ba).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Ma(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Wa=function(){function e(){rn(this,e),this.type="NONE",this.storage={}}return on(e,[{key:"_isAvailable",value:function(){var e=Xn(Qn().mark((function e(){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Xn(Qn().mark((function e(t,n){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Xn(Qn().mark((function e(t){var n;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Xn(Qn().mark((function e(t){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Wa.type="NONE";var Ga=Wa;function Ha(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Qa=function(){function e(t,n,r){rn(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Ha(this.userKey,a.apiKey,o),this.fullPersistenceKey=Ha("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return on(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Xn(Qn().mark((function e(){var t;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Ka._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Xn(Qn().mark((function e(t){var n;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Xn(Qn().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return Qn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(na(Ga),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Xn(Qn().mark((function e(t){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||na(Ga),u=Ha(i,n.config.apiKey,n.name),s=null,c=sn(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=Ka._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Xn(Qn().mark((function e(t){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function $a(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(eo(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Ya(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(no(t))return"Blackberry";if(ro(t))return"Webos";if(Xa(t))return"Safari";if((t.includes("chrome/")||Ja(t))&&!t.includes("edge/"))return"Chrome";if(to(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Ya(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_n();return/firefox\//i.test(e)}function Xa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_n(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Ja(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_n();return/crios\//i.test(e)}function eo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_n();return/iemobile/i.test(e)}function to(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_n();return/android/i.test(e)}function no(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_n();return/blackberry/i.test(e)}function ro(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_n();return/webos/i.test(e)}function io(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_n();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function ao(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_n();return io(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function oo(){return Cn()&&10===document.documentMode}function uo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_n();return io(e)||to(e)||ro(e)||no(e)||/windows phone/i.test(e)||eo(e)}function so(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=$a(_n());break;case"Worker":t="".concat($a(_n()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Wr,"/").concat(r)}var co=function(){function e(t){rn(this,e),this.auth=t,this.queue=[]}return on(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=Xn(Qn().mark((function e(t){var n,r,i,a,o,u,s,c;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:r=[],e.prev=3,i=sn(this.queue),e.prev=5,i.s();case 7:if((a=i.n()).done){e.next=14;break}return o=a.value,e.next=11,o(t);case 11:o.onAbort&&r.push(o.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),r.reverse(),u=sn(r);try{for(u.s();!(s=u.n()).done;){c=s.value;try{c()}catch(B){}}}catch(l){u.e(l)}finally{u.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===(n=e.t1)||void 0===n?void 0:n.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),lo=function(){function e(t,n,r){rn(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ho(this),this.idTokenSubscription=new ho(this),this.beforeStateQueue=new co(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qi,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return on(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=na(t)),this._initializationPromise=this.queue(Xn(Qn().mark((function r(){var i,a;return Qn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Qa.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Xn(Qn().mark((function e(){var t;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Xn(Qn().mark((function e(t){var n,r,i,a,o,u,s;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return Xi(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Xn(Qn().mark((function e(t){var n;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Xn(Qn().mark((function e(t){var n;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ma(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Xn(Qn().mark((function e(){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Xn(Qn().mark((function e(t){var n;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Hn(t):null)&&Xi(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Xn(Qn().mark((function e(t){var n,r=this,i=arguments;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&Xi(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(Xn(Qn().mark((function e(){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Xn(Qn().mark((function e(){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Xn(Qn().mark((function n(){return Qn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(na(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Mn("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Xn(Qn().mark((function e(t,n){var r;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Xn(Qn().mark((function e(t){var n;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Xi(n=t&&na(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Qa.create(this,[na(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Xn(Qn().mark((function e(t){var n,r;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Xn(Qn().mark((function e(){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Xn(Qn().mark((function e(t){var n=this;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Xn(Qn().mark((function e(){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Xi(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Xn(Qn().mark((function e(t){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Xi(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=so(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Xn(Qn().mark((function e(){var t,n,r;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,Ee.Z)({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function fo(e){return Hn(e)}var ho=function(){function e(t){var n=this;rn(this,e),this.auth=t,this.observer=null,this.addObserver=Kn((function(e){return n.observer=e}))}return on(e,[{key:"next",get:function(){return Xi(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function po(e,t,n){var r=fo(e);Xi(r._canInitEmulator,r,"emulator-config-failed"),Xi(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=vo(t),o=function(e){var t=vo(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:mo(r.substr(a.length+1))}}var o=r.split(":"),u=(0,Tt.Z)(o,2);return{host:u[0],port:mo(u[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function vo(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function mo(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var yo=function(){function e(t,n){rn(this,e),this.providerId=t,this.signInMethod=n}return on(e,[{key:"toJSON",value:function(){return Ji("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Ji("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Ji("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Ji("not implemented")}}]),e}();function go(e,t){return ko.apply(this,arguments)}function ko(){return ko=Xn(Qn().mark((function e(t,n){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ha(t,"POST","/v1/accounts:resetPassword",fa(t,n)));case 1:case"end":return e.stop()}}),e)}))),ko.apply(this,arguments)}function bo(e,t){return wo.apply(this,arguments)}function wo(){return wo=Xn(Qn().mark((function e(t,n){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ha(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),wo.apply(this,arguments)}function xo(e,t){return Io.apply(this,arguments)}function Io(){return Io=Xn(Qn().mark((function e(t,n){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ha(t,"POST","/v1/accounts:update",fa(t,n)));case 1:case"end":return e.stop()}}),e)}))),Io.apply(this,arguments)}function _o(e,t){return So.apply(this,arguments)}function So(){return So=Xn(Qn().mark((function e(t,n){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ma(t,"POST","/v1/accounts:signInWithPassword",fa(t,n)));case 1:case"end":return e.stop()}}),e)}))),So.apply(this,arguments)}function Eo(e,t){return To.apply(this,arguments)}function To(){return To=Xn(Qn().mark((function e(t,n){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ha(t,"POST","/v1/accounts:sendOobCode",fa(t,n)));case 1:case"end":return e.stop()}}),e)}))),To.apply(this,arguments)}function Co(e,t){return Ao.apply(this,arguments)}function Ao(){return Ao=Xn(Qn().mark((function e(t,n){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Eo(t,n));case 1:case"end":return e.stop()}}),e)}))),Ao.apply(this,arguments)}function No(e,t){return Oo.apply(this,arguments)}function Oo(){return Oo=Xn(Qn().mark((function e(t,n){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Eo(t,n));case 1:case"end":return e.stop()}}),e)}))),Oo.apply(this,arguments)}function Po(e,t){return Do.apply(this,arguments)}function Do(){return Do=Xn(Qn().mark((function e(t,n){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Eo(t,n));case 1:case"end":return e.stop()}}),e)}))),Do.apply(this,arguments)}function Ro(e,t){return Lo.apply(this,arguments)}function Lo(){return Lo=Xn(Qn().mark((function e(t,n){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Eo(t,n));case 1:case"end":return e.stop()}}),e)}))),Lo.apply(this,arguments)}function Mo(e,t){return Fo.apply(this,arguments)}function Fo(){return Fo=Xn(Qn().mark((function e(t,n){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ma(t,"POST","/v1/accounts:signInWithEmailLink",fa(t,n)));case 1:case"end":return e.stop()}}),e)}))),Fo.apply(this,arguments)}function Vo(e,t){return jo.apply(this,arguments)}function jo(){return jo=Xn(Qn().mark((function e(t,n){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ma(t,"POST","/v1/accounts:signInWithEmailLink",fa(t,n)));case 1:case"end":return e.stop()}}),e)}))),jo.apply(this,arguments)}var Uo=function(e){fn(n,e);var t=mn(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return rn(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return on(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Xn(Qn().mark((function e(t){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",_o(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Mo(t,{email:this._email,oobCode:this._password}));case 5:Gi(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Xn(Qn().mark((function e(t,n){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",bo(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Vo(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Gi(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(yo);function zo(e,t){return Zo.apply(this,arguments)}function Zo(){return Zo=Xn(Qn().mark((function e(t,n){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ma(t,"POST","/v1/accounts:signInWithIdp",fa(t,n)));case 1:case"end":return e.stop()}}),e)}))),Zo.apply(this,arguments)}var Bo=function(e){fn(n,e);var t=mn(n);function n(){var e;return rn(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return on(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return zo(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,zo(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,zo(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Zn(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Gi("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Ci(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(yo);function qo(e,t){return Ko.apply(this,arguments)}function Ko(){return Ko=Xn(Qn().mark((function e(t,n){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ha(t,"POST","/v1/accounts:sendVerificationCode",fa(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ko.apply(this,arguments)}function Wo(){return Wo=Xn(Qn().mark((function e(t,n){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ma(t,"POST","/v1/accounts:signInWithPhoneNumber",fa(t,n)));case 1:case"end":return e.stop()}}),e)}))),Wo.apply(this,arguments)}function Go(){return Go=Xn(Qn().mark((function e(t,n){var r;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ma(t,"POST","/v1/accounts:signInWithPhoneNumber",fa(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw ba(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),Go.apply(this,arguments)}var Ho=(0,Ee.Z)({},"USER_NOT_FOUND","user-not-found");function Qo(){return Qo=Xn(Qn().mark((function e(t,n){var r;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",ma(t,"POST","/v1/accounts:signInWithPhoneNumber",fa(t,r),Ho));case 2:case"end":return e.stop()}}),e)}))),Qo.apply(this,arguments)}var $o=function(e){fn(n,e);var t=mn(n);function n(e){var r;return rn(this,n),(r=t.call(this,"phone","phone")).params=e,r}return on(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Wo.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Go.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Qo.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(yo);var Yo=function(){function e(t){var n,r,i,a,o,u;rn(this,e);var s=Bn(qn(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);Xi(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return on(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Bn(qn(e)).link,n=t?Bn(qn(t)).deep_link_id:null,r=Bn(qn(e)).deep_link_id;return(r?Bn(qn(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(tE){return null}}}]),e}();var Xo=function(){function e(){rn(this,e),this.providerId=e.PROVIDER_ID}return on(e,null,[{key:"credential",value:function(e,t){return Uo._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Yo.parseLink(t);return Xi(n,"argument-error"),Uo._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Xo.PROVIDER_ID="password",Xo.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Xo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Jo=function(){function e(t){rn(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return on(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),eu=function(e){fn(n,e);var t=mn(n);function n(){var e;return rn(this,n),(e=t.apply(this,arguments)).scopes=[],e}return on(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return(0,$n.Z)(this.scopes)}}]),n}(Jo),tu=function(e){fn(n,e);var t=mn(n);function n(){return rn(this,n),t.apply(this,arguments)}return on(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Xi(e.idToken||e.accessToken,"argument-error"),Bo._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Xi("providerId"in t&&"signInMethod"in t,"argument-error"),Bo._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(eu),nu=function(e){fn(n,e);var t=mn(n);function n(){return rn(this,n),t.call(this,"facebook.com")}return on(n,null,[{key:"credential",value:function(e){return Bo._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(tE){return null}}}]),n}(eu);nu.FACEBOOK_SIGN_IN_METHOD="facebook.com",nu.PROVIDER_ID="facebook.com";var ru=function(e){fn(n,e);var t=mn(n);function n(){var e;return rn(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return on(n,null,[{key:"credential",value:function(e,t){return Bo._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(tE){return null}}}]),n}(eu);ru.GOOGLE_SIGN_IN_METHOD="google.com",ru.PROVIDER_ID="google.com";var iu=function(e){fn(n,e);var t=mn(n);function n(){return rn(this,n),t.call(this,"github.com")}return on(n,null,[{key:"credential",value:function(e){return Bo._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(tE){return null}}}]),n}(eu);iu.GITHUB_SIGN_IN_METHOD="github.com",iu.PROVIDER_ID="github.com";var au=function(e){fn(n,e);var t=mn(n);function n(e,r){var i;return rn(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return on(n,[{key:"_getIdTokenResponse",value:function(e){return zo(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,zo(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,zo(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(yo),ou=function(e){fn(n,e);var t=mn(n);function n(e){return rn(this,n),Xi(e.startsWith("saml."),"argument-error"),t.call(this,e)}return on(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=au.fromJSON(e);return Xi(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return au._create(r,n)}catch(i){return null}}}]),n}(Jo),uu=function(e){fn(n,e);var t=mn(n);function n(){return rn(this,n),t.call(this,"twitter.com")}return on(n,null,[{key:"credential",value:function(e,t){return Bo._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(tE){return null}}}]),n}(eu);function su(e,t){return cu.apply(this,arguments)}function cu(){return cu=Xn(Qn().mark((function e(t,n){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ma(t,"POST","/v1/accounts:signUp",fa(t,n)));case 1:case"end":return e.stop()}}),e)}))),cu.apply(this,arguments)}uu.TWITTER_SIGN_IN_METHOD="twitter.com",uu.PROVIDER_ID="twitter.com";var lu=function(){function e(t){rn(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return on(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Xn(Qn().mark((function t(n,r,i){var a,o,u,s,c=arguments;return Qn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Ka._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=fu(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Xn(Qn().mark((function t(n,r,i){var a;return Qn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=fu(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function fu(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function hu(){return hu=Xn(Qn().mark((function e(t){var n,r,i,a;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fo(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new lu({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,su(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,lu._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),hu.apply(this,arguments)}var du=function(e){fn(n,e);var t=mn(n);function n(e,r,i,a){var o,u;return rn(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(cn(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return on(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Ln);function pu(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw du._fromErrorAndOperation(e,n,t,r);throw n}))}function vu(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function mu(e,t){return yu.apply(this,arguments)}function yu(){return yu=Xn(Qn().mark((function e(t,n){var r,i,a,o;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Hn(t),e.next=3,bu(!0,r,n);case 3:return e.t0=Ia,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=vu(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),yu.apply(this,arguments)}function gu(e,t){return ku.apply(this,arguments)}function ku(){return ku=Xn(Qn().mark((function e(t,n){var r,i,a=arguments;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Oa,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",lu._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),ku.apply(this,arguments)}function bu(e,t,n){return wu.apply(this,arguments)}function wu(){return wu=Xn(Qn().mark((function e(t,n,r){var i,a;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ma(n);case 2:i=vu(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Xi(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)}))),wu.apply(this,arguments)}function xu(e,t){return Iu.apply(this,arguments)}function Iu(){return Iu=Xn(Qn().mark((function e(t,n){var r,i,a,o,u,s,c,l=arguments;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]&&l[2],a=t.auth,o="reauthenticate",e.prev=3,e.next=6,Oa(t,pu(a,o,n,t),r);case 6:return Xi((u=e.sent).idToken,a,"internal-error"),Xi(s=Na(u.idToken),a,"internal-error"),c=s.sub,Xi(t.uid===c,a,"user-mismatch"),e.abrupt("return",lu._forOperation(t,o,u));case 15:throw e.prev=15,e.t0=e.catch(3),(null===(i=e.t0)||void 0===i?void 0:i.code)==="auth/".concat("user-not-found")&&Gi(a,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Iu.apply(this,arguments)}function _u(e,t){return Su.apply(this,arguments)}function Su(){return Su=Xn(Qn().mark((function e(t,n){var r,i,a,o,u=arguments;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,pu(t,i,n);case 4:return a=e.sent,e.next=7,lu._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Su.apply(this,arguments)}function Eu(e,t){return Tu.apply(this,arguments)}function Tu(){return Tu=Xn(Qn().mark((function e(t,n){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_u(fo(t),n));case 1:case"end":return e.stop()}}),e)}))),Tu.apply(this,arguments)}function Cu(e,t){return Au.apply(this,arguments)}function Au(){return(Au=Xn(Qn().mark((function e(t,n){var r;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Hn(t),e.next=3,bu(!1,r,n.providerId);case 3:return e.abrupt("return",gu(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nu(e,t){return Ou.apply(this,arguments)}function Ou(){return(Ou=Xn(Qn().mark((function e(t,n){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xu(Hn(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pu(e,t){return Du.apply(this,arguments)}function Du(){return Du=Xn(Qn().mark((function e(t,n){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ma(t,"POST","/v1/accounts:signInWithCustomToken",fa(t,n)));case 1:case"end":return e.stop()}}),e)}))),Du.apply(this,arguments)}function Ru(){return Ru=Xn(Qn().mark((function e(t,n){var r,i,a;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fo(t),e.next=3,Pu(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,lu._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),Ru.apply(this,arguments)}var Lu=function(){function e(t,n){rn(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return on(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?Mu._fromServerResponse(e,t):Gi(e,"internal-error")}}]),e}(),Mu=function(e){fn(n,e);var t=mn(n);function n(e){var r;return rn(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return on(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Lu);function Fu(e,t,n){var r;Xi((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Xi("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Xi(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Xi(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Vu(){return Vu=Xn(Qn().mark((function e(t,n,r){var i,a;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Hn(t),a={requestType:"PASSWORD_RESET",email:n},r&&Fu(i,a,r),e.next=5,No(i,a);case 5:case"end":return e.stop()}}),e)}))),Vu.apply(this,arguments)}function ju(){return ju=Xn(Qn().mark((function e(t,n,r){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,go(Hn(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),ju.apply(this,arguments)}function Uu(){return Uu=Xn(Qn().mark((function e(t,n){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xo(Hn(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),Uu.apply(this,arguments)}function zu(e,t){return Zu.apply(this,arguments)}function Zu(){return Zu=Xn(Qn().mark((function e(t,n){var r,i,a,o;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Hn(t),e.next=3,go(r,{oobCode:n});case 3:i=e.sent,Xi(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Xi(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Xi(i.mfaInfo,r,"internal-error");case 13:Xi(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=Lu._fromServerResponse(fo(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),Zu.apply(this,arguments)}function Bu(){return Bu=Xn(Qn().mark((function e(t,n){var r,i;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zu(Hn(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),Bu.apply(this,arguments)}function qu(e,t,n){return Ku.apply(this,arguments)}function Ku(){return Ku=Xn(Qn().mark((function e(t,n,r){var i,a,o;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=fo(t),e.next=3,su(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,lu._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),Ku.apply(this,arguments)}function Wu(){return Wu=Xn(Qn().mark((function e(t,n,r){var i,a;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Hn(t),a={requestType:"EMAIL_SIGNIN",email:n},Xi(r.handleCodeInApp,i,"argument-error"),r&&Fu(i,a,r),e.next=6,Po(i,a);case 6:case"end":return e.stop()}}),e)}))),Wu.apply(this,arguments)}function Gu(){return Gu=Xn(Qn().mark((function e(t,n,r){var i,a;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Hn(t),Xi((a=Xo.credentialWithLink(n,r||ra()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",Eu(i,a));case 4:case"end":return e.stop()}}),e)}))),Gu.apply(this,arguments)}function Hu(e,t){return Qu.apply(this,arguments)}function Qu(){return Qu=Xn(Qn().mark((function e(t,n){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ha(t,"POST","/v1/accounts:createAuthUri",fa(t,n)));case 1:case"end":return e.stop()}}),e)}))),Qu.apply(this,arguments)}function $u(){return $u=Xn(Qn().mark((function e(t,n){var r,i,a,o;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ia()?ra():"http://localhost",i={identifier:n,continueUri:r},e.next=4,Hu(Hn(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),$u.apply(this,arguments)}function Yu(){return(Yu=Xn(Qn().mark((function e(t,n){var r,i,a,o;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Hn(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&Fu(r.auth,a,n),e.next=8,Co(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xu(){return(Xu=Xn(Qn().mark((function e(t,n,r){var i,a,o,u;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Hn(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&Fu(i.auth,o,r),e.next=8,Ro(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ju(e,t){return es.apply(this,arguments)}function es(){return es=Xn(Qn().mark((function e(t,n){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ha(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),es.apply(this,arguments)}function ts(){return(ts=Xn(Qn().mark((function e(t,n){var r,i,a,o,u,s,c;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Hn(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Oa(a,Ju(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ns(e,t,n){return rs.apply(this,arguments)}function rs(){return rs=Xn(Qn().mark((function e(t,n,r){var i,a,o,u;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Oa(t,bo(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),rs.apply(this,arguments)}var is=on((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};rn(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),as=function(e){fn(n,e);var t=mn(n);function n(e,r,i,a){var o;return rn(this,n),(o=t.call(this,e,r,i)).username=a,o}return on(n)}(is),os=function(e){fn(n,e);var t=mn(n);function n(e,r){return rn(this,n),t.call(this,e,"facebook.com",r)}return on(n)}(is),us=function(e){fn(n,e);var t=mn(n);function n(e,r){return rn(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return on(n)}(as),ss=function(e){fn(n,e);var t=mn(n);function n(e,r){return rn(this,n),t.call(this,e,"google.com",r)}return on(n)}(is),cs=function(e){fn(n,e);var t=mn(n);function n(e,r,i){return rn(this,n),t.call(this,e,"twitter.com",r,i)}return on(n)}(as);function ls(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=Na(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new is(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new os(a,i);case"github.com":return new us(a,i);case"google.com":return new ss(a,i);case"twitter.com":return new cs(a,i,e.screenName||null);case"custom":case"anonymous":return new is(a,null);default:return new is(a,r,i)}}(n)}var fs=function(){function e(t,n,r){rn(this,e),this.type=t,this.credential=n,this.auth=r}return on(e,[{key:"toJSON",value:function(){var e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:(0,Ee.Z)({},e,this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),hs=function(){function e(t,n,r){rn(this,e),this.session=t,this.hints=n,this.signInResolver=r}return on(e,[{key:"resolveSignIn",value:function(){var e=Xn(Qn().mark((function e(t){var n;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=fo(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return Lu._fromServerResponse(r,e)}));Xi(i.mfaPendingCredential,r,"internal-error");var o=fs._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Xn(Qn().mark((function e(t){var a,u,s;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,lu._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return Xi(n.user,r,"internal-error"),e.abrupt("return",lu._forOperation(n.user,n.operationType,u));case 17:Gi(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function ds(e,t){return ha(e,"POST","/v2/accounts/mfaEnrollment:start",fa(e,t))}function ps(e,t){return ha(e,"POST","/v2/accounts/mfaEnrollment:withdraw",fa(e,t))}var vs=function(){function e(t){var n=this;rn(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return Lu._fromServerResponse(t.auth,e)})))}))}return on(e,[{key:"getSession",value:function(){var e=Xn(Qn().mark((function e(){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=fs,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user.auth,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Xn(Qn().mark((function e(t,n){var r,i,a;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Oa(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Xn(Qn().mark((function e(t){var n,r,i,a;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return i=e.sent,e.next=6,Oa(this.user,ps(this.user.auth,{idToken:i,mfaEnrollmentId:r}));case 6:return a=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==r})),e.next=10,this.user._updateTokensIfNecessary(a);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),ms=new WeakMap;var ys="__sak",gs=function(){function e(t,n){rn(this,e),this.storageRetriever=t,this.type=n}return on(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(ys,"1"),this.storage.removeItem(ys),Promise.resolve(!0)):Promise.resolve(!1)}catch(tE){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var ks=function(e){fn(n,e);var t=mn(n);function n(){var e;return rn(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=_n();return Xa(e)||io(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=uo(),e._shouldAllowMigration=!0,e}return on(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);oo()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Xn(Qn().mark((function e(t,r){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ti(hn(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Xn(Qn().mark((function e(t){var r;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ti(hn(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Xn(Qn().mark((function e(t){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ti(hn(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(gs);ks.type="LOCAL";var bs=ks,ws=function(e){fn(n,e);var t=mn(n);function n(){return rn(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return on(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(gs);ws.type="SESSION";var xs=ws;function Is(e){return Promise.all(e.map(function(){var e=Xn(Qn().mark((function e(t){var n;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var _s=function(){function e(t){rn(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return on(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Xn(Qn().mark((function e(t){var n,r,i,a,o,u,s,c;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=Xn(Qn().mark((function e(t){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Is(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Ss(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}_s.receivers=[];var Es=function(){function e(t){rn(this,e),this.target=t,this.handlers=new Set}return on(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Xn(Qn().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=Ss("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Ts(){return window}function Cs(){return"undefined"!==typeof Ts().WorkerGlobalScope&&"function"===typeof Ts().importScripts}function As(){return Ns.apply(this,arguments)}function Ns(){return(Ns=Xn(Qn().mark((function e(){var t;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Os(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Ps="firebaseLocalStorageDb",Ds="firebaseLocalStorage",Rs="fbase_key",Ls=function(){function e(t){rn(this,e),this.request=t}return on(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Ms(e,t){return e.transaction([Ds],t?"readwrite":"readonly").objectStore(Ds)}function Fs(){var e=indexedDB.deleteDatabase(Ps);return new Ls(e).toPromise()}function Vs(){var e=indexedDB.open(Ps,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Ds,{keyPath:Rs})}catch(r){n(r)}})),e.addEventListener("success",Xn(Qn().mark((function n(){var r;return Qn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Ds)){n.next=12;break}return r.close(),n.next=5,Fs();case 5:return n.t0=t,n.next=8,Vs();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function js(e,t,n){return Us.apply(this,arguments)}function Us(){return Us=Xn(Qn().mark((function e(t,n,r){var i,a;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ms(t,!0).put((i={},(0,Ee.Z)(i,Rs,n),(0,Ee.Z)(i,"value",r),i)),e.abrupt("return",new Ls(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Us.apply(this,arguments)}function zs(e,t){return Zs.apply(this,arguments)}function Zs(){return Zs=Xn(Qn().mark((function e(t,n){var r,i;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ms(t,!1).get(n),e.next=3,new Ls(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Zs.apply(this,arguments)}function Bs(e,t){var n=Ms(e,!0).delete(t);return new Ls(n).toPromise()}var qs=function(){function e(){rn(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return on(e,[{key:"_openDb",value:function(){var e=Xn(Qn().mark((function e(){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Vs();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Xn(Qn().mark((function e(t){var n,r;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Xn(Qn().mark((function e(){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Cs()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Xn(Qn().mark((function e(){var t=this;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=_s._getInstance(Cs()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Xn(Qn().mark((function e(n,r){var i;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Xn(Qn().mark((function e(t,n){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Xn(Qn().mark((function e(){var t,n,r;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,As();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Es(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Xn(Qn().mark((function e(t){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Os()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Xn(Qn().mark((function e(){var t;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Vs();case 5:return t=e.sent,e.next=8,js(t,ys,"1");case 8:return e.next=10,Bs(t,ys);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Xn(Qn().mark((function e(t){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Xn(Qn().mark((function e(t,n){var r=this;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Xn(Qn().mark((function e(){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return js(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Xn(Qn().mark((function e(t){var n;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return zs(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Xn(Qn().mark((function e(t){var n=this;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Xn(Qn().mark((function e(){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Bs(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Xn(Qn().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Ms(e,!1).getAll();return new Ls(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=sn(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Xn(Qn().mark((function t(){return Qn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();qs.type="LOCAL";var Ks=qs;function Ws(e,t){return ha(e,"POST","/v2/accounts/mfaSignIn:start",fa(e,t))}function Gs(e){return Hs.apply(this,arguments)}function Hs(){return Hs=Xn(Qn().mark((function e(t){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ha(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),Hs.apply(this,arguments)}function Qs(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Hi("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function $s(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Ys=1e12,Xs=function(){function e(t){rn(this,e),this.auth=t,this.counter=Ys,this._widgets=new Map}return on(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new Js(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||Ys;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||Ys;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Xn(Qn().mark((function e(t){var n,r;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||Ys,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Js=function(){function e(t,n,r){var i=this;rn(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Xi(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return on(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var ec=$s("rcb"),tc=new oa(3e4,6e4),nc="https://www.google.com/recaptcha/api.js?",rc=function(){function e(){var t;rn(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=Ts().grecaptcha)||void 0===t?void 0:t.render)}return on(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Xi(ic(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(Ts().grecaptcha):new Promise((function(r,i){var a=Ts().setTimeout((function(){i(Hi(e,"network-request-failed"))}),tc.get());Ts()[ec]=function(){Ts().clearTimeout(a),delete Ts()[ec];var o=Ts().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(Hi(e,"internal-error"))},Qs("".concat(nc,"?").concat(Zn({onload:ec,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(Hi(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=Ts().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function ic(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var ac=function(){function e(){rn(this,e)}return on(e,[{key:"load",value:function(){var e=Xn(Qn().mark((function e(t){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Xs(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),oc="recaptcha",uc={theme:"light",type:"image"},sc=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},uc),r=arguments.length>2?arguments[2]:void 0;rn(this,e),this.parameters=n,this.type=oc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=fo(r),this.isInvisible="invisible"===this.parameters.size,Xi("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;Xi(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ac:new rc,this.validateStartingState()}return on(e,[{key:"verify",value:function(){var e=Xn(Qn().mark((function e(){var t,n,r,i=this;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Xi(!this.parameters.sitekey,this.auth,"argument-error"),Xi(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Xi("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Ts()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Xi(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Xn(Qn().mark((function e(){var t,n;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Xn(Qn().mark((function e(){var t;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Xi(ia()&&!Cs(),this.auth,"internal-error"),e.next=3,cc();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,Gs(this.auth);case 8:Xi(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Xi(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function cc(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var lc=function(){function e(t,n){rn(this,e),this.verificationId=t,this.onConfirmation=n}return on(e,[{key:"confirm",value:function(e){var t=$o._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function fc(){return fc=Xn(Qn().mark((function e(t,n,r){var i,a;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=fo(t),e.next=3,vc(i,n,Hn(r));case 3:return a=e.sent,e.abrupt("return",new lc(a,(function(e){return Eu(i,e)})));case 5:case"end":return e.stop()}}),e)}))),fc.apply(this,arguments)}function hc(e,t,n){return dc.apply(this,arguments)}function dc(){return(dc=Xn(Qn().mark((function e(t,n,r){var i,a;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Hn(t),e.next=3,bu(!1,i,"phone");case 3:return e.next=5,vc(i.auth,n,Hn(r));case 5:return a=e.sent,e.abrupt("return",new lc(a,(function(e){return Cu(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pc(){return(pc=Xn(Qn().mark((function e(t,n,r){var i,a;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Hn(t),e.next=3,vc(i.auth,n,Hn(r));case 3:return a=e.sent,e.abrupt("return",new lc(a,(function(e){return Nu(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vc(e,t,n){return mc.apply(this,arguments)}function mc(){return mc=Xn(Qn().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Xi("string"===typeof a,t,"argument-error"),Xi(r.type===oc,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return Xi("enroll"===u.type,t,"internal-error"),e.next=13,ds(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return Xi("signin"===u.type,t,"internal-error"),Xi(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Ws(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,qo(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),mc.apply(this,arguments)}function yc(){return(yc=Xn(Qn().mark((function e(t,n){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gu(Hn(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var gc=function(){function e(t){rn(this,e),this.providerId=e.PROVIDER_ID,this.auth=fo(t)}return on(e,[{key:"verifyPhoneNumber",value:function(e,t){return vc(this.auth,e,Hn(t))}}],[{key:"credential",value:function(e,t){return $o._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?$o._fromTokenResponse(n,r):null}}]),e}();function kc(e,t){return t?na(t):(Xi(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}gc.PROVIDER_ID="phone",gc.PHONE_SIGN_IN_METHOD="phone";var bc=function(e){fn(n,e);var t=mn(n);function n(e){var r;return rn(this,n),(r=t.call(this,"custom","custom")).params=e,r}return on(n,[{key:"_getIdTokenResponse",value:function(e){return zo(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return zo(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return zo(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(yo);function wc(e){return _u(e.auth,new bc(e),e.bypassAuthState)}function xc(e){var t=e.auth,n=e.user;return Xi(n,t,"internal-error"),xu(n,new bc(e),e.bypassAuthState)}function Ic(e){return _c.apply(this,arguments)}function _c(){return _c=Xn(Qn().mark((function e(t){var n,r;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Xi(r=t.user,n,"internal-error"),e.abrupt("return",gu(r,new bc(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),_c.apply(this,arguments)}var Sc=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];rn(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return on(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Xn(Qn().mark((function t(n,r){return Qn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Xn(Qn().mark((function e(t){var n,r,i,a,o,u,s;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wc;case"linkViaPopup":case"linkViaRedirect":return Ic;case"reauthViaPopup":case"reauthViaRedirect":return xc;default:Gi(this.auth,"internal-error")}}},{key:"resolve",value:function(e){ea(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){ea(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Ec=new oa(2e3,1e4);function Tc(e,t,n){return Cc.apply(this,arguments)}function Cc(){return Cc=Xn(Qn().mark((function e(t,n,r){var i,a,o;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=fo(t),$i(t,n,Jo),a=kc(i,r),o=new Pc(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),Cc.apply(this,arguments)}function Ac(){return Ac=Xn(Qn().mark((function e(t,n,r){var i,a,o;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $i((i=Hn(t)).auth,n,Jo),a=kc(i.auth,r),o=new Pc(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),Ac.apply(this,arguments)}function Nc(e,t,n){return Oc.apply(this,arguments)}function Oc(){return Oc=Xn(Qn().mark((function e(t,n,r){var i,a,o;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $i((i=Hn(t)).auth,n,Jo),a=kc(i.auth,r),o=new Pc(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),Oc.apply(this,arguments)}var Pc=function(e){fn(n,e);var t=mn(n);function n(e,r,i,a,o){var u;return rn(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=cn(u),u}return on(n,[{key:"executeNotNull",value:function(){var e=Xn(Qn().mark((function e(){var t;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Xi(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Xn(Qn().mark((function e(){var t,n=this;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ea(1===this.filter.length,"Popup operations only handle one event"),t=Ss(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Hi(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Hi(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Hi(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Ec.get())}()}}]),n}(Sc);Pc.currentPopupAction=null;var Dc=new Map,Rc=function(e){fn(n,e);var t=mn(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return rn(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return on(n,[{key:"execute",value:function(){var e=Xn(Qn().mark((function e(){var t,r;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Dc.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Lc(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Ti(hn(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Dc.set(this.auth._key(),t);case 21:return this.bypassAuthState||Dc.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Xn(Qn().mark((function e(t){var r;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Ti(hn(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Ti(hn(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Xn(Qn().mark((function e(){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Sc);function Lc(e,t){return Mc.apply(this,arguments)}function Mc(){return Mc=Xn(Qn().mark((function e(t,n){var r,i,a;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=zc(n),i=Uc(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),Mc.apply(this,arguments)}function Fc(e,t){return Vc.apply(this,arguments)}function Vc(){return Vc=Xn(Qn().mark((function e(t,n){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Uc(t)._set(zc(n),"true"));case 1:case"end":return e.stop()}}),e)}))),Vc.apply(this,arguments)}function jc(e,t){Dc.set(e._key(),t)}function Uc(e){return na(e._redirectPersistence)}function zc(e){return Ha("pendingRedirect",e.config.apiKey,e.name)}function Zc(e,t,n){return function(e,t,n){return Bc.apply(this,arguments)}(e,t,n)}function Bc(){return Bc=Xn(Qn().mark((function e(t,n,r){var i,a;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=fo(t),$i(t,n,Jo),a=kc(i,r),e.next=5,Fc(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),Bc.apply(this,arguments)}function qc(e,t,n){return function(e,t,n){return Kc.apply(this,arguments)}(e,t,n)}function Kc(){return Kc=Xn(Qn().mark((function e(t,n,r){var i,a,o;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $i((i=Hn(t)).auth,n,Jo),a=kc(i.auth,r),e.next=5,Fc(a,i.auth);case 5:return e.next=7,Xc(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)}))),Kc.apply(this,arguments)}function Wc(e,t,n){return function(e,t,n){return Gc.apply(this,arguments)}(e,t,n)}function Gc(){return Gc=Xn(Qn().mark((function e(t,n,r){var i,a,o;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $i((i=Hn(t)).auth,n,Jo),a=kc(i.auth,r),e.next=5,bu(!1,i,n.providerId);case 5:return e.next=7,Fc(a,i.auth);case 7:return e.next=9,Xc(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)}))),Gc.apply(this,arguments)}function Hc(e,t){return Qc.apply(this,arguments)}function Qc(){return Qc=Xn(Qn().mark((function e(t,n){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fo(t)._initializationPromise;case 2:return e.abrupt("return",$c(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),Qc.apply(this,arguments)}function $c(e,t){return Yc.apply(this,arguments)}function Yc(){return Yc=Xn(Qn().mark((function e(t,n){var r,i,a,o,u,s=arguments;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=fo(t),a=kc(i,n),o=new Rc(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),Yc.apply(this,arguments)}function Xc(e){return Jc.apply(this,arguments)}function Jc(){return(Jc=Xn(Qn().mark((function e(t){var n;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ss("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var el=function(){function e(t){rn(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return on(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nl(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!nl(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Hi(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(tl(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(tl(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function tl(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function nl(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function rl(e){return il.apply(this,arguments)}function il(){return il=Xn(Qn().mark((function e(t){var n,r=arguments;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",ha(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),il.apply(this,arguments)}var al=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ol=/^https?/;function ul(){return ul=Xn(Qn().mark((function e(t){var n,r,i,a,o;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,rl(t);case 4:n=e.sent,r=n.authorizedDomains,i=sn(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!sl(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Gi(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),ul.apply(this,arguments)}function sl(e){var t=ra(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!ol.test(r))return!1;if(al.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var cl=new oa(3e4,6e4);function ll(){var e=Ts().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=(0,$n.Z)(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var fl=null;function hl(e){return fl=fl||function(e){return new Promise((function(t,n){var r,i,a;function o(){ll(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){ll(),n(Hi(e,"network-request-failed"))},timeout:cl.get()})}if(null===(i=null===(r=Ts().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Ts().gapi)||void 0===a?void 0:a.load)){var u=$s("iframefcb");return Ts()[u]=function(){gapi.load?o():n(Hi(e,"network-request-failed"))},Qs("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw fl=null,e}))}(e),fl}var dl=new oa(5e3,15e3),pl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ml(e){var t=e.config;Xi(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?ua(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Wr},i=vl.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Zn(r).slice(1))}function yl(e){return gl.apply(this,arguments)}function gl(){return gl=Xn(Qn().mark((function e(t){var n,r;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hl(t);case 2:return n=e.sent,Xi(r=Ts().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:ml(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pl,dontclear:!0},(function(e){return new Promise(function(){var n=Xn(Qn().mark((function n(r,i){var a,o,u;return Qn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){Ts().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Hi(t,"network-request-failed"),o=Ts().setTimeout((function(){i(a)}),dl.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),gl.apply(this,arguments)}var kl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},bl="_blank",wl="http://localhost",xl=function(){function e(t){rn(this,e),this.window=t,this.associatedEvent=null}return on(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Il(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},kl),{width:r.toString(),height:i.toString(),top:a,left:o}),c=_n().toLowerCase();n&&(u=Ja(c)?bl:n),Ya(c)&&(t=t||wl,s.scrollbars="yes");var l=Object.entries(s).reduce((function(e,t){var n=(0,Tt.Z)(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(ao(c)&&"_self"!==u)return _l(t||"",u),new xl(null);var f=window.open(t||"",u,l);Xi(f,e,"popup-blocked");try{f.focus()}catch(h){}return new xl(f)}function _l(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Sl="__/auth/handler",El="emulator/auth/handler";function Tl(e,t,n,r,i,a){Xi(e.config.authDomain,e,"auth-domain-config-required"),Xi(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Wr,eventId:i};if(t instanceof Jo){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var c=(0,Tt.Z)(s[u],2),l=c[0],f=c[1];o[l]=f}}if(t instanceof eu){var h=t.getScopes().filter((function(e){return""!==e}));h.length>0&&(o.scopes=h.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var d=o,p=0,v=Object.keys(d);p<v.length;p++){var m=v[p];void 0===d[m]&&delete d[m]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Sl);return ua(t,El)}(e),"?").concat(Zn(d).slice(1))}var Cl="webStorageSupport",Al=function(){function e(){rn(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xs,this._completeRedirectFn=$c,this._overrideRedirectResult=jc}return on(e,[{key:"_openPopup",value:function(){var e=Xn(Qn().mark((function e(t,n,r,i){var a,o;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ea(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=Tl(t,n,r,ra(),i),e.abrupt("return",Il(t,o,Ss()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Xn(Qn().mark((function e(t,n,r,i){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=Tl(t,n,r,ra(),i),Ts().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(ea(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Xn(Qn().mark((function e(t){var n,r;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yl(t);case 2:return n=e.sent,r=new el(t),n.register("authEvent",(function(e){return Xi(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Cl,{type:Cl},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),Gi(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return ul.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return uo()||Xa()||io()}}]),e}(),Nl=Al,Ol=function(){function e(t){rn(this,e),this.factorId=t}return on(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Ji("unexpected MultiFactorSessionType")}}}]),e}(),Pl=function(e){fn(n,e);var t=mn(n);function n(e){var r;return rn(this,n),(r=t.call(this,"phone")).credential=e,r}return on(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return ha(e,"POST","/v2/accounts/mfaEnrollment:finalize",fa(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return ha(e,"POST","/v2/accounts/mfaSignIn:finalize",fa(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(Ol),Dl=function(){function e(){rn(this,e)}return on(e,null,[{key:"assertion",value:function(e){return Pl._fromCredential(e)}}]),e}();Dl.FACTOR_ID="phone";var Rl="@firebase/auth",Ll="0.20.11",Ml=function(){function e(t){rn(this,e),this.auth=t,this.internalListeners=new Map}return on(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Xn(Qn().mark((function e(t){var n;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Xi(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var Fl;!function(e){var t;null===(t=On())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function Vl(){return window}Fl="Browser",jr(new Jn("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){Xi(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),Xi(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:Fl,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:so(Fl)},i=new lo(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(na);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),jr(new Jn("auth-internal",(function(e){return function(e){return new Ml(e)}(fo(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Xr(Rl,Ll,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Fl)),Xr(Rl,Ll,"esm2017");function jl(e,t,n){return Ul.apply(this,arguments)}function Ul(){return Ul=Xn(Qn().mark((function e(t,n,r){var i,a,o,u,s;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Vl(),o=a.BuildInfo,ea(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,Wl(n.sessionId);case 4:return u=e.sent,s={},io()?s.ibi=o.packageName:to()?s.apn=o.packageName:Gi(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",Tl(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),Ul.apply(this,arguments)}function zl(){return zl=Xn(Qn().mark((function e(t){var n,r,i;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Vl(),r=n.BuildInfo,i={},io()?i.iosBundleId=r.packageName:to()?i.androidPackageName=r.packageName:Gi(t,"operation-not-supported-in-this-environment"),e.next=5,rl(t,i);case 5:case"end":return e.stop()}}),e)}))),zl.apply(this,arguments)}function Zl(e){var t=Vl().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_n();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function Bl(e,t,n){return ql.apply(this,arguments)}function ql(){return ql=Xn(Qn().mark((function e(t,n,r){var i,a,o;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Vl(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(Hi(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),to()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),ql.apply(this,arguments)}function Kl(e){var t,n,r,i,a,o,u,s,c,l,f=Vl();Xi("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Xi("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Xi("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Xi("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Xi("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function Wl(e){return Gl.apply(this,arguments)}function Gl(){return(Gl=Xn(Qn().mark((function e(t){var n,r,i;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Hl(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hl(e){if(ea(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var Ql=function(e){fn(n,e);var t=mn(n);function n(){var e;return rn(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return on(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Ti(hn(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Xn(Qn().mark((function e(){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(el);function $l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:tf(),postBody:null,tenantId:e.tenantId,error:Hi(e,"no-auth-event")}}function Yl(e,t){return nf()._set(rf(e),t)}function Xl(e){return Jl.apply(this,arguments)}function Jl(){return Jl=Xn(Qn().mark((function e(t){var n;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nf()._get(rf(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,nf()._remove(rf(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),Jl.apply(this,arguments)}function ef(e,t){var n,r,i=function(e){var t=af(e),n=t.link?decodeURIComponent(t.link):void 0,r=af(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return af(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=af(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?Hi(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function tf(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function nf(){return na(bs)}function rf(e){return Ha("authEvent",e.config.apiKey,e.name)}function af(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=(t=n,(0,Ii.Z)(t)||(0,_i.Z)(t)||(0,un.Z)(t)||(0,Si.Z)());r[0];return Bn(r.slice(1).join("?"))}var of=function(){function e(){rn(this,e),this._redirectPersistence=xs,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=$c,this._overrideRedirectResult=jc}return on(e,[{key:"_initialize",value:function(){var e=Xn(Qn().mark((function e(t){var n,r;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new Ql(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){Gi(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Xn(Qn().mark((function e(t,n,r,i){var a,o,u,s;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Kl(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),Dc.clear(),e.next=10,this._originValidation(t);case 10:return o=$l(t,r,i),e.next=13,Yl(t,o);case 13:return e.next=15,jl(t,o,n);case 15:return u=e.sent,e.next=18,Zl(u);case 18:return s=e.sent,e.abrupt("return",Bl(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return zl.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=Vl(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Xn(Qn().mark((function n(){return Qn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Xl(e);case 2:t.onEvent(sf());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=Xn(Qn().mark((function n(r){var i,a;return Qn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,Xl(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=ef(i,r.url)),t.onEvent(a||sf());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");Vl().handleOpenURL=function(){var e=Xn(Qn().mark((function e(t){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),uf=of;function sf(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Hi("no-auth-event")}}function cf(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function lf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_n();return!("file:"!==cf()&&"ionic:"!==cf()&&"capacitor:"!==cf()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function ff(){return Cn()&&11===(null===document||void 0===document?void 0:document.documentMode)}function hf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_n();return/Edge\/\d+/.test(e)}function df(){try{var e=self.localStorage,t=Ss();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_n();return ff()||hf(e)}()||An()}catch(n){return pf()&&An()}return!1}function pf(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function vf(){return("http:"===cf()||"https:"===cf()||En()||lf())&&!(Tn()||Sn())&&df()&&!pf()}function mf(){return lf()&&"undefined"!==typeof document}function yf(){return gf.apply(this,arguments)}function gf(){return(gf=Xn(Qn().mark((function e(){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(mf()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var kf={LOCAL:"local",NONE:"none",SESSION:"session"},bf=Xi,wf="persistence";function xf(e,t){bf(Object.values(kf).includes(t),e,"invalid-persistence-type"),Tn()?bf(t!==kf.SESSION,e,"unsupported-persistence-type"):Sn()?bf(t===kf.NONE,e,"unsupported-persistence-type"):pf()?bf(t===kf.NONE||t===kf.LOCAL&&An(),e,"unsupported-persistence-type"):bf(t===kf.NONE||df(),e,"unsupported-persistence-type")}function If(e){return _f.apply(this,arguments)}function _f(){return _f=Xn(Qn().mark((function e(t){var n,r;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=Sf(),r=Ha(wf,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),_f.apply(this,arguments)}function Sf(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var Ef=Xi,Tf=function(){function e(){rn(this,e),this.browserResolver=na(Nl),this.cordovaResolver=na(uf),this.underlyingResolver=null,this._redirectPersistence=xs,this._completeRedirectFn=$c,this._overrideRedirectResult=jc}return on(e,[{key:"_initialize",value:function(){var e=Xn(Qn().mark((function e(t){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Xn(Qn().mark((function e(t,n,r,i){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Xn(Qn().mark((function e(t,n,r,i){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return mf()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return Ef(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Xn(Qn().mark((function e(){var t;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,yf();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Cf(e){return e.unwrap()}function Af(e,t){var n,r,i=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===(r=t)||void 0===r?void 0:r.code))t.resolver=new Rf(e,function(e,t){var n,r=Hn(e),i=t;return Xi(t.customData.operationType,r,"argument-error"),Xi(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),hs._fromError(r,i)}(e,t));else if(i){var a=Nf(t),o=t;a&&(o.credential=a,o.tenantId=i.tenantId||void 0,o.email=i.email||void 0,o.phoneNumber=i.phoneNumber||void 0)}}function Nf(e){var t=(e instanceof Ln?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof Ln)&&"temporaryProof"in t&&"phoneNumber"in t)return gc.credentialFromResult(e);var n,r=t.providerId;if(!r||r===Di)return null;switch(r){case Pi:n=ru;break;case Ni:n=nu;break;case Oi:n=iu;break;case Ri:n=uu;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?au._create(r,u):Bo._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new tu(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof Ln?n.credentialFromError(e):n.credentialFromResult(e)}function Of(e,t){return t.catch((function(t){throw t instanceof Ln&&Af(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,Nf(t)),additionalUserInfo:ls(e),user:Lf.getOrCreate(r)}}))}function Pf(e,t){return Df.apply(this,arguments)}function Df(){return Df=Xn(Qn().mark((function e(t,n){var r;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return Of(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),Df.apply(this,arguments)}var Rf=function(){function e(t,n){rn(this,e),this.resolver=n,this.auth=t.wrapped()}return on(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return Of(Cf(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),Lf=function(){function e(t){rn(this,e),this._delegate=t,this.multiFactor=function(e){var t=Hn(e);return ms.has(t)||ms.set(t,vs._fromUser(t)),ms.get(t)}(t)}return on(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Xn(Qn().mark((function e(t){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Of(this.auth,Cu(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Xn(Qn().mark((function e(t,n){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pf(this.auth,hc(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Xn(Qn().mark((function e(t){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Of(this.auth,Nc(this._delegate,t,Tf)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Xn(Qn().mark((function e(t){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,If(fo(this.auth));case 2:return e.abrupt("return",Wc(this._delegate,t,Tf));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Xn(Qn().mark((function e(t){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Of(this.auth,Nu(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return Pf(this.auth,function(e,t,n){return pc.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return Of(this.auth,function(e,t,n){return Ac.apply(this,arguments)}(this._delegate,e,Tf))}},{key:"reauthenticateWithRedirect",value:function(){var e=Xn(Qn().mark((function e(t){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,If(fo(this.auth));case 2:return e.abrupt("return",qc(this._delegate,t,Tf));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return Yu.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Xn(Qn().mark((function e(t){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mu(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return ns(Hn(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return ns(Hn(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return yc.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return ts.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return Xu.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();Lf.USER_MAP=new WeakMap;var Mf=Xi,Ff=function(){function e(t,n){if(rn(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;Mf(r,"invalid-api-key",{appName:t.name}),Mf(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?Tf:void 0;this._delegate=n.initialize({options:{persistence:jf(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Zi),this.linkUnderlyingAuth()}return on(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?Lf.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){po(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return Uu.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return zu(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return ju.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Xn(Qn().mark((function e(t,n){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Of(this._delegate,qu(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return $u.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=Yo.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Xn(Qn().mark((function e(){var t;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Mf(vf(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Hc(this._delegate,Tf);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",Of(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){fo(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=Vf(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=Vf(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return Wu.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return Vu.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Xn(Qn().mark((function e(t){var n,r;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:xf(this._delegate,t),e.t0=t,e.next=e.t0===kf.SESSION?4:e.t0===kf.LOCAL?6:e.t0===kf.NONE?11:13;break;case 4:return n=xs,e.abrupt("break",14);case 6:return e.next=8,na(Ks)._isAvailable();case 8:return r=e.sent,n=r?Ks:bs,e.abrupt("break",14);case 11:return n=Ga,e.abrupt("break",14);case 13:return e.abrupt("return",Gi("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return Of(this._delegate,function(e){return hu.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return Of(this._delegate,Eu(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return Of(this._delegate,function(e,t){return Ru.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return Of(this._delegate,function(e,t,n){return Eu(Hn(e),Xo.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return Of(this._delegate,function(e,t,n){return Gu.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return Pf(this._delegate,function(e,t,n){return fc.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Xn(Qn().mark((function e(t){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Mf(vf(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",Of(this._delegate,Tc(this._delegate,t,Tf)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Xn(Qn().mark((function e(t){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Mf(vf(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,If(this._delegate);case 3:return e.abrupt("return",Zc(this._delegate,t,Tf));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return Bu.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function Vf(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&Lf.getOrCreate(e))},error:t,complete:n}}function jf(e,t){var n=function(e,t){var n=Sf();if(!n)return[];var r=Ha(wf,e,t);switch(n.getItem(r)){case kf.NONE:return[Ga];case kf.LOCAL:return[Ks,xs];case kf.SESSION:return[xs];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Ks)||n.push(Ks),"undefined"!==typeof window)for(var r=0,i=[bs,xs];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(Ga)||n.push(Ga),n}Ff.Persistence=kf;var Uf=function(){function e(){rn(this,e),this.providerId="phone",this._delegate=new gc(Cf(xi.auth()))}return on(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return gc.credential(e,t)}}]),e}();Uf.PHONE_SIGN_IN_METHOD=gc.PHONE_SIGN_IN_METHOD,Uf.PROVIDER_ID=gc.PROVIDER_ID;var zf,Zf=Xi,Bf=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:xi.app();rn(this,e),Zf(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new sc(t,n,i.auth()),this.type=this._delegate.type}return on(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(zf=xi).INTERNAL.registerComponent(new Jn("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Ff(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Li,PASSWORD_RESET:Mi,RECOVER_EMAIL:Fi,REVERT_SECOND_FACTOR_ADDITION:Vi,VERIFY_AND_CHANGE_EMAIL:ji,VERIFY_EMAIL:Ui}},EmailAuthProvider:Xo,FacebookAuthProvider:nu,GithubAuthProvider:iu,GoogleAuthProvider:ru,OAuthProvider:tu,SAMLAuthProvider:ou,PhoneAuthProvider:Uf,PhoneMultiFactorGenerator:Dl,RecaptchaVerifier:Bf,TwitterAuthProvider:uu,Auth:Ff,AuthCredential:yo,Error:Ln}).setInstantiationMode("LAZY").setMultipleInstances(!1)),zf.registerVersion("@firebase/auth-compat","0.2.24");var qf,Kf="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Wf={},Gf=Gf||{},Hf=Kf||self;function Qf(){}function $f(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Yf(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Xf="closure_uid_"+(1e9*Math.random()>>>0),Jf=0;function eh(e,t,n){return e.call.apply(e.bind,arguments)}function th(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function nh(e,t,n){return(nh=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?eh:th).apply(null,arguments)}function rh(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function ih(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function ah(){this.s=this.s,this.o=this.o}ah.prototype.s=!1,ah.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function(e){Object.prototype.hasOwnProperty.call(e,Xf)&&e[Xf]||(e[Xf]=++Jf)}(this)},ah.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var oh=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function uh(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function sh(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if($f(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function ch(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}ch.prototype.h=function(){this.defaultPrevented=!0};var lh=function(){if(!Hf.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Hf.addEventListener("test",Qf,t),Hf.removeEventListener("test",Qf,t)}catch(D){}return e}();function fh(e){return/^[\s\xa0]*$/.test(e)}var hh=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function dh(e,t){return e<t?-1:e>t?1:0}function ph(){var e=Hf.navigator;return e&&(e=e.userAgent)?e:""}function vh(e){return-1!=ph().indexOf(e)}function mh(e){return mh[" "](e),e}mh[" "]=Qf;var yh,gh=vh("Opera"),kh=vh("Trident")||vh("MSIE"),bh=vh("Edge"),wh=bh||kh,xh=vh("Gecko")&&!(-1!=ph().toLowerCase().indexOf("webkit")&&!vh("Edge"))&&!(vh("Trident")||vh("MSIE"))&&!vh("Edge"),Ih=-1!=ph().toLowerCase().indexOf("webkit")&&!vh("Edge");function _h(){var e=Hf.document;return e?e.documentMode:void 0}e:{var Sh="",Eh=function(){var e=ph();return xh?/rv:([^\);]+)(\)|;)/.exec(e):bh?/Edge\/([\d\.]+)/.exec(e):kh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Ih?/WebKit\/(\S+)/.exec(e):gh?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Eh&&(Sh=Eh?Eh[1]:""),kh){var Th=_h();if(null!=Th&&Th>parseFloat(Sh)){yh=String(Th);break e}}yh=Sh}var Ch,Ah={};function Nh(){return function(e){var t=Ah;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=hh(String(yh)).split("."),n=hh("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=dh(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||dh(0==a[2].length,0==o[2].length)||dh(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Hf.document&&kh){var Oh=_h();Ch=Oh||(parseInt(yh,10)||void 0)}else Ch=void 0;var Ph=Ch;function Dh(e,t){if(ch.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(xh){e:{try{mh(t.nodeName);var i=!0;break e}catch(P){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Rh[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Dh.X.h.call(this)}}ih(Dh,ch);var Rh={2:"touch",3:"pen",4:"mouse"};Dh.prototype.h=function(){Dh.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Lh="closure_listenable_"+(1e6*Math.random()|0),Mh=0;function Fh(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++Mh,this.ba=this.ea=!1}function Vh(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function jh(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Uh(e){var t={};for(var n in e)t[n]=e[n];return t}var zh="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Zh(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<zh.length;a++)n=zh[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Bh(e){this.src=e,this.g={},this.h=0}function qh(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=oh(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Vh(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Kh(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}Bh.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Kh(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new Fh(t,this.src,a,!!r,i)).ea=n,e.push(t)),t};var Wh="closure_lm_"+(1e6*Math.random()|0),Gh={};function Hh(e,t,n,r,i){if(r&&r.once)return $h(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Hh(e,t[a],n,r,i);return null}return n=rd(n),e&&e[Lh]?e.N(t,n,Yf(r)?!!r.capture:!!r,i):Qh(e,t,n,!1,r,i)}function Qh(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Yf(i)?!!i.capture:!!i,u=td(e);if(u||(e[Wh]=u=new Bh(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=ed;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)lh||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Jh(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function $h(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)$h(e,t[a],n,r,i);return null}return n=rd(n),e&&e[Lh]?e.O(t,n,Yf(r)?!!r.capture:!!r,i):Qh(e,t,n,!0,r,i)}function Yh(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Yh(e,t[a],n,r,i);else r=Yf(r)?!!r.capture:!!r,n=rd(n),e&&e[Lh]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Kh(a=e.g[t],n,r,i))&&(Vh(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=td(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Kh(t,n,r,i)),(n=-1<e?t[e]:null)&&Xh(n))}function Xh(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[Lh])qh(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Jh(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=td(t))?(qh(n,e),0==n.h&&(n.src=null,t[Wh]=null)):Vh(e)}}}function Jh(e){return e in Gh?Gh[e]:Gh[e]="on"+e}function ed(e,t){if(e.ba)e=!0;else{t=new Dh(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&Xh(e),e=n.call(r,t)}return e}function td(e){return(e=e[Wh])instanceof Bh?e:null}var nd="__closure_events_fn_"+(1e9*Math.random()>>>0);function rd(e){return"function"===typeof e?e:(e[nd]||(e[nd]=function(t){return e.handleEvent(t)}),e[nd])}function id(){ah.call(this),this.i=new Bh(this),this.P=this,this.I=null}function ad(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new ch(t,e);else if(t instanceof ch)t.target=t.target||e;else{var i=t;Zh(t=new ch(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=od(o,r,!0,t)&&i}if(i=od(o=t.g=e,r,!0,t)&&i,i=od(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=od(o=t.g=n[a],r,!1,t)&&i}function od(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ba&&o.capture==n){var u=o.listener,s=o.ha||o.src;o.ea&&qh(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}ih(id,ah),id.prototype[Lh]=!0,id.prototype.removeEventListener=function(e,t,n,r){Yh(this,e,t,n,r)},id.prototype.M=function(){if(id.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Vh(n[r]);delete t.g[e],t.h--}}this.I=null},id.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},id.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var ud=Hf.JSON.stringify;function sd(){var e=md,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var cd,ld=function(){function e(){rn(this,e),this.h=this.g=null}return on(e,[{key:"add",value:function(e,t){var n=fd.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),fd=new(function(){function e(t,n){rn(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return on(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new hd}),(function(e){return e.reset()})),hd=function(){function e(){rn(this,e),this.next=this.g=this.h=null}return on(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function dd(e){Hf.setTimeout((function(){throw e}),0)}function pd(e,t){cd||function(){var e=Hf.Promise.resolve(void 0);cd=function(){e.then(yd)}}(),vd||(cd(),vd=!0),md.add(e,t)}var vd=!1,md=new ld;function yd(){for(var e;e=sd();){try{e.h.call(e.g)}catch(D){dd(D)}var t=fd;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}vd=!1}function gd(e,t){id.call(this),this.h=e||1,this.g=t||Hf,this.j=nh(this.lb,this),this.l=Date.now()}function kd(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function bd(e,t,n){if("function"===typeof e)n&&(e=nh(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=nh(e.handleEvent,e)}return 2147483647<Number(t)?-1:Hf.setTimeout(e,t||0)}function wd(e){e.g=bd((function(){e.g=null,e.i&&(e.i=!1,wd(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}ih(gd,id),(qf=gd.prototype).ca=!1,qf.R=null,qf.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),ad(this,"tick"),this.ca&&(kd(this),this.start()))}},qf.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},qf.M=function(){gd.X.M.call(this),kd(this),delete this.g};var xd=function(e){fn(n,e);var t=mn(n);function n(e,r){var i;return rn(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return on(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:wd(this)}},{key:"M",value:function(){Ti(hn(n.prototype),"M",this).call(this),this.g&&(Hf.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(ah);function Id(e){ah.call(this),this.h=e,this.g={}}ih(Id,ah);var _d=[];function Sd(e,t,n,r){Array.isArray(n)||(n&&(_d[0]=n.toString()),n=_d);for(var i=0;i<n.length;i++){var a=Hh(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Ed(e){jh(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Xh(e)}),e),e.g={}}function Td(){this.g=!0}function Cd(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return ud(n)}catch(S){return t}}(e,n)+(r?" "+r:"")}))}Id.prototype.M=function(){Id.X.M.call(this),Ed(this)},Id.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Td.prototype.Aa=function(){this.g=!1},Td.prototype.info=function(){};var Ad={},Nd=null;function Od(){return Nd=Nd||new id}function Pd(e){ch.call(this,Ad.Pa,e)}function Dd(e){var t=Od();ad(t,new Pd(t))}function Rd(e,t){ch.call(this,Ad.STAT_EVENT,e),this.stat=t}function Ld(e){var t=Od();ad(t,new Rd(t,e))}function Md(e,t){ch.call(this,Ad.Qa,e),this.size=t}function Fd(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Hf.setTimeout((function(){e()}),t)}Ad.Pa="serverreachability",ih(Pd,ch),Ad.STAT_EVENT="statevent",ih(Rd,ch),Ad.Qa="timingevent",ih(Md,ch);var Vd={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},jd={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Ud(){}function zd(e){return e.h||(e.h=e.i())}function Zd(){}Ud.prototype.h=null;var Bd,qd={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Kd(){ch.call(this,"d")}function Wd(){ch.call(this,"c")}function Gd(){}function Hd(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new Id(this),this.O=$d,e=wh?125:void 0,this.T=new gd(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Qd}function Qd(){this.i=null,this.g="",this.h=!1}ih(Kd,ch),ih(Wd,ch),ih(Gd,Ud),Gd.prototype.g=function(){return new XMLHttpRequest},Gd.prototype.i=function(){return{}},Bd=new Gd;var $d=45e3,Yd={},Xd={};function Jd(e,t,n){e.K=1,e.v=gp(dp(t)),e.s=n,e.P=!0,ep(e,null)}function ep(e,t){e.F=Date.now(),ip(e),e.A=dp(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),Op(n.i,"t",r),e.C=0,n=e.l.H,e.h=new Qd,e.g=Ov(e.l,n?t:null,!e.s),0<e.N&&(e.L=new xd(nh(e.La,e,e.g),e.N)),Sd(e.S,e.g,"readystatechange",e.ib),t=e.H?Uh(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),Dd(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function tp(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function np(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=rp(e,n))==Xd){4==t&&(e.o=4,Ld(14),i=!1),Cd(e.j,e.m,null,"[Incomplete Response]");break}if(r==Yd){e.o=4,Ld(15),Cd(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Cd(e.j,e.m,r,null),cp(e,r)}tp(e)&&r!=Xd&&r!=Yd&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Ld(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Iv(t),t.K=!0,Ld(11))):(Cd(e.j,e.m,n,"[Invalid Chunked Response]"),sp(e),up(e))}function rp(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Xd:(n=Number(t.substring(n,r)),isNaN(n)?Yd:(r+=1)+n>t.length?Xd:(t=t.substr(r,n),e.C=r+n,t))}function ip(e){e.V=Date.now()+e.O,ap(e,e.O)}function ap(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Fd(nh(e.gb,e),t)}function op(e){e.B&&(Hf.clearTimeout(e.B),e.B=null)}function up(e){0==e.l.G||e.I||Ev(e.l,e)}function sp(e){op(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,kd(e.T),Ed(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function cp(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Vp(n.h,e)))if(!e.J&&Vp(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Sv(n),vv(n)}xv(n),Ld(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=Fd(nh(n.cb,n),6e3));if(1>=Fp(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else Cv(n,11)}else if((e.J||n.g==e)&&Sv(n),!fh(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var o=a[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var u=a[4];null!=u&&(n.Ca=u,n.j.info("SVER="+n.Ca));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(jp(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.za=h,yp(r.F,r.D,h))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var d=e;if((r=n).sa=Nv(r,r.H?r.ka:null,r.V),d.J){Up(r.h,d);var p=d,v=r.J;v&&p.setTimeout(v),p.B&&(op(p),ip(p)),r.g=d}else wv(r);0<n.i.length&&yv(n)}else"stop"!=a[0]&&"close"!=a[0]||Cv(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Cv(n,7):pv(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}Dd()}catch(a){}}function lp(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if($f(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if($f(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if($f(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(qf=Hd.prototype).setTimeout=function(e){this.O=e},qf.ib=function(e){e=e.target;var t=this.L;t&&3==sv(e)?t.l():this.La(e)},qf.La=function(e){try{if(e==this.g)e:{var t=sv(this.g),n=this.g.Ea();this.g.aa();if(!(3>t)&&(3!=t||wh||this.g&&(this.h.h||this.g.fa()||cv(this.g)))){this.I||4!=t||7==n||Dd(),op(this);var r=this.g.aa();this.Y=r;t:if(tp(this)){var i=cv(this.g);e="";var a=i.length,o=4==sv(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){sp(this),up(this);var u="";break t}this.h.i=new Hf.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.U,t,r),this.i){if(this.Z&&!this.J){t:{if(this.g){var s,c=this.g;if((s=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!fh(s)){var l=s;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,Ld(12),sp(this),up(this);break e}Cd(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,cp(this,r)}this.P?(np(this,t,u),wh&&this.i&&3==t&&(Sd(this.S,this.T,"tick",this.hb),this.T.start())):(Cd(this.j,this.m,u,null),cp(this,u)),4==t&&sp(this),this.i&&!this.I&&(4==t?Ev(this.l,this):(this.i=!1,ip(this)))}else 400==r&&0<u.indexOf("Unknown SID")?(this.o=3,Ld(12)):(this.o=0,Ld(13)),sp(this),up(this)}}}catch(t){}},qf.hb=function(){if(this.g){var e=sv(this.g),t=this.g.fa();this.C<t.length&&(op(this),np(this,e,t),this.i&&4!=e&&ip(this))}},qf.cancel=function(){this.I=!0,sp(this)},qf.gb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Dd(),Ld(17)),sp(this),this.o=2,up(this)):ap(this,this.V-e)};var fp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hp(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof hp){this.h=void 0!==t?t:e.h,pp(this,e.j),this.s=e.s,this.g=e.g,vp(this,e.m),this.l=e.l,t=e.i;var n=new Tp;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),mp(this,n),this.o=e.o}else e&&(n=String(e).match(fp))?(this.h=!!t,pp(this,n[1]||"",!0),this.s=kp(n[2]||""),this.g=kp(n[3]||"",!0),vp(this,n[4]),this.l=kp(n[5]||"",!0),mp(this,n[6]||"",!0),this.o=kp(n[7]||"")):(this.h=!!t,this.i=new Tp(null,this.h))}function dp(e){return new hp(e)}function pp(e,t,n){e.j=n?kp(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function vp(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function mp(e,t,n){t instanceof Tp?(e.i=t,function(e,t){t&&!e.j&&(Cp(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Ap(this,t),Op(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=bp(t,Sp)),e.i=new Tp(t,e.h))}function yp(e,t,n){e.i.set(t,n)}function gp(e){return yp(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function kp(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function bp(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,wp),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function wp(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}hp.prototype.toString=function(){var e=[],t=this.j;t&&e.push(bp(t,xp,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(bp(t,xp,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(bp(n,"/"==n.charAt(0)?_p:Ip,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",bp(n,Ep)),e.join("")};var xp=/[#\/\?@]/g,Ip=/[#\?:]/g,_p=/[#\?]/g,Sp=/[#\?@]/g,Ep=/#/g;function Tp(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Cp(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Ap(e,t){Cp(e),t=Pp(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Np(e,t){return Cp(e),t=Pp(e,t),e.g.has(t)}function Op(e,t,n){Ap(e,t),0<n.length&&(e.i=null,e.g.set(Pp(e,t),uh(n)),e.h+=n.length)}function Pp(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(qf=Tp.prototype).add=function(e,t){Cp(this),this.i=null,e=Pp(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},qf.forEach=function(e,t){Cp(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},qf.oa=function(){Cp(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},qf.W=function(e){Cp(this);var t=[];if("string"===typeof e)Np(this,e)&&(t=t.concat(this.g.get(Pp(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},qf.set=function(e,t){return Cp(this),this.i=null,Np(this,e=Pp(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},qf.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},qf.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var Dp=on((function e(t,n){rn(this,e),this.h=t,this.g=n}));function Rp(e){this.l=e||Lp,Hf.PerformanceNavigationTiming?e=0<(e=Hf.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Hf.g&&Hf.g.Ga&&Hf.g.Ga()&&Hf.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Lp=10;function Mp(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Fp(e){return e.h?1:e.g?e.g.size:0}function Vp(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function jp(e,t){e.g?e.g.add(t):e.h=t}function Up(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function zp(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=sn(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return uh(e.i)}function Zp(){}function Bp(){this.g=new Zp}function qp(e,t,n){var r=n||"";try{lp(e,(function(e,n){var i=e;Yf(e)&&(i=ud(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Kp(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(P){}}function Wp(e){this.l=e.ac||null,this.j=e.jb||!1}function Gp(e,t){id.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Hp,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Rp.prototype.cancel=function(){if(this.i=zp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=sn(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Zp.prototype.stringify=function(e){return Hf.JSON.stringify(e,void 0)},Zp.prototype.parse=function(e){return Hf.JSON.parse(e,void 0)},ih(Wp,Ud),Wp.prototype.g=function(){return new Gp(this.l,this.j)},Wp.prototype.i=function(e){return function(){return e}}({}),ih(Gp,id);var Hp=0;function Qp(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function $p(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Yp(e)}function Yp(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(qf=Gp.prototype).open=function(e,t){if(this.readyState!=Hp)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Yp(this)},qf.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Hf).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},qf.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,$p(this)),this.readyState=Hp},qf.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Yp(this)),this.g&&(this.readyState=3,Yp(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof Hf.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Qp(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},qf.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?$p(this):Yp(this),3==this.readyState&&Qp(this)}},qf.Va=function(e){this.g&&(this.response=this.responseText=e,$p(this))},qf.Ua=function(e){this.g&&(this.response=e,$p(this))},qf.ga=function(){this.g&&$p(this)},qf.setRequestHeader=function(e,t){this.v.append(e,t)},qf.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},qf.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Gp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Xp=Hf.JSON.parse;function Jp(e){id.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ev,this.K=this.L=!1}ih(Jp,id);var ev="",tv=/^https?$/i,nv=["POST","PUT"];function rv(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,iv(e),ov(e)}function iv(e){e.D||(e.D=!0,ad(e,"complete"),ad(e,"error"))}function av(e){if(e.h&&"undefined"!=typeof Gf&&(!e.C[1]||4!=sv(e)||2!=e.aa()))if(e.v&&4==sv(e))bd(e.Ha,0,e);else if(ad(e,"readystatechange"),4==sv(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(fp)[1]||null;if(!a&&Hf.self&&Hf.self.location){var o=Hf.self.location.protocol;a=o.substr(0,o.length-1)}i=!tv.test(a?a.toLowerCase():"")}t=i}if(t)ad(e,"complete"),ad(e,"success");else{e.m=6;try{var u=2<sv(e)?e.g.statusText:""}catch(N){u=""}e.j=u+" ["+e.aa()+"]",iv(e)}}finally{ov(e)}}}function ov(e,t){if(e.g){uv(e);var n=e.g,r=e.C[0]?Qf:null;e.g=null,e.C=null,t||ad(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function uv(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Hf.clearTimeout(e.A),e.A=null)}function sv(e){return e.g?e.g.readyState:0}function cv(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case ev:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(z){return null}}function lv(e){var t="";return jh(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function fv(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=lv(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):yp(e,t,n))}function hv(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function dv(e){this.Ca=0,this.i=[],this.j=new Td,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=hv("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=hv("baseRetryDelayMs",5e3,e),this.bb=hv("retryDelaySeedMs",1e4,e),this.$a=hv("forwardChannelMaxRetries",2,e),this.ta=hv("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new Rp(e&&e.concurrentRequestLimit),this.Fa=new Bp,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function pv(e){if(mv(e),3==e.G){var t=e.U++,n=dp(e.F);yp(n,"SID",e.I),yp(n,"RID",t),yp(n,"TYPE","terminate"),kv(e,n),(t=new Hd(e,e.j,t,void 0)).K=2,t.v=gp(dp(n)),n=!1,Hf.navigator&&Hf.navigator.sendBeacon&&(n=Hf.navigator.sendBeacon(t.v.toString(),"")),!n&&Hf.Image&&((new Image).src=t.v,n=!0),n||(t.g=Ov(t.l,null),t.g.da(t.v)),t.F=Date.now(),ip(t)}Av(e)}function vv(e){e.g&&(Iv(e),e.g.cancel(),e.g=null)}function mv(e){vv(e),e.u&&(Hf.clearTimeout(e.u),e.u=null),Sv(e),e.h.cancel(),e.m&&("number"===typeof e.m&&Hf.clearTimeout(e.m),e.m=null)}function yv(e){Mp(e.h)||e.m||(e.m=!0,pd(e.Ja,e),e.C=0)}function gv(e,t){var n;n=t?t.m:e.U++;var r=dp(e.F);yp(r,"SID",e.I),yp(r,"RID",n),yp(r,"AID",e.T),kv(e,r),e.o&&e.s&&fv(r,e.o,e.s),n=new Hd(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=bv(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),jp(e.h,n),Jd(n,r,t)}function kv(e,t){e.ia&&jh(e.ia,(function(e,n){yp(t,n,e)})),e.l&&lp({},(function(e,n){yp(t,n,e)}))}function bv(e,t,n){n=Math.min(e.i.length,n);var r=e.l?nh(e.l.Ra,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{qp(l,o,"req"+c+"_")}catch(ae){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function wv(e){e.g||e.u||(e.Z=1,pd(e.Ia,e),e.A=0)}function xv(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=Fd(nh(e.Ia,e),Tv(e,e.A)),e.A++,!0)}function Iv(e){null!=e.B&&(Hf.clearTimeout(e.B),e.B=null)}function _v(e){e.g=new Hd(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=dp(e.sa);yp(t,"RID","rpc"),yp(t,"SID",e.I),yp(t,"CI",e.L?"0":"1"),yp(t,"AID",e.T),yp(t,"TYPE","xmlhttp"),kv(e,t),e.o&&e.s&&fv(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=gp(dp(t)),n.s=null,n.P=!0,ep(n,e)}function Sv(e){null!=e.v&&(Hf.clearTimeout(e.v),e.v=null)}function Ev(e,t){var n=null;if(e.g==t){Sv(e),Iv(e),e.g=null;var r=2}else{if(!Vp(e.h,t))return;n=t.D,Up(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;ad(r=Od(),new Md(r,n)),yv(e)}else wv(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(Fp(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=Fd(nh(e.Ja,e,t),Tv(e,e.C)),e.C++,!0))}(e,t)||2==r&&xv(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:Cv(e,5);break;case 4:Cv(e,10);break;case 3:Cv(e,6);break;default:Cv(e,2)}}function Tv(e,t){var n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function Cv(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=nh(e.kb,e);n||(n=new hp("//www.google.com/images/cleardot.gif"),Hf.location&&"http"==Hf.location.protocol||pp(n,"https"),gp(n)),function(e,t){var n=new Td;if(Hf.Image){var r=new Image;r.onload=rh(Kp,n,r,"TestLoadImage: loaded",!0,t),r.onerror=rh(Kp,n,r,"TestLoadImage: error",!1,t),r.onabort=rh(Kp,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=rh(Kp,n,r,"TestLoadImage: timeout",!1,t),Hf.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Ld(2);e.G=0,e.l&&e.l.va(t),Av(e),mv(e)}function Av(e){if(e.G=0,e.la=[],e.l){var t=zp(e.h);0==t.length&&0==e.i.length||(sh(e.la,t),sh(e.la,e.i),e.h.i.length=0,uh(e.i),e.i.length=0),e.l.ua()}}function Nv(e,t,n){var r=n instanceof hp?dp(n):new hp(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),vp(r,r.m);else{var i=Hf.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new hp(null,void 0);r&&pp(a,r),t&&(a.g=t),i&&vp(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&yp(r,n,t),yp(r,"VER",e.ma),kv(e,r),r}function Ov(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new Jp(new Wp({jb:!0})):new Jp(e.ra)).Ka(e.H),t}function Pv(){}function Dv(){if(kh&&!(10<=Number(Ph)))throw Error("Environmental error: no available transport.")}function Rv(e,t){id.call(this),this.g=new dv(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!fh(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!fh(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Fv(this)}function Lv(e){Kd.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Mv(){Wd.call(this),this.status=1}function Fv(e){this.g=e}(qf=Jp.prototype).Ka=function(e){this.L=e},qf.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Bd.g(),this.C=this.u?zd(this.u):zd(Bd),this.g.onreadystatechange=nh(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(u){return void rv(this,u)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=sn(r.keys());try{for(o.s();!(a=o.n()).done;){var u=a.value;n.set(u,r.get(u))}}catch(d){o.e(d)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=Hf.FormData&&e instanceof Hf.FormData,!(0<=oh(nv,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var s,c=sn(n);try{for(c.s();!(s=c.n()).done;){var l=(0,Tt.Z)(s.value,2),f=l[0],h=l[1];this.g.setRequestHeader(f,h)}}catch(d){c.e(d)}finally{c.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{uv(this),0<this.B&&((this.K=function(e){return kh&&Nh()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=nh(this.qa,this)):this.A=bd(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){rv(this,u)}},qf.qa=function(){"undefined"!=typeof Gf&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ad(this,"timeout"),this.abort(8))},qf.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,ad(this,"complete"),ad(this,"abort"),ov(this))},qf.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ov(this,!0)),Jp.X.M.call(this)},qf.Ha=function(){this.s||(this.F||this.v||this.l?av(this):this.fb())},qf.fb=function(){av(this)},qf.aa=function(){try{return 2<sv(this)?this.g.status:-1}catch(O){return-1}},qf.fa=function(){try{return this.g?this.g.responseText:""}catch(O){return""}},qf.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Xp(t)}},qf.Ea=function(){return this.m},qf.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},(qf=dv.prototype).ma=8,qf.G=1,qf.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new Hd(this,this.j,e,void 0),n=this.s;if(this.S&&(n?Zh(n=Uh(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=bv(this,t,r),yp(i=dp(this.F),"RID",e),yp(i,"CVER",22),this.D&&yp(i,"X-HTTP-Session-Id",this.D),kv(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(lv(n)))+"&"+r:this.o&&fv(i,this.o,n)),jp(this.h,t),this.Ya&&yp(i,"TYPE","init"),this.O?(yp(i,"$req",r),yp(i,"SID","null"),t.Z=!0,Jd(t,i,null)):Jd(t,i,r),this.G=2}}else 3==this.G&&(e?gv(this,e):0==this.i.length||Mp(this.h)||gv(this))},qf.Ia=function(){if(this.u=null,_v(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=Fd(nh(this.eb,this),e)}},qf.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Ld(10),vv(this),_v(this))},qf.cb=function(){null!=this.v&&(this.v=null,vv(this),xv(this),Ld(19))},qf.kb=function(e){e?(this.j.info("Successfully pinged google.com"),Ld(2)):(this.j.info("Failed to ping google.com"),Ld(1))},(qf=Pv.prototype).xa=function(){},qf.wa=function(){},qf.va=function(){},qf.ua=function(){},qf.Ra=function(){},Dv.prototype.g=function(e,t){return new Rv(e,t)},ih(Rv,id),Rv.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;Ld(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=Nv(e,null,e.V),yv(e)},Rv.prototype.close=function(){pv(this.g)},Rv.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=ud(e),e=n);t.i.push(new Dp(t.ab++,e)),3==t.G&&yv(t)},Rv.prototype.M=function(){this.g.l=null,delete this.j,pv(this.g),delete this.g,Rv.X.M.call(this)},ih(Lv,Kd),ih(Mv,Wd),ih(Fv,Pv),Fv.prototype.xa=function(){ad(this.g,"a")},Fv.prototype.wa=function(e){ad(this.g,new Lv(e))},Fv.prototype.va=function(e){ad(this.g,new Mv)},Fv.prototype.ua=function(){ad(this.g,"b")},Dv.prototype.createWebChannel=Dv.prototype.g,Rv.prototype.send=Rv.prototype.u,Rv.prototype.open=Rv.prototype.m,Rv.prototype.close=Rv.prototype.close,Vd.NO_ERROR=0,Vd.TIMEOUT=8,Vd.HTTP_ERROR=6,jd.COMPLETE="complete",Zd.EventType=qd,qd.OPEN="a",qd.CLOSE="b",qd.ERROR="c",qd.MESSAGE="d",id.prototype.listen=id.prototype.N,Jp.prototype.listenOnce=Jp.prototype.O,Jp.prototype.getLastError=Jp.prototype.Oa,Jp.prototype.getLastErrorCode=Jp.prototype.Ea,Jp.prototype.getStatus=Jp.prototype.aa,Jp.prototype.getResponseJson=Jp.prototype.Sa,Jp.prototype.getResponseText=Jp.prototype.fa,Jp.prototype.send=Jp.prototype.da,Jp.prototype.setWithCredentials=Jp.prototype.Ka;var Vv=Wf.createWebChannelTransport=function(){return new Dv},jv=Wf.getStatEventTarget=function(){return Od()},Uv=Wf.ErrorCode=Vd,zv=Wf.EventType=jd,Zv=Wf.Event=Ad,Bv=Wf.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},qv=Wf.FetchXmlHttpFactory=Wp,Kv=Wf.WebChannel=Zd,Wv=Wf.XhrIo=Jp,Gv="@firebase/firestore",Hv=function(){function e(t){rn(this,e),this.uid=t}return on(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Hv.UNAUTHENTICATED=new Hv(null),Hv.GOOGLE_CREDENTIALS=new Hv("google-credentials-uid"),Hv.FIRST_PARTY=new Hv("first-party-uid"),Hv.MOCK_USER=new Hv("mock-user");var Qv="9.13.0",$v=new lr("@firebase/firestore");function Yv(){return $v.logLevel}function Xv(e){if($v.logLevel<=rr.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(tm);$v.debug.apply($v,["Firestore (".concat(Qv,"): ").concat(e)].concat((0,$n.Z)(i)))}}function Jv(e){if($v.logLevel<=rr.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(tm);$v.error.apply($v,["Firestore (".concat(Qv,"): ").concat(e)].concat((0,$n.Z)(i)))}}function em(e){if($v.logLevel<=rr.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(tm);$v.warn.apply($v,["Firestore (".concat(Qv,"): ").concat(e)].concat((0,$n.Z)(i)))}}function tm(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function nm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Qv,") INTERNAL ASSERTION FAILED: ")+e;throw Jv(t),new Error(t)}function rm(e,t){e||nm()}function im(e,t){return e}var am={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},om=function(e){fn(n,e);var t=mn(n);function n(e,r){var i;return rn(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return on(n)}(Ln),um=on((function e(){var t=this;rn(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),sm=on((function e(t,n){rn(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),cm=function(){function e(){rn(this,e)}return on(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Hv.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),lm=function(){function e(t){rn(this,e),this.token=t,this.changeListener=null}return on(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),fm=function(){function e(t){rn(this,e),this.t=t,this.currentUser=Hv.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return on(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new um;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new um,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Xn(Qn().mark((function e(){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){Xv("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(Xv("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new um)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Xv("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(rm("string"==typeof n.accessToken),new sm(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return rm(null===e||"string"==typeof e),new Hv(e)}}]),e}(),hm=function(){function e(t,n,r,i){rn(this,e),this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=Hv.FIRST_PARTY,this.p=new Map}return on(e,[{key:"I",value:function(){return this.g?this.g():(rm(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}},{key:"headers",get:function(){this.p.set("X-Goog-AuthUser",this.l);var e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}]),e}(),dm=function(){function e(t,n,r,i){rn(this,e),this.h=t,this.l=n,this.m=r,this.g=i}return on(e,[{key:"getToken",value:function(){return Promise.resolve(new hm(this.h,this.l,this.m,this.g))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Hv.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),pm=on((function e(t){rn(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),vm=function(){function e(t){rn(this,e),this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}return on(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Xv("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.A;return n.A=e.token,Xv("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Xv("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.T.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.T.getImmediate({optional:!0});e?i(e):Xv("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(rm("string"==typeof t.token),e.A=t.token,new pm(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function mm(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var ym=function(){function e(){rn(this,e)}return on(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=mm(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function gm(e,t){return e<t?-1:e>t?1:0}function km(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function bm(e){return e+"\0"}var wm=function(){function e(t,n){if(rn(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new om(am.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new om(am.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new om(am.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new om(am.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return on(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?gm(this.nanoseconds,e.nanoseconds):gm(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),xm=function(){function e(t){rn(this,e),this.timestamp=t}return on(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new wm(0,0))}},{key:"max",value:function(){return new e(new wm(253402300799,999999999))}}]),e}(),Im=function(){function e(t,n,r){rn(this,e),void 0===n?n=0:n>t.length&&nm(),void 0===r?r=t.length-n:r>t.length-n&&nm(),this.segments=t,this.offset=n,this.len=r}return on(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),_m=function(e){fn(n,e);var t=mn(n);function n(){return rn(this,n),t.apply(this,arguments)}return on(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new om(am.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,(0,$n.Z)(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Im),Sm=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Em=function(e){fn(n,e);var t=mn(n);function n(){return rn(this,n),t.apply(this,arguments)}return on(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Sm.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new om(am.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new om(am.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new om(am.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new om(am.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Im),Tm=function(){function e(t){rn(this,e),this.path=t}return on(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===_m.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(_m.fromString(t))}},{key:"fromName",value:function(t){return new e(_m.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(_m.emptyPath())}},{key:"comparator",value:function(e,t){return _m.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new _m(t.slice()))}}]),e}(),Cm=on((function e(t,n,r,i){rn(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Am(e){return e.fields.find((function(e){return 2===e.kind}))}function Nm(e){return e.fields.filter((function(e){return 2!==e.kind}))}Cm.UNKNOWN_ID=-1;var Om=on((function e(t,n){rn(this,e),this.fieldPath=t,this.kind=n}));var Pm=function(){function e(t,n){rn(this,e),this.sequenceNumber=t,this.offset=n}return on(e,null,[{key:"empty",value:function(){return new e(0,Lm.min())}}]),e}();function Dm(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=xm.fromTimestamp(1e9===r?new wm(n+1,0):new wm(n,r));return new Lm(i,Tm.empty(),t)}function Rm(e){return new Lm(e.readTime,e.key,-1)}var Lm=function(){function e(t,n,r){rn(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return on(e,null,[{key:"min",value:function(){return new e(xm.min(),Tm.empty(),-1)}},{key:"max",value:function(){return new e(xm.max(),Tm.empty(),-1)}}]),e}();function Mm(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Tm.comparator(e.documentKey,t.documentKey))?n:gm(e.largestBatchId,t.largestBatchId)}var Fm="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Vm=function(){function e(){rn(this,e),this.onCommittedListeners=[]}return on(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function jm(e){return Um.apply(this,arguments)}function Um(){return Um=Xn(Qn().mark((function e(t){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===am.FAILED_PRECONDITION&&t.message===Fm){e.next=2;break}throw t;case 2:Xv("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Um.apply(this,arguments)}var zm=function(){function e(t){var n=this;rn(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return on(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&nm(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=sn(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(u){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u(s)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),Zm=function(){function e(t,n){var r=this;rn(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.P=new um,this.transaction.oncomplete=function(){r.P.resolve()},this.transaction.onabort=function(){n.error?r.P.reject(new Km(t,n.error)):r.P.resolve()},this.transaction.onerror=function(e){var n=$m(e.target.error);r.P.reject(new Km(t,n))}}return on(e,[{key:"v",get:function(){return this.P.promise}},{key:"abort",value:function(e){e&&this.P.reject(e),this.aborted||(Xv("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"V",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Gm(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Km(n,t)}}}]),e}(),Bm=function(){function e(t,n,r){rn(this,e),this.name=t,this.version=n,this.S=r,12.2===e.D(_n())&&Jv("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return on(e,[{key:"F",value:function(){var e=Xn(Qn().mark((function e(t){var n=this;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Xv("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Km(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new om(am.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new om(am.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Km(t,n))},i.onupgradeneeded=function(e){Xv("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.$(t,i.transaction,e.oldVersion,n.version).next((function(){Xv("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.B&&(this.db.onversionchange=function(e){return n.B(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"L",value:function(e){this.B=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Xn(Qn().mark((function e(t,n,r,i){var a,o,u,s,c,l=this;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(Qn().mark((function e(){var n,o;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.F(t);case 2:return l.db=e.sent,n=Zm.open(l.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.V(),e})).catch((function(e){return n.abort(e),zm.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.v;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s=e.t1,c="FirebaseError"!==s.name&&o<3,Xv("SimpleDb","Transaction failed with error:",s.message,"Retrying:",c),this.close(),c){e.next=15;break}return e.abrupt("return",Promise.reject(s));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Xv("SimpleDb","Removing database:",e),Hm(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"C",value:function(){if(!An())return!1;if(e.N())return!0;var t=_n(),n=e.D(t),r=0<n&&n<10,i=e.k(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"N",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.O)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"k",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),qm=function(){function e(t){rn(this,e),this.U=t,this.q=!1,this.K=null}return on(e,[{key:"isDone",get:function(){return this.q}},{key:"G",get:function(){return this.K}},{key:"cursor",set:function(e){this.U=e}},{key:"done",value:function(){this.q=!0}},{key:"j",value:function(e){this.K=e}},{key:"delete",value:function(){return Hm(this.U.delete())}}]),e}(),Km=function(e){fn(n,e);var t=mn(n);function n(e,r){var i;return rn(this,n),(i=t.call(this,am.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return on(n)}(om);function Wm(e){return"IndexedDbTransactionError"===e.name}var Gm=function(){function e(t){rn(this,e),this.store=t}return on(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Xv("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Xv("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Hm(n)}},{key:"add",value:function(e){return Xv("SimpleDb","ADD",this.store.name,e,e),Hm(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Hm(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Xv("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Xv("SimpleDb","DELETE",this.store.name,e),Hm(this.store.delete(e))}},{key:"count",value:function(){return Xv("SimpleDb","COUNT",this.store.name),Hm(this.store.count())}},{key:"W",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.H(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new zm((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new zm((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Y",value:function(e,t){Xv("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.X=!1;var r=this.cursor(n);return this.H(r,(function(e,t,n){return n.delete()}))}},{key:"Z",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.H(r,t)}},{key:"tt",value:function(e){var t=this.cursor({});return new zm((function(n,r){t.onerror=function(e){var t=$m(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"H",value:function(e,t){var n=[];return new zm((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new qm(i),o=t(i.primaryKey,i.value,a);if(o instanceof zm){var u=o.catch((function(e){return a.done(),zm.reject(e)}));n.push(u)}a.isDone?r():null===a.G?i.continue():i.continue(a.G)}else r()}})).next((function(){return zm.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.X?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Hm(e){return new zm((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=$m(e.target.error);n(t)}}))}var Qm=!1;function $m(e){var t=Bm.D(_n());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new om("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Qm||(Qm=!0,setTimeout((function(){throw r}),0)),r}}return e}var Ym=function(){function e(t,n){rn(this,e),this.asyncQueue=t,this.et=n,this.task=null}return on(e,[{key:"start",value:function(){this.nt(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"nt",value:function(e){var t=this;Xv("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,Xn(Qn().mark((function e(){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=Xv,e.t1="Documents written: ",e.next=6,t.et.st();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!Wm(e.t4)){e.next=17;break}Xv("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,jm(e.t4);case 19:return e.next=21,t.nt(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),Xm=function(){function e(t,n){rn(this,e),this.localStore=t,this.persistence=n}return on(e,[{key:"st",value:function(){var e=Xn(Qn().mark((function e(){var t,n=this,r=arguments;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.it(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"it",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return zm.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return Xv("IndexBackiller","Processing collection: ".concat(t)),n.rt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"rt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.ot(i,n)})).next((function(n){return Xv("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"ot",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=Rm(t);Mm(r,n)>0&&(n=r)})),new Lm(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),Jm=function(){function e(t,n){var r=this;rn(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ut(e)},this.ct=function(e){return n.writeSequenceNumber(e)})}return on(e,[{key:"ut",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ct&&this.ct(e),e}}]),e}();function ey(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ty(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ny(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}Jm.at=-1;var ry=function(){function e(t,n){rn(this,e),this.comparator=t,this.root=n||ay.EMPTY}return on(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ay.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ay.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new iy(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new iy(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new iy(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new iy(this.root,e,this.comparator,!0)}}]),e}(),iy=function(){function e(t,n,r,i){rn(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return on(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),ay=function(){function e(t,n,r,i,a){rn(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return on(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw nm();if(this.right.isRed())throw nm();var e=this.left.check();if(e!==this.right.check())throw nm();return e+(this.isRed()?0:1)}}]),e}();ay.EMPTY=null,ay.RED=!0,ay.BLACK=!1,ay.EMPTY=new(function(){function e(){rn(this,e),this.size=0}return on(e,[{key:"key",get:function(){throw nm()}},{key:"value",get:function(){throw nm()}},{key:"color",get:function(){throw nm()}},{key:"left",get:function(){throw nm()}},{key:"right",get:function(){throw nm()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new ay(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var oy=function(){function e(t){rn(this,e),this.comparator=t,this.data=new ry(this.comparator)}return on(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new uy(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new uy(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),uy=function(){function e(t){rn(this,e),this.iter=t}return on(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function sy(e){return e.hasNext()?e.getNext():void 0}var cy=function(){function e(t){rn(this,e),this.fields=t,t.sort(Em.comparator)}return on(e,[{key:"unionWith",value:function(t){var n,r=new oy(Em.comparator),i=sn(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=sn(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=sn(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return km(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}();var ly=function(e){function t(e){rn(this,t),this.binaryString=e}return on(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return gm(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();ly.EMPTY_BYTE_STRING=new ly("");var fy=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hy(e){if(rm(!!e),"string"==typeof e){var t=0,n=fy.exec(e);if(rm(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:dy(e.seconds),nanos:dy(e.nanos)}}function dy(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function py(e){return"string"==typeof e?ly.fromBase64String(e):ly.fromUint8Array(e)}function vy(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function my(e){var t=e.mapValue.fields.__previous_value__;return vy(t)?my(t):t}function yy(e){var t=hy(e.mapValue.fields.__local_write_time__.timestampValue);return new wm(t.seconds,t.nanos)}var gy=on((function e(t,n,r,i,a,o,u,s){rn(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),ky=function(){function e(t,n){rn(this,e),this.projectId=t,this.database=n||"(default)"}return on(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function by(e){return null==e}function wy(e){return 0===e&&1/e==-1/0}function xy(e){return"number"==typeof e&&Number.isInteger(e)&&!wy(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Iy={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},_y={nullValue:"NULL_VALUE"};function Sy(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?vy(e)?4:jy(e)?9007199254740991:10:nm()}function Ey(e,t){if(e===t)return!0;var n=Sy(e);if(n!==Sy(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return yy(e).isEqual(yy(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=hy(e.timestampValue),r=hy(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return py(e.bytesValue).isEqual(py(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return dy(e.geoPointValue.latitude)===dy(t.geoPointValue.latitude)&&dy(e.geoPointValue.longitude)===dy(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return dy(e.integerValue)===dy(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=dy(e.doubleValue),r=dy(t.doubleValue);return n===r?wy(n)===wy(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return km(e.arrayValue.values||[],t.arrayValue.values||[],Ey);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(ey(n)!==ey(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Ey(n[i],r[i])))return!1;return!0}(e,t);default:return nm()}}function Ty(e,t){return void 0!==(e.values||[]).find((function(e){return Ey(e,t)}))}function Cy(e,t){if(e===t)return 0;var n=Sy(e),r=Sy(t);if(n!==r)return gm(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return gm(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=dy(e.integerValue||e.doubleValue),r=dy(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Ay(e.timestampValue,t.timestampValue);case 4:return Ay(yy(e),yy(t));case 5:return gm(e.stringValue,t.stringValue);case 6:return function(e,t){var n=py(e),r=py(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=gm(n[i],r[i]);if(0!==a)return a}return gm(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=gm(dy(e.latitude),dy(t.latitude));return 0!==n?n:gm(dy(e.longitude),dy(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Cy(n[i],r[i]);if(a)return a}return gm(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Iy.mapValue&&t===Iy.mapValue)return 0;if(e===Iy.mapValue)return 1;if(t===Iy.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=gm(r[o],a[o]);if(0!==u)return u;var s=Cy(n[r[o]],i[a[o]]);if(0!==s)return s}return gm(r.length,a.length)}(e.mapValue,t.mapValue);default:throw nm()}}function Ay(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return gm(e,t);var n=hy(e),r=hy(t),i=gm(n.seconds,r.seconds);return 0!==i?i:gm(n.nanos,r.nanos)}function Ny(e){return Oy(e)}function Oy(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=hy(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?py(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Tm.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=sn(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Oy(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=sn(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Oy(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):nm();var t,n}function Py(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Dy(e){return!!e&&"integerValue"in e}function Ry(e){return!!e&&"arrayValue"in e}function Ly(e){return!!e&&"nullValue"in e}function My(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Fy(e){return!!e&&"mapValue"in e}function Vy(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return ty(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Vy(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Vy(e.arrayValue.values[r]);return n}return Object.assign({},e)}function jy(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Uy(e){return"nullValue"in e?_y:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Py(ky.empty(),Tm.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:nm()}function zy(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Py(ky.empty(),Tm.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Iy:nm()}function Zy(e,t){var n=Cy(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function By(e,t){var n=Cy(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var qy=function(){function e(t){rn(this,e),this.value=t}return on(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Fy(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vy(t)}},{key:"setAll",value:function(e){var t=this,n=Em.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Vy(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Fy(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Ey(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Fy(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){ty(t,(function(t,n){return e[t]=n}));var r,i=sn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Vy(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Ky(e){var t=[];return ty(e.fields,(function(e,n){var r=new Em([e]);if(Fy(n)){var i=Ky(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=sn(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new cy(t)}var Wy=function(){function e(t,n,r,i,a,o){rn(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return on(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=qy.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=qy.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=xm.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,xm.min(),xm.min(),qy.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,xm.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,xm.min(),qy.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,xm.min(),qy.empty(),2)}}]),e}(),Gy=on((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;rn(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.ht=null}));function Hy(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Gy(e,t,n,r,i,a,o)}function Qy(e){var t=im(e);if(null===t.ht){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+Ny(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),by(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Ny(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Ny(e)})).join(",")),t.ht=n}return t.ht}function $y(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!hg(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Ey(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!pg(e.startAt,t.startAt)&&pg(e.endAt,t.endAt)}function Yy(e){return Tm.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Xy(e,t){return e.filters.filter((function(e){return e instanceof tg&&e.field.isEqual(t)}))}function Jy(e,t,n){var r,i=_y,a=!0,o=sn(Xy(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=_y,c=!0;switch(u.op){case"<":case"<=":s=Uy(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=_y}Zy({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Zy({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function eg(e,t,n){var r,i=Iy,a=!0,o=sn(Xy(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Iy,c=!0;switch(u.op){case">=":case">":s=zy(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=Iy}By({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];By({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var tg=function(e){fn(n,e);var t=mn(n);function n(e,r,i){var a;return rn(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return on(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(Cy(t,this.value)):null!==t&&Sy(this.value)===Sy(t)&&this.ft(Cy(t,this.value))}},{key:"ft",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return nm()}}},{key:"dt",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new ng(e,t,r):"array-contains"===t?new og(e,r):"in"===t?new ug(e,r):"not-in"===t?new sg(e,r):"array-contains-any"===t?new cg(e,r):new n(e,t,r)}},{key:"lt",value:function(e,t,n){return"in"===t?new rg(e,n):new ig(e,n)}}]),n}(function(){return on((function e(){rn(this,e)}))}()),ng=function(e){fn(n,e);var t=mn(n);function n(e,r,i){var a;return rn(this,n),(a=t.call(this,e,r,i)).key=Tm.fromName(i.referenceValue),a}return on(n,[{key:"matches",value:function(e){var t=Tm.comparator(e.key,this.key);return this.ft(t)}}]),n}(tg),rg=function(e){fn(n,e);var t=mn(n);function n(e,r){var i;return rn(this,n),(i=t.call(this,e,"in",r)).keys=ag("in",r),i}return on(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(tg),ig=function(e){fn(n,e);var t=mn(n);function n(e,r){var i;return rn(this,n),(i=t.call(this,e,"not-in",r)).keys=ag("not-in",r),i}return on(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(tg);function ag(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Tm.fromName(e.referenceValue)}))}var og=function(e){fn(n,e);var t=mn(n);function n(e,r){return rn(this,n),t.call(this,e,"array-contains",r)}return on(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Ry(t)&&Ty(t.arrayValue,this.value)}}]),n}(tg),ug=function(e){fn(n,e);var t=mn(n);function n(e,r){return rn(this,n),t.call(this,e,"in",r)}return on(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Ty(this.value.arrayValue,t)}}]),n}(tg),sg=function(e){fn(n,e);var t=mn(n);function n(e,r){return rn(this,n),t.call(this,e,"not-in",r)}return on(n,[{key:"matches",value:function(e){if(Ty(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Ty(this.value.arrayValue,t)}}]),n}(tg),cg=function(e){fn(n,e);var t=mn(n);function n(e,r){return rn(this,n),t.call(this,e,"array-contains-any",r)}return on(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Ry(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Ty(t.value.arrayValue,e)}))}}]),n}(tg),lg=on((function e(t,n){rn(this,e),this.position=t,this.inclusive=n})),fg=on((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";rn(this,e),this.field=t,this.dir=n}));function hg(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function dg(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Tm.comparator(Tm.fromName(o.referenceValue),n.key):Cy(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function pg(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Ey(e.position[n],t.position[n]))return!1;return!0}var vg=on((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;rn(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this._t=null,this.wt=null,this.startAt,this.endAt}));function mg(e,t,n,r,i,a,o,u){return new vg(e,t,n,r,i,a,o,u)}function yg(e){return new vg(e)}function gg(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function kg(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function bg(e){var t,n=sn(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.dt())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function wg(e){return null!==e.collectionGroup}function xg(e){var t=im(e);if(null===t._t){t._t=[];var n=bg(t),r=kg(t);if(null!==n&&null===r)n.isKeyField()||t._t.push(new fg(n)),t._t.push(new fg(Em.keyField(),"asc"));else{var i,a=!1,o=sn(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t._t.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t._t.push(new fg(Em.keyField(),s))}}}return t._t}function Ig(e){var t=im(e);if(!t.wt)if("F"===t.limitType)t.wt=Hy(t.path,t.collectionGroup,xg(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=sn(xg(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new fg(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new lg(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new lg(t.startAt.position,t.startAt.inclusive):null;t.wt=Hy(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.wt}function _g(e,t,n){return new vg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Sg(e,t){return $y(Ig(e),Ig(t))&&e.limitType===t.limitType}function Eg(e){return"".concat(Qy(Ig(e)),"|lt:").concat(e.limitType)}function Tg(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Ny(t.value));var t})).join(", "),"]")),by(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Ny(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Ny(e)})).join(",")),"Target(".concat(t,")")}(Ig(e)),"; limitType=").concat(e.limitType,")")}function Cg(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Tm.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=sn(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=sn(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=dg(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,xg(e),t))&&!(e.endAt&&!function(e,t,n){var r=dg(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,xg(e),t))}(e,t)}function Ag(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Ng(e){return function(t,n){var r,i=!1,a=sn(xg(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=Og(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function Og(e,t,n){var r=e.field.isKeyField()?Tm.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Cy(r,i):nm()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return nm()}}function Pg(e,t){if(e.gt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wy(t)?"-0":t}}function Dg(e){return{integerValue:""+e}}function Rg(e,t){return xy(t)?Dg(t):Pg(e,t)}var Lg=on((function e(){rn(this,e),this._=void 0}));function Mg(e,t,n){return e instanceof jg?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Ug?zg(e,t):e instanceof Zg?Bg(e,t):function(e,t){var n=Vg(e,t),r=Kg(n)+Kg(e.yt);return Dy(n)&&Dy(e.yt)?Dg(r):Pg(e.It,r)}(e,t)}function Fg(e,t,n){return e instanceof Ug?zg(e,t):e instanceof Zg?Bg(e,t):n}function Vg(e,t){return e instanceof qg?Dy(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var jg=function(e){fn(n,e);var t=mn(n);function n(){return rn(this,n),t.apply(this,arguments)}return on(n)}(Lg),Ug=function(e){fn(n,e);var t=mn(n);function n(e){var r;return rn(this,n),(r=t.call(this)).elements=e,r}return on(n)}(Lg);function zg(e,t){var n,r=Wg(t),i=sn(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Ey(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Zg=function(e){fn(n,e);var t=mn(n);function n(e){var r;return rn(this,n),(r=t.call(this)).elements=e,r}return on(n)}(Lg);function Bg(e,t){var n,r=Wg(t),i=sn(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Ey(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var qg=function(e){fn(n,e);var t=mn(n);function n(e,r){var i;return rn(this,n),(i=t.call(this)).It=e,i.yt=r,i}return on(n)}(Lg);function Kg(e){return dy(e.integerValue||e.doubleValue)}function Wg(e){return Ry(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Gg=on((function e(t,n){rn(this,e),this.field=t,this.transform=n}));var Hg=on((function e(t,n){rn(this,e),this.version=t,this.transformResults=n})),Qg=function(){function e(t,n){rn(this,e),this.updateTime=t,this.exists=n}return on(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function $g(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Yg=on((function e(){rn(this,e)}));function Xg(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new lk(e.key,Qg.none()):new rk(e.key,e.data,Qg.none());var n,r=e.data,i=qy.empty(),a=new oy(Em.comparator),o=sn(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new ik(e.key,i,new cy(a.toArray()),Qg.none())}function Jg(e,t,n){e instanceof rk?function(e,t,n){var r=e.value.clone(),i=ok(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof ik?function(e,t,n){if($g(e.precondition,t)){var r=ok(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(ak(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function ek(e,t,n,r){return e instanceof rk?function(e,t,n,r){if(!$g(e.precondition,t))return n;var i=e.value.clone(),a=uk(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof ik?function(e,t,n,r){if(!$g(e.precondition,t))return n;var i=uk(e.fieldTransforms,r,t),a=t.data;return a.setAll(ak(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return $g(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function tk(e,t){var n,r=null,i=sn(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=Vg(a.transform,o||null);null!=u&&(null===r&&(r=qy.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function nk(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&km(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Ug&&t instanceof Ug||e instanceof Zg&&t instanceof Zg?km(e.elements,t.elements,Ey):e instanceof qg&&t instanceof qg?Ey(e.yt,t.yt):e instanceof jg&&t instanceof jg}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var rk=function(e){fn(n,e);var t=mn(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return rn(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return on(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Yg),ik=function(e){fn(n,e);var t=mn(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return rn(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return on(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(Yg);function ak(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function ok(e,t,n){var r=new Map;rm(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,Fg(o,u,n[i]))}return r}function uk(e,t,n){var r,i=new Map,a=sn(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,Mg(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var sk,ck,lk=function(e){fn(n,e);var t=mn(n);function n(e,r){var i;return rn(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return on(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Yg),fk=function(e){fn(n,e);var t=mn(n);function n(e,r){var i;return rn(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return on(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Yg),hk=on((function e(t){rn(this,e),this.count=t}));function dk(e){switch(e){default:return nm();case am.CANCELLED:case am.UNKNOWN:case am.DEADLINE_EXCEEDED:case am.RESOURCE_EXHAUSTED:case am.INTERNAL:case am.UNAVAILABLE:case am.UNAUTHENTICATED:return!1;case am.INVALID_ARGUMENT:case am.NOT_FOUND:case am.ALREADY_EXISTS:case am.PERMISSION_DENIED:case am.FAILED_PRECONDITION:case am.ABORTED:case am.OUT_OF_RANGE:case am.UNIMPLEMENTED:case am.DATA_LOSS:return!0}}function pk(e){if(void 0===e)return Jv("GRPC error has no .code"),am.UNKNOWN;switch(e){case sk.OK:return am.OK;case sk.CANCELLED:return am.CANCELLED;case sk.UNKNOWN:return am.UNKNOWN;case sk.DEADLINE_EXCEEDED:return am.DEADLINE_EXCEEDED;case sk.RESOURCE_EXHAUSTED:return am.RESOURCE_EXHAUSTED;case sk.INTERNAL:return am.INTERNAL;case sk.UNAVAILABLE:return am.UNAVAILABLE;case sk.UNAUTHENTICATED:return am.UNAUTHENTICATED;case sk.INVALID_ARGUMENT:return am.INVALID_ARGUMENT;case sk.NOT_FOUND:return am.NOT_FOUND;case sk.ALREADY_EXISTS:return am.ALREADY_EXISTS;case sk.PERMISSION_DENIED:return am.PERMISSION_DENIED;case sk.FAILED_PRECONDITION:return am.FAILED_PRECONDITION;case sk.ABORTED:return am.ABORTED;case sk.OUT_OF_RANGE:return am.OUT_OF_RANGE;case sk.UNIMPLEMENTED:return am.UNIMPLEMENTED;case sk.DATA_LOSS:return am.DATA_LOSS;default:return nm()}}(ck=sk||(sk={}))[ck.OK=0]="OK",ck[ck.CANCELLED=1]="CANCELLED",ck[ck.UNKNOWN=2]="UNKNOWN",ck[ck.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ck[ck.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ck[ck.NOT_FOUND=5]="NOT_FOUND",ck[ck.ALREADY_EXISTS=6]="ALREADY_EXISTS",ck[ck.PERMISSION_DENIED=7]="PERMISSION_DENIED",ck[ck.UNAUTHENTICATED=16]="UNAUTHENTICATED",ck[ck.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ck[ck.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ck[ck.ABORTED=10]="ABORTED",ck[ck.OUT_OF_RANGE=11]="OUT_OF_RANGE",ck[ck.UNIMPLEMENTED=12]="UNIMPLEMENTED",ck[ck.INTERNAL=13]="INTERNAL",ck[ck.UNAVAILABLE=14]="UNAVAILABLE",ck[ck.DATA_LOSS=15]="DATA_LOSS";var vk=function(){function e(t,n){rn(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return on(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=sn(n);try{for(i.s();!(r=i.n()).done;){var a=(0,Tt.Z)(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){ty(this.inner,(function(t,n){var r,i=sn(n);try{for(i.s();!(r=i.n()).done;){var a=(0,Tt.Z)(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return ny(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),mk=new ry(Tm.comparator);function yk(){return mk}var gk=new ry(Tm.comparator);function kk(){for(var e=gk,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function bk(e){var t=gk;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function wk(){return Ik()}function xk(){return Ik()}function Ik(){return new vk((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var _k=new ry(Tm.comparator),Sk=new oy(Tm.comparator);function Ek(){for(var e=Sk,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Tk=new oy(gm);function Ck(){return Tk}var Ak=function(){function e(t,n,r,i,a){rn(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return on(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,Nk.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(xm.min(),i,Ck(),yk(),Ek())}}]),e}(),Nk=function(){function e(t,n,r,i,a){rn(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return on(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,Ek(),Ek(),Ek())}}]),e}(),Ok=on((function e(t,n,r,i){rn(this,e),this.Tt=t,this.removedTargetIds=n,this.key=r,this.Et=i})),Pk=on((function e(t,n){rn(this,e),this.targetId=t,this.At=n})),Dk=on((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ly.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;rn(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Rk=function(){function e(){rn(this,e),this.Rt=0,this.bt=Fk(),this.Pt=ly.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}return on(e,[{key:"current",get:function(){return this.vt}},{key:"resumeToken",get:function(){return this.Pt}},{key:"St",get:function(){return 0!==this.Rt}},{key:"Dt",get:function(){return this.Vt}},{key:"Ct",value:function(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}},{key:"xt",value:function(){var e=Ek(),t=Ek(),n=Ek();return this.bt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:nm()}})),new Nk(this.Pt,this.vt,e,t,n)}},{key:"Nt",value:function(){this.Vt=!1,this.bt=Fk()}},{key:"kt",value:function(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}},{key:"Ot",value:function(e){this.Vt=!0,this.bt=this.bt.remove(e)}},{key:"Mt",value:function(){this.Rt+=1}},{key:"Ft",value:function(){this.Rt-=1}},{key:"$t",value:function(){this.Vt=!0,this.vt=!0}}]),e}(),Lk=function(){function e(t){rn(this,e),this.Bt=t,this.Lt=new Map,this.Ut=yk(),this.qt=Mk(),this.Kt=new oy(gm)}return on(e,[{key:"Gt",value:function(e){var t,n=sn(e.Tt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Et&&e.Et.isFoundDocument()?this.Qt(r,e.Et):this.jt(r,e.key,e.Et)}}catch(u){n.e(u)}finally{n.f()}var i,a=sn(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.jt(o,e.key,e.Et)}}catch(u){a.e(u)}finally{a.f()}}},{key:"Wt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.zt(n);switch(e.state){case 0:t.Ht(n)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||t.removeTarget(n);break;case 3:t.Ht(n)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:t.Ht(n)&&(t.Jt(n),r.Ct(e.resumeToken));break;default:nm()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((function(e,r){n.Ht(r)&&t(r)}))}},{key:"Yt",value:function(e){var t=e.targetId,n=e.At.count,r=this.Xt(t);if(r){var i=r.target;if(Yy(i))if(0===n){var a=new Tm(i.path);this.jt(t,a,Wy.newNoDocument(a,xm.min()))}else rm(1===n);else this.Zt(t)!==n&&(this.Jt(t),this.Kt=this.Kt.add(t))}}},{key:"te",value:function(e){var t=this,n=new Map;this.Lt.forEach((function(r,i){var a=t.Xt(i);if(a){if(r.current&&Yy(a.target)){var o=new Tm(a.target.path);null!==t.Ut.get(o)||t.ee(i,o)||t.jt(i,o,Wy.newNoDocument(o,e))}r.Dt&&(n.set(i,r.xt()),r.Nt())}}));var r=Ek();this.qt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Xt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Ut.forEach((function(t,n){return n.setReadTime(e)}));var i=new Ak(e,n,this.Kt,this.Ut,r);return this.Ut=yk(),this.qt=Mk(),this.Kt=new oy(gm),i}},{key:"Qt",value:function(e,t){if(this.Ht(e)){var n=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,n),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}}},{key:"jt",value:function(e,t,n){if(this.Ht(e)){var r=this.zt(e);this.ee(e,t)?r.kt(t,1):r.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),n&&(this.Ut=this.Ut.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Lt.delete(e)}},{key:"Zt",value:function(e){var t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Mt",value:function(e){this.zt(e).Mt()}},{key:"zt",value:function(e){var t=this.Lt.get(e);return t||(t=new Rk,this.Lt.set(e,t)),t}},{key:"ne",value:function(e){var t=this.qt.get(e);return t||(t=new oy(gm),this.qt=this.qt.insert(e,t)),t}},{key:"Ht",value:function(e){var t=null!==this.Xt(e);return t||Xv("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Xt",value:function(e){var t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}},{key:"Jt",value:function(e){var t=this;this.Lt.set(e,new Rk),this.Bt.getRemoteKeysForTarget(e).forEach((function(n){t.jt(e,n,null)}))}},{key:"ee",value:function(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}]),e}();function Mk(){return new ry(Tm.comparator)}function Fk(){return new ry(Tm.comparator)}var Vk={asc:"ASCENDING",desc:"DESCENDING"},jk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Uk=on((function e(t,n){rn(this,e),this.databaseId=t,this.gt=n}));function zk(e,t){return e.gt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Zk(e,t){return e.gt?t.toBase64():t.toUint8Array()}function Bk(e,t){return zk(e,t.toTimestamp())}function qk(e){return rm(!!e),xm.fromTimestamp(function(e){var t=hy(e);return new wm(t.seconds,t.nanos)}(e))}function Kk(e,t){return function(e){return new _m(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Wk(e){var t=_m.fromString(e);return rm(vb(t)),t}function Gk(e,t){return Kk(e.databaseId,t.path)}function Hk(e,t){var n=Wk(t);if(n.get(1)!==e.databaseId.projectId)throw new om(am.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new om(am.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Tm(Xk(n))}function Qk(e,t){return Kk(e.databaseId,t)}function $k(e){var t=Wk(e);return 4===t.length?_m.emptyPath():Xk(t)}function Yk(e){return new _m(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Xk(e){return rm(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Jk(e,t,n){return{name:Gk(e,t),fields:n.value.mapValue.fields}}function eb(e,t,n){var r=Hk(e,t.name),i=qk(t.updateTime),a=new qy({mapValue:{fields:t.fields}}),o=Wy.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function tb(e,t){return"found"in t?function(e,t){rm(!!t.found),t.found.name,t.found.updateTime;var n=Hk(e,t.found.name),r=qk(t.found.updateTime),i=new qy({mapValue:{fields:t.found.fields}});return Wy.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){rm(!!t.missing),rm(!!t.readTime);var n=Hk(e,t.missing),r=qk(t.readTime);return Wy.newNoDocument(n,r)}(e,t):nm()}function nb(e,t){var n;if(t instanceof rk)n={update:Jk(e,t.key,t.value)};else if(t instanceof lk)n={delete:Gk(e,t.key)};else if(t instanceof ik)n={update:Jk(e,t.key,t.data),updateMask:pb(t.fieldMask)};else{if(!(t instanceof fk))return nm();n={verify:Gk(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof jg)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ug)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Zg)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof qg)return{fieldPath:t.field.canonicalString(),increment:n.yt};throw nm()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Bk(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:nm()}(e,t.precondition)),n}function rb(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Qg.updateTime(qk(e.updateTime)):void 0!==e.exists?Qg.exists(e.exists):Qg.none()}(t.currentDocument):Qg.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)rm("REQUEST_TIME"===t.setToServerValue),n=new jg;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Ug(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Zg(i)}else"increment"in t?n=new qg(e,t.increment):nm();var a=Em.fromServerFormat(t.fieldPath);return new Gg(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=Hk(e,t.update.name),a=new qy({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new cy(t.map((function(e){return Em.fromServerFormat(e)})))}(t.updateMask);return new ik(i,a,o,n,r)}return new rk(i,a,n,r)}if(t.delete){var u=Hk(e,t.delete);return new lk(u,n)}if(t.verify){var s=Hk(e,t.verify);return new fk(s,n)}return nm()}function ib(e,t){return{documents:[Qk(e,t.path)]}}function ab(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Qk(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Qk(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(My(e.value))return{unaryFilter:{field:lb(e.field),op:"IS_NAN"}};if(Ly(e.value))return{unaryFilter:{field:lb(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(My(e.value))return{unaryFilter:{field:lb(e.field),op:"IS_NOT_NAN"}};if(Ly(e.value))return{unaryFilter:{field:lb(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lb(e.field),op:cb(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:lb(e.field),direction:sb(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.gt||by(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function ob(e){var t=$k(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){rm(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=ub(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new fg(fb(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return by(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new lg(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new lg(n,t)}(n.endAt)),mg(t,i,u,o,s,"F",c,l)}function ub(e){return e?void 0!==e.unaryFilter?[db(e)]:void 0!==e.fieldFilter?[hb(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return ub(e)})).reduce((function(e,t){return e.concat(t)})):nm():[]}function sb(e){return Vk[e]}function cb(e){return jk[e]}function lb(e){return{fieldPath:e.canonicalString()}}function fb(e){return Em.fromServerFormat(e.fieldPath)}function hb(e){return tg.create(fb(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return nm()}}(e.fieldFilter.op),e.fieldFilter.value)}function db(e){switch(e.unaryFilter.op){case"IS_NAN":var t=fb(e.unaryFilter.field);return tg.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=fb(e.unaryFilter.field);return tg.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=fb(e.unaryFilter.field);return tg.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=fb(e.unaryFilter.field);return tg.create(i,"!=",{nullValue:"NULL_VALUE"});default:return nm()}}function pb(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function vb(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function mb(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=gb(t)),t=yb(e.get(n),t);return gb(t)}function yb(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function gb(e){return e+"\x01\x01"}function kb(e){var t=e.length;if(rm(t>=2),2===t)return rm("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),_m.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&nm(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:nm()}a=o+2}return new _m(r)}var bb=["userId","batchId"];function wb(e,t){return[e,mb(t)]}function xb(e,t,n){return[e,mb(t),n]}var Ib={},_b=["prefixPath","collectionGroup","readTime","documentId"],Sb=["prefixPath","collectionGroup","documentId"],Eb=["collectionGroup","readTime","prefixPath","documentId"],Tb=["canonicalId","targetId"],Cb=["targetId","path"],Ab=["path","targetId"],Nb=["collectionId","parent"],Ob=["indexId","uid"],Pb=["uid","sequenceNumber"],Db=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Rb=["indexId","uid","orderedDocumentKey"],Lb=["userId","collectionPath","documentId"],Mb=["userId","collectionPath","largestBatchId"],Fb=["userId","collectionGroup","largestBatchId"],Vb=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),jb=[].concat((0,$n.Z)(Vb),["documentOverlays"]),Ub=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],zb=Ub,Zb=[].concat(zb,["indexConfiguration","indexState","indexEntries"]),Bb=function(e){fn(n,e);var t=mn(n);function n(e,r){var i;return rn(this,n),(i=t.call(this)).ie=e,i.currentSequenceNumber=r,i}return on(n)}(Vm);function qb(e,t){var n=im(e);return Bm.M(n.ie,t)}var Kb=function(){function e(t,n,r,i){rn(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return on(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Jg(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=sn(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=ek(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=sn(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=ek(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=xk();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=Xg(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(xm.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Ek())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&km(this.mutations,e.mutations,(function(e,t){return nk(e,t)}))&&km(this.baseMutations,e.baseMutations,(function(e,t){return nk(e,t)}))}}]),e}(),Wb=function(){function e(t,n,r,i){rn(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return on(e,null,[{key:"from",value:function(t,n,r){rm(t.mutations.length===r.length);for(var i=_k,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Gb=function(){function e(t,n){rn(this,e),this.largestBatchId=t,this.mutation=n}return on(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Hb=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:xm.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:xm.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:ly.EMPTY_BYTE_STRING;rn(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return on(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Qb=on((function e(t){rn(this,e),this.re=t}));function $b(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Yb(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Gk(e,t.key),fields:t.data.value.mapValue.fields,updateTime:zk(e,t.version.toTimestamp())}}(e.re,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Xb(t.version)};else{if(!t.isUnknownDocument())return nm();r.unknownDocument={path:n.path.toArray(),version:Xb(t.version)}}return r}function Yb(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Xb(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Jb(e){var t=new wm(e.seconds,e.nanoseconds);return xm.fromTimestamp(t)}function ew(e,t){for(var n=(t.baseMutations||[]).map((function(t){return rb(e.re,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return rb(e.re,t)})),u=wm.fromMillis(t.localWriteTimeMs);return new Kb(t.batchId,u,n,o)}function tw(e){var t,n,r=Jb(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Jb(e.lastLimboFreeSnapshotVersion):xm.min();return void 0!==e.query.documents?(rm(1===(n=e.query).documents.length),t=Ig(yg($k(n.documents[0])))):t=function(e){return Ig(ob(e))}(e.query),new Hb(t,e.targetId,0,e.lastListenSequenceNumber,r,i,ly.fromBase64String(e.resumeToken))}function nw(e,t){var n,r=Xb(t.snapshotVersion),i=Xb(t.lastLimboFreeSnapshotVersion);n=Yy(t.target)?ib(e.re,t.target):ab(e.re,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Qy(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function rw(e){var t=ob({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?_g(t,t.limit,"L"):t}function iw(e,t){return new Gb(t.largestBatchId,rb(e.re,t.overlayMutation))}function aw(e,t){var n=t.path.lastSegment();return[e,mb(t.path.popLast()),n]}function ow(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:Xb(r.readTime),documentKey:mb(r.documentKey.path),largestBatchId:r.largestBatchId}}var uw=function(){function e(){rn(this,e)}return on(e,[{key:"getBundleMetadata",value:function(e,t){return sw(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Jb(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return sw(e).put({bundleId:(n=t).id,createTime:Xb(qk(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return cw(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:rw(t.bundledQuery),readTime:Jb(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return cw(e).put(function(e){return{name:e.name,readTime:Xb(qk(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function sw(e){return qb(e,"bundles")}function cw(e){return qb(e,"namedQueries")}var lw=function(){function e(t,n){rn(this,e),this.It=t,this.userId=n}return on(e,[{key:"getOverlay",value:function(e,t){var n=this;return fw(e).get(aw(this.userId,t)).next((function(e){return e?iw(n.It,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=wk();return zm.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new Gb(t,a);i.push(r.ue(e,o))})),zm.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(mb(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(fw(e).Y("collectionPathOverlayIndex",i))})),zm.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=wk(),a=mb(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return fw(e).W("collectionPathOverlayIndex",o).next((function(e){var t,n=sn(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=iw(r.It,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=wk(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return fw(e).Z({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=iw(a.It,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"ue",value:function(e,t){return fw(e).put(function(e,t,n){var r=aw(t,n.mutation.key),i=(0,Tt.Z)(r,3);i[0];return{userId:t,collectionPath:i[1],documentId:i[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:nb(e.re,n.mutation)}}(this.It,this.userId,t))}}],[{key:"oe",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function fw(e){return qb(e,"documentOverlays")}var hw=function(){function e(){rn(this,e)}return on(e,[{key:"ce",value:function(e,t){this.ae(e,t),t.he()}},{key:"ae",value:function(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(dy(e.integerValue));else if("doubleValue"in e){var n=dy(e.doubleValue);isNaN(n)?this.le(t,13):(this.le(t,15),wy(n)?t.fe(0):t.fe(n))}else if("timestampValue"in e){var r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de("".concat(r.seconds||"")),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(py(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.le(t,45),t.fe(i.latitude||0),t.fe(i.longitude||0)}else"mapValue"in e?jy(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):nm()}},{key:"_e",value:function(e,t){this.le(t,25),this.Ie(e,t)}},{key:"Ie",value:function(e,t){t.de(e)}},{key:"ye",value:function(e,t){var n=e.fields||{};this.le(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this._e(a,t),this.ae(n[a],t)}}},{key:"pe",value:function(e,t){var n=e.values||[];this.le(t,50);var r,i=sn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.ae(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ge",value:function(e,t){var n=this;this.le(t,37),Tm.fromName(e).path.forEach((function(e){n.le(t,60),n.Ie(e,t)}))}},{key:"le",value:function(e,t){e.fe(t)}},{key:"we",value:function(e){e.fe(2)}}]),e}();function dw(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function pw(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=dw(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}hw.Te=new hw;var vw=function(){function e(){rn(this,e),this.buffer=new Uint8Array(1024),this.position=0}return on(e,[{key:"Ee",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ae(n.value),n=t.next();this.Re()}},{key:"be",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Pe(n.value),n=t.next();this.ve()}},{key:"Ve",value:function(e){var t,n=sn(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{var a=r.codePointAt(0);this.Ae(240|a>>>18),this.Ae(128|63&a>>>12),this.Ae(128|63&a>>>6),this.Ae(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Re()}},{key:"Se",value:function(e){var t,n=sn(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Pe(i);else if(i<2048)this.Pe(960|i>>>6),this.Pe(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Pe(480|i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i);else{var a=r.codePointAt(0);this.Pe(240|a>>>18),this.Pe(128|63&a>>>12),this.Pe(128|63&a>>>6),this.Pe(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ve()}},{key:"De",value:function(e){var t=this.Ce(e),n=pw(t);this.xe(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Ne",value:function(e){var t=this.Ce(e),n=pw(t);this.xe(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"ke",value:function(){this.Oe(255),this.Oe(255)}},{key:"Me",value:function(){this.Fe(255),this.Fe(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"$e",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ce",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ae",value:function(e){var t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(t)}},{key:"Pe",value:function(e){var t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}},{key:"Re",value:function(){this.Oe(0),this.Oe(1)}},{key:"ve",value:function(){this.Fe(0),this.Fe(1)}},{key:"Oe",value:function(e){this.xe(1),this.buffer[this.position++]=e}},{key:"Fe",value:function(e){this.xe(1),this.buffer[this.position++]=~e}},{key:"xe",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),mw=function(){function e(t){rn(this,e),this.Be=t}return on(e,[{key:"me",value:function(e){this.Be.Ee(e)}},{key:"de",value:function(e){this.Be.Ve(e)}},{key:"fe",value:function(e){this.Be.De(e)}},{key:"he",value:function(){this.Be.ke()}}]),e}(),yw=function(){function e(t){rn(this,e),this.Be=t}return on(e,[{key:"me",value:function(e){this.Be.be(e)}},{key:"de",value:function(e){this.Be.Se(e)}},{key:"fe",value:function(e){this.Be.Ne(e)}},{key:"he",value:function(){this.Be.Me()}}]),e}(),gw=function(){function e(){rn(this,e),this.Be=new vw,this.Le=new mw(this.Be),this.Ue=new yw(this.Be)}return on(e,[{key:"seed",value:function(e){this.Be.seed(e)}},{key:"qe",value:function(e){return 0===e?this.Le:this.Ue}},{key:"$e",value:function(){return this.Be.$e()}},{key:"reset",value:function(){this.Be.reset()}}]),e}(),kw=function(){function e(t,n,r,i){rn(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return on(e,[{key:"Ke",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function bw(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=ww(e.arrayValue,t.arrayValue))?n:0!==(n=ww(e.directionalValue,t.directionalValue))?n:Tm.comparator(e.documentKey,t.documentKey)}function ww(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var xw=function(){function e(t){rn(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ge=t.orderBy,this.Qe=[];var n,r=sn(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.dt()?this.je=i:this.Qe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return on(e,[{key:"We",value:function(e){var t=Am(e);if(void 0!==t&&!this.ze(t))return!1;for(var n=Nm(e),r=0,i=0;r<n.length&&this.ze(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.je){var a=n[r];if(!this.He(this.je,a)||!this.Je(this.Ge[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ge.length||!this.Je(this.Ge[i++],o))return!1}return!0}},{key:"ze",value:function(e){var t,n=sn(this.Qe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.He(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"He",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Je",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),Iw=function(){function e(){rn(this,e),this.Ye=new _w}return on(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Ye.add(t),zm.resolve()}},{key:"getCollectionParents",value:function(e,t){return zm.resolve(this.Ye.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return zm.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return zm.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return zm.resolve(null)}},{key:"getIndexType",value:function(e,t){return zm.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return zm.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return zm.resolve(null)}},{key:"getMinOffset",value:function(e,t){return zm.resolve(Lm.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return zm.resolve(Lm.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return zm.resolve()}},{key:"updateIndexEntries",value:function(e,t){return zm.resolve()}}]),e}(),_w=function(){function e(){rn(this,e),this.index={}}return on(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new oy(_m.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new oy(_m.comparator)).toArray()}}]),e}(),Sw=new Uint8Array(0),Ew=function(){function e(t,n){rn(this,e),this.user=t,this.databaseId=n,this.Xe=new _w,this.Ze=new vk((function(e){return Qy(e)}),(function(e,t){return $y(e,t)})),this.uid=t.uid||""}return on(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Xe.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Xe.add(t)}));var a={collectionId:r,parent:mb(i)};return Tw(e).put(a)}return zm.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[bm(t),""],!1,!0);return Tw(e).W(r).next((function(e){var r,i=sn(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(kb(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=Aw(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=Nw(e);return a.next((function(e){o.put(ow(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=Aw(e),r=Nw(e),i=Cw(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=Cw(e),i=!0,a=new Map;return zm.forEach(this.tn(t),(function(t){return n.en(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=Ek(),o=[];return zm.forEach(a,(function(i,a){var u;Xv("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(Qy(t)));var s=function(e,t){var n=Am(t);if(void 0===n)return null;var r,i=sn(Xy(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=sn(Nm(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=sn(Xy(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=sn(Nm(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Jy(e,o.fieldPath,e.startAt):eg(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new lg(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=sn(Nm(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?eg(e,o.fieldPath,e.endAt):Jy(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new lg(r,i)}(a,i),h=n.nn(i,a,l),d=n.nn(i,a,f),p=n.sn(i,a,c),v=n.rn(i.indexId,s,h,l.inclusive,d,f.inclusive,p);return zm.forEach(v,(function(n){return r.J(n,t.limit).next((function(t){t.forEach((function(t){var n=Tm.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return zm.resolve(null)}))}},{key:"tn",value:function(e){var t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}},{key:"rn",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.on(t[s/c]):Sw,h=u.un(e,f,n[s%c],r),d=u.cn(e,f,i[s%c],a),p=o.map((function(t){return u.un(e,f,t,!0)}));l.push.apply(l,(0,$n.Z)(u.createRange(h,d,p)))},h=0;h<s;++h)f(h);return l}},{key:"un",value:function(e,t,n,r){var i=new kw(e,Tm.empty(),t,n);return r?i:i.Ke()}},{key:"cn",value:function(e,t,n,r){var i=new kw(e,Tm.empty(),t,n);return r?i.Ke():i}},{key:"en",value:function(e,t){var n=new xw(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=sn(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.We(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2;return zm.forEach(this.tn(t),(function(t){return n.en(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new oy(Em.comparator),r=!1,i=sn(e.filters);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.field.isKeyField()||("array-contains"===a.op||"array-contains-any"===a.op?r=!0:n=n.add(a.field))}}catch(c){i.e(c)}finally{i.f()}var o,u=sn(e.orderBy);try{for(u.s();!(o=u.n()).done;){var s=o.value;s.field.isKeyField()||(n=n.add(s.field))}}catch(c){u.e(c)}finally{u.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return r}))}},{key:"an",value:function(e,t){var n,r=new gw,i=sn(Nm(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.qe(a.kind);hw.Te.ce(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.$e()}},{key:"on",value:function(e){var t=new gw;return hw.Te.ce(e,t.qe(0)),t.$e()}},{key:"hn",value:function(e,t){var n=new gw;return hw.Te.ce(Py(this.databaseId,t),n.qe(function(e){var t=Nm(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.$e()}},{key:"sn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new gw);var i,a=0,o=sn(Nm(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=sn(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.ln(t,s.fieldPath)&&Ry(c))r=this.fn(r,s,c);else{var h=f.qe(s.kind);hw.Te.ce(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.dn(r)}},{key:"nn",value:function(e,t,n){return this.sn(e,t,n.position)}},{key:"dn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].$e();return t}},{key:"fn",value:function(e,t,n){var r,i=(0,$n.Z)(e),a=[],o=sn(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=sn(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new gw;f.seed(l.$e()),hw.Te.ce(s,f.qe(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"ln",value:function(e,t){return!!e.filters.find((function(e){return e instanceof tg&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=Aw(e),i=Nw(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next((function(e){var t=[];return zm.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Pm(t.sequenceNumber,new Lm(Jb(t.readTime),new Tm(kb(t.documentKey)),t.largestBatchId)):Pm.empty(),r=e.fields.map((function(e){var t=(0,Tt.Z)(e,2),n=t[0],r=t[1];return new Om(Em.fromServerFormat(n),r)}));return new Cm(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:gm(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=Aw(e),a=Nw(e);return this._n(e).next((function(e){return i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return zm.forEach(t,(function(t){return a.put(ow(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return zm.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?zm.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),zm.forEach(a,(function(r){return n.wn(e,t,r).next((function(t){var a=n.mn(i,r);return t.isEqual(a)?zm.resolve():n.gn(e,i,r,t,a)}))}))}))}))}},{key:"yn",value:function(e,t,n,r){return Cw(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.hn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"pn",value:function(e,t,n,r){return Cw(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.hn(n,t.key),t.key.path.toArray()])}},{key:"wn",value:function(e,t,n){var r=Cw(e),i=new oy(bw);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.hn(n,t)])},(function(e,r){i=i.add(new kw(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"mn",value:function(e,t){var n=new oy(bw),r=this.an(t,e);if(null==r)return n;var i=Am(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Ry(a)){var o,u=sn(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new kw(t.indexId,e.key,this.on(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new kw(t.indexId,e.key,Sw,r));return n}},{key:"gn",value:function(e,t,n,r,i){var a=this;Xv("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=sy(a),s=sy(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=sy(o)):l?(i(u),u=sy(a)):(u=sy(a),s=sy(o))}}(r,i,bw,(function(r){o.push(a.yn(e,t,n,r))}),(function(r){o.push(a.pn(e,t,n,r))})),zm.waitFor(o)}},{key:"_n",value:function(e){var t=1;return Nw(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return bw(e,t)})).filter((function(e,t,n){return!t||0!==bw(e,n[t-1])}));var r=[];r.push(e);var i,a=sn(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=bw(o,e),s=bw(o,t);if(0===u)r[0]=e.Ke();else if(u>0&&s<0)r.push(o),r.push(o.Ke());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,Sw,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,Sw,[]]));return c}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(Ow)}},{key:"getMinOffset",value:function(e,t){var n=this;return zm.mapArray(this.tn(t),(function(t){return n.en(e,t).next((function(e){return e||nm()}))})).next(Ow)}}]),e}();function Tw(e){return qb(e,"collectionParents")}function Cw(e){return qb(e,"indexEntries")}function Aw(e){return qb(e,"indexConfiguration")}function Nw(e){return qb(e,"indexState")}function Ow(e){rm(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;Mm(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Lm(t.readTime,t.documentKey,n)}var Pw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Dw=function(){function e(t,n,r){rn(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return on(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function Rw(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Z({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){rm(1===u)})));var c,l=[],f=sn(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=xb(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return zm.waitFor(a).next((function(){return l}))}function Lw(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw nm();t=e.noDocument}return JSON.stringify(t).length}Dw.DEFAULT_COLLECTION_PERCENTILE=10,Dw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dw.DEFAULT=new Dw(41943040,Dw.DEFAULT_COLLECTION_PERCENTILE,Dw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dw.DISABLED=new Dw(-1,0,0);var Mw=function(){function e(t,n,r,i){rn(this,e),this.userId=t,this.It=n,this.indexManager=r,this.referenceDelegate=i,this.In={}}return on(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Vw(e).Z({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=jw(e),o=Vw(e);return o.add({}).next((function(u){rm("number"==typeof u);var s,c=new Kb(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return nb(e.re,t)})),i=n.mutations.map((function(t){return nb(e.re,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.It,i.userId,c),f=[],h=new oy((function(e,t){return gm(e.canonicalString(),t.canonicalString())})),d=sn(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=xb(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,Ib))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.In[u]=c.keys()})),zm.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return Vw(e).get(t).next((function(e){return e?(rm(e.userId===n.userId),ew(n.It,e)):null}))}},{key:"Tn",value:function(e,t){var n=this;return this.In[t]?zm.resolve(this.In[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.In[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return Vw(e).Z({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(rm(t.batchId>=r),a=ew(n.It,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Vw(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Vw(e).W("userMutationsIndex",n).next((function(e){return e.map((function(e){return ew(t.It,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=wb(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return jw(e).Z({range:i},(function(r,i,o){var u=(0,Tt.Z)(r,3),s=u[0],c=u[1],l=u[2],f=kb(c);if(s===n.userId&&t.path.isEqual(f))return Vw(e).get(l).next((function(e){if(!e)throw nm();rm(e.userId===n.userId),a.push(ew(n.It,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new oy(gm),i=[];return t.forEach((function(t){var a=wb(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=jw(e).Z({range:o},(function(e,i,a){var o=(0,Tt.Z)(e,3),u=o[0],s=o[1],c=o[2],l=kb(s);u===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(u)})),zm.waitFor(i).next((function(){return n.En(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=wb(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new oy(gm);return jw(e).Z({range:o},(function(e,t,a){var o=(0,Tt.Z)(e,3),s=o[0],c=o[1],l=o[2],f=kb(c);s===n.userId&&r.isPrefixOf(f)?f.length===i&&(u=u.add(l)):a.done()})).next((function(){return n.En(e,u)}))}},{key:"En",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Vw(e).get(t).next((function(e){if(null===e)throw nm();rm(e.userId===n.userId),r.push(ew(n.It,e))})))})),zm.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return Rw(e.ie,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.An(t.batchId)})),zm.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"An",value:function(e){delete this.In[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return zm.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return jw(e).Z({range:r},(function(e,n,r){if(e[0]===t.userId){var a=kb(e[1]);i.push(a)}else r.done()})).next((function(){rm(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return Fw(e,this.userId,t)}},{key:"Rn",value:function(e){var t=this;return Uw(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"oe",value:function(t,n,r,i){return rm(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function Fw(e,t,n){var r=wb(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return jw(e).Z({range:a,X:!0},(function(e,n,r){var a=(0,Tt.Z)(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function Vw(e){return qb(e,"mutations")}function jw(e){return qb(e,"documentMutations")}function Uw(e){return qb(e,"mutationQueues")}var zw=function(){function e(t){rn(this,e),this.bn=t}return on(e,[{key:"next",value:function(){return this.bn+=2,this.bn}}],[{key:"Pn",value:function(){return new e(0)}},{key:"vn",value:function(){return new e(-1)}}]),e}(),Zw=function(){function e(t,n){rn(this,e),this.referenceDelegate=t,this.It=n}return on(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Vn(e).next((function(n){var r=new zw(n.highestTargetId);return n.highestTargetId=r.next(),t.Sn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Vn(e).next((function(e){return xm.fromTimestamp(new wm(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Vn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Vn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Sn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Dn(e,t).next((function(){return n.Vn(e).next((function(r){return r.targetCount+=1,n.Cn(t,r),n.Sn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Dn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Bw(e).delete(t.targetId)})).next((function(){return n.Vn(e)})).next((function(t){return rm(t.targetCount>0),t.targetCount-=1,n.Sn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return Bw(e).Z((function(o,u){var s=tw(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return zm.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return Bw(e).Z((function(e,n){var r=tw(n);t(r)}))}},{key:"Vn",value:function(e){return qw(e).get("targetGlobalKey").next((function(e){return rm(null!==e),e}))}},{key:"Sn",value:function(e,t){return qw(e).put("targetGlobalKey",t)}},{key:"Dn",value:function(e,t){return Bw(e).put(nw(this.It,t))}},{key:"Cn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Vn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Qy(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Bw(e).Z({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=tw(n);$y(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=Kw(e);return t.forEach((function(t){var o=mb(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),zm.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=Kw(e);return zm.forEach(t,(function(t){var a=mb(t.path);return zm.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=Kw(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Kw(e),i=Ek();return r.Z({range:n,X:!0},(function(e,t,n){var r=kb(e[1]),a=new Tm(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=mb(t.path),r=IDBKeyRange.bound([n],[bm(n)],!1,!0),i=0;return Kw(e).Z({index:"documentTargetsIndex",X:!0,range:r},(function(e,t,n){var r=(0,Tt.Z)(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"se",value:function(e,t){return Bw(e).get(t).next((function(e){return e?tw(e):null}))}}]),e}();function Bw(e){return qb(e,"targets")}function qw(e){return qb(e,"targetGlobal")}function Kw(e){return qb(e,"targetDocuments")}function Ww(e,t){var n=(0,Tt.Z)(e,2),r=n[0],i=n[1],a=(0,Tt.Z)(t,2),o=a[0],u=a[1],s=gm(r,o);return 0===s?gm(i,u):s}var Gw=function(){function e(t){rn(this,e),this.xn=t,this.buffer=new oy(Ww),this.Nn=0}return on(e,[{key:"kn",value:function(){return++this.Nn}},{key:"On",value:function(e){var t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Ww(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Hw=function(){function e(t,n,r){rn(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Mn=null}return on(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}},{key:"stop",value:function(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}},{key:"started",get:function(){return null!==this.Mn}},{key:"Fn",value:function(e){var t=this;Xv("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,Xn(Qn().mark((function e(){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Mn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!Wm(e.t0)){e.next=12;break}Xv("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,jm(e.t0);case 14:return e.next=16,t.Fn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),Qw=function(){function e(t,n){rn(this,e),this.$n=t,this.params=n}return on(e,[{key:"calculateTargetCount",value:function(e,t){return this.$n.Bn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return zm.resolve(Jm.at);var r=new Gw(t);return this.$n.forEachTarget(e,(function(e){return r.On(e.sequenceNumber)})).next((function(){return n.$n.Ln(e,(function(e){return r.On(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.$n.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.$n.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Xv("LruGarbageCollector","Garbage collection skipped; disabled"),zm.resolve(Pw)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Xv("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Pw):n.Un(e,t)}))}},{key:"getCacheSize",value:function(e){return this.$n.getCacheSize(e)}},{key:"Un",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Xv("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),Yv()<=rr.DEBUG&&Xv("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),zm.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),$w=function(){function e(t,n){rn(this,e),this.db=t,this.garbageCollector=function(e,t){return new Qw(e,t)}(this,n)}return on(e,[{key:"Bn",value:function(e){var t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"qn",value:function(e){var t=0;return this.Ln(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Ln",value:function(e,t){return this.Kn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return Yw(e,n)}},{key:"removeReference",value:function(e,t,n){return Yw(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return Yw(e,t)}},{key:"Gn",value:function(e,t){return function(e,t){var n=!1;return Uw(e).tt((function(r){return Fw(e,r,t).next((function(e){return e&&(n=!0),zm.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Kn(e,(function(o,u){if(u<=t){var s=n.Gn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,xm.min()),Kw(e).delete([0,mb(o.path)])}))}));i.push(s)}})).next((function(){return zm.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return Yw(e,t)}},{key:"Kn",value:function(e,t){var n,r=Kw(e),i=Jm.at;return r.Z({index:"documentTargetsIndex"},(function(e,r){var a=(0,Tt.Z)(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==Jm.at&&t(new Tm(kb(n)),i),i=s,n=u):i=Jm.at})).next((function(){i!==Jm.at&&t(new Tm(kb(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function Yw(e,t){return Kw(e).put(function(e,t){return{targetId:0,path:mb(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var Xw=function(){function e(){rn(this,e),this.changes=new vk((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return on(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Wy.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?zm.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Jw=function(){function e(t){rn(this,e),this.It=t}return on(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return rx(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return rx(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Yb(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Qn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Wy.newInvalidDocument(t);return rx(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(ix(t))},(function(e,i){r=n.jn(t,i)})).next((function(){return r}))}},{key:"Wn",value:function(e,t){var n=this,r={size:0,document:Wy.newInvalidDocument(t)};return rx(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(ix(t))},(function(e,i){r={document:n.jn(t,i),size:Lw(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=yk();return this.zn(e,t,(function(e,t){var i=n.jn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Hn",value:function(e,t){var n=this,r=yk(),i=new ry(Tm.comparator);return this.zn(e,t,(function(e,t){var a=n.jn(e,t);r=r.insert(e,a),i=i.insert(e,Lw(t))})).next((function(){return{documents:r,Jn:i}}))}},{key:"zn",value:function(e,t,n){if(t.isEmpty())return zm.resolve();var r=new oy(ox);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(ix(r.first()),ix(r.last())),a=r.getIterator(),o=a.getNext();return rx(e).Z({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Tm.fromSegments([].concat((0,$n.Z)(t.prefixPath),[t.collectionGroup,t.documentId]));o&&ox(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.j(ix(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),Yb(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return rx(e).W(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=yk(),i=sn(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.jn(Tm.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=yk(),o=ax(t,n),u=ax(t,Lm.max());return rx(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.jn(Tm.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new tx(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return nx(e).get("remoteDocumentGlobalKey").next((function(e){return rm(!!e),e}))}},{key:"Qn",value:function(e,t){return nx(e).put("remoteDocumentGlobalKey",t)}},{key:"jn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=eb(e.re,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Tm.fromSegments(t.noDocument.path),i=Jb(t.noDocument.readTime);n=Wy.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return nm();var a=Tm.fromSegments(t.unknownDocument.path),o=Jb(t.unknownDocument.version);n=Wy.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new wm(e[0],e[1]);return xm.fromTimestamp(t)}(t.readTime)),n}(this.It,t);if(!n.isNoDocument()||!n.version.isEqual(xm.min()))return n}return Wy.newInvalidDocument(e)}}]),e}();function ex(e){return new Jw(e)}var tx=function(e){fn(n,e);var t=mn(n);function n(e,r){var i;return rn(this,n),(i=t.call(this)).Yn=e,i.trackRemovals=r,i.Xn=new vk((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return on(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new oy((function(e,t){return gm(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Xn.get(a);if(n.push(t.Yn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=$b(t.Yn.It,o);i=i.add(a.path.popLast());var c=Lw(s);r+=c-u.size,n.push(t.Yn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=$b(t.Yn.It,o.convertToNoDocument(xm.min()));n.push(t.Yn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Yn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Yn.updateMetadata(e,r)),zm.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Yn.Wn(e,t).next((function(e){return n.Xn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Yn.Hn(e,t).next((function(e){var t=e.documents;return e.Jn.forEach((function(e,r){n.Xn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(Xw);function nx(e){return qb(e,"remoteDocumentGlobal")}function rx(e){return qb(e,"remoteDocumentsV14")}function ix(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function ax(e,t){var n=t.documentKey.path.toArray();return[e,Yb(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function ox(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=gm(n[a],r[a]))return i;return(i=gm(n.length,r.length))||((i=gm(n[n.length-2],r[r.length-2]))||gm(n[n.length-1],r[r.length-1]))}var ux=on((function e(t,n){rn(this,e),this.overlayedDocument=t,this.mutatedFields=n})),sx=function(){function e(t,n,r,i){rn(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return on(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.getBaseDocument(e,t,r)})).next((function(e){return null!==r&&ek(r.mutation,e,cy.empty(),wm.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,Ek()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ek(),i=wk();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=kk();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=wk();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,Ek())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=yk(),a=Ik(),o=Ik();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof ik)?i=i.insert(t.key,t):void 0!==o&&(a.set(t.key,o.mutation.getFieldMask()),ek(o.mutation,t,o.mutation.getFieldMask(),wm.now()))})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new ux(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Ik(),i=new ry((function(e,t){return e-t})),a=Ek();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=sn(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||cy.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||Ek()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=xk();c.forEach((function(e){if(!a.has(e)){var n=Xg(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return zm.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Tm.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):wg(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):zm.resolve(wk()),u=-1,s=a;return o.next((function(t){return zm.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?zm.resolve():i.getBaseDocument(e,t,n).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,Ek())})).next((function(e){return{batchId:u,changes:bk(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Tm(t)).next((function(e){var t=kk();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=kk();return this.indexManager.getCollectionParents(e,i).next((function(o){return zm.forEach(o,(function(o){var u=function(e,t){return new vg(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,Wy.newInvalidDocument(n)))}));var n=kk();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&ek(a.mutation,i,cy.empty(),wm.now()),Cg(t,i)&&(n=n.insert(r,i))})),n}))}},{key:"getBaseDocument",value:function(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):zm.resolve(Wy.newInvalidDocument(t))}}]),e}(),cx=function(){function e(t){rn(this,e),this.It=t,this.Zn=new Map,this.ts=new Map}return on(e,[{key:"getBundleMetadata",value:function(e,t){return zm.resolve(this.Zn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:qk(n.createTime)}),zm.resolve()}},{key:"getNamedQuery",value:function(e,t){return zm.resolve(this.ts.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ts.set(t.name,function(e){return{name:e.name,query:rw(e.bundledQuery),readTime:qk(e.readTime)}}(t)),zm.resolve()}}]),e}(),lx=function(){function e(){rn(this,e),this.overlays=new ry(Tm.comparator),this.es=new Map}return on(e,[{key:"getOverlay",value:function(e,t){return zm.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=wk();return zm.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ue(e,t,i)})),zm.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.es.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.es.delete(n)),zm.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=wk(),i=t.length+1,a=new Tm(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return zm.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new ry((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=wk(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=wk(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return zm.resolve(s)}},{key:"ue",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.es.get(r.largestBatchId).delete(n.key);this.es.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Gb(t,n));var a=this.es.get(t);void 0===a&&(a=Ek(),this.es.set(t,a)),this.es.set(t,a.add(n.key))}}]),e}(),fx=function(){function e(){rn(this,e),this.ns=new oy(hx.ss),this.rs=new oy(hx.os)}return on(e,[{key:"isEmpty",value:function(){return this.ns.isEmpty()}},{key:"addReference",value:function(e,t){var n=new hx(e,t);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}},{key:"us",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.cs(new hx(e,t))}},{key:"hs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ls",value:function(e){var t=this,n=new Tm(new _m([])),r=new hx(n,e),i=new hx(n,e+1),a=[];return this.rs.forEachInRange([r,i],(function(e){t.cs(e),a.push(e.key)})),a}},{key:"fs",value:function(){var e=this;this.ns.forEach((function(t){return e.cs(t)}))}},{key:"cs",value:function(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}},{key:"ds",value:function(e){var t=new Tm(new _m([])),n=new hx(t,e),r=new hx(t,e+1),i=Ek();return this.rs.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new hx(e,0),n=this.ns.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),hx=function(){function e(t,n){rn(this,e),this.key=t,this._s=n}return on(e,null,[{key:"ss",value:function(e,t){return Tm.comparator(e.key,t.key)||gm(e._s,t._s)}},{key:"os",value:function(e,t){return gm(e._s,t._s)||Tm.comparator(e.key,t.key)}}]),e}(),dx=function(){function e(t,n){rn(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new oy(hx.ss)}return on(e,[{key:"checkEmpty",value:function(e){return zm.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new Kb(i,t,n,r);this.mutationQueue.push(a);var o,u=sn(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.gs=this.gs.add(new hx(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return zm.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return zm.resolve(this.ys(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ps(n),i=r<0?0:r;return zm.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return zm.resolve(0===this.mutationQueue.length?-1:this.ws-1)}},{key:"getAllMutationBatches",value:function(e){return zm.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new hx(t,0),i=new hx(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],(function(e){var t=n.ys(e._s);a.push(t)})),zm.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new oy(gm);return t.forEach((function(e){var t=new hx(e,0),i=new hx(e,Number.POSITIVE_INFINITY);n.gs.forEachInRange([t,i],(function(e){r=r.add(e._s)}))})),zm.resolve(this.Is(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Tm.isDocumentKey(i)||(i=i.child(""));var a=new hx(new Tm(i),0),o=new oy(gm);return this.gs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e._s)),!0)}),a),zm.resolve(this.Is(o))}},{key:"Is",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ys(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;rm(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();var r=this.gs;return zm.forEach(t.mutations,(function(i){var a=new hx(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.gs=r}))}},{key:"An",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new hx(t,0),r=this.gs.firstAfterOrEqual(n);return zm.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,zm.resolve()}},{key:"Ts",value:function(e,t){return this.ps(e)}},{key:"ps",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"ys",value:function(e){var t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),px=function(){function e(t){rn(this,e),this.Es=t,this.docs=new ry(Tm.comparator),this.size=0}return on(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Es(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return zm.resolve(n?n.document.mutableCopy():Wy.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=yk();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Wy.newInvalidDocument(e))})),zm.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=yk(),i=new Tm(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||Mm(Rm(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return zm.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){nm()}},{key:"As",value:function(e,t){return zm.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new vx(this)}},{key:"getSize",value:function(e){return zm.resolve(this.size)}}]),e}(),vx=function(e){fn(n,e);var t=mn(n);function n(e){var r;return rn(this,n),(r=t.call(this)).Yn=e,r}return on(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Yn.addEntry(e,i)):t.Yn.removeEntry(r)})),zm.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Yn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Yn.getEntries(e,t)}}]),n}(Xw),mx=function(){function e(t){rn(this,e),this.persistence=t,this.Rs=new vk((function(e){return Qy(e)}),$y),this.lastRemoteSnapshotVersion=xm.min(),this.highestTargetId=0,this.bs=0,this.Ps=new fx,this.targetCount=0,this.vs=zw.Pn()}return on(e,[{key:"forEachTarget",value:function(e,t){return this.Rs.forEach((function(e,n){return t(n)})),zm.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return zm.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return zm.resolve(this.bs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.vs.next(),zm.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),zm.resolve()}},{key:"Dn",value:function(e){this.Rs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.vs=new zw(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Dn(t),this.targetCount+=1,zm.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Dn(t),zm.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,zm.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Rs.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Rs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),zm.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return zm.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Rs.get(t)||null;return zm.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Ps.us(t,n),zm.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Ps.hs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),zm.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Ps.ls(t),zm.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Ps.ds(t);return zm.resolve(n)}},{key:"containsKey",value:function(e,t){return zm.resolve(this.Ps.containsKey(t))}}]),e}(),yx=function(){function e(t,n){var r=this;rn(this,e),this.Vs={},this.overlays={},this.Ss=new Jm(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new mx(this),this.indexManager=new Iw,this.remoteDocumentCache=new px((function(e){return r.referenceDelegate.xs(e)})),this.It=new Qb(n),this.Ns=new cx(this.It)}return on(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ds=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ds}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new lx,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Vs[e.toKey()];return n||(n=new dx(t,this.referenceDelegate),this.Vs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;Xv("MemoryPersistence","Starting transaction:",e);var i=new gx(this.Ss.next());return this.referenceDelegate.ks(),n(i).next((function(e){return r.referenceDelegate.Os(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ms",value:function(e,t){return zm.or(Object.values(this.Vs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),gx=function(e){fn(n,e);var t=mn(n);function n(e){var r;return rn(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return on(n)}(Vm),kx=function(){function e(t){rn(this,e),this.persistence=t,this.Fs=new fx,this.$s=null}return on(e,[{key:"Ls",get:function(){if(this.$s)return this.$s;throw nm()}},{key:"addReference",value:function(e,t,n){return this.Fs.addReference(n,t),this.Ls.delete(n.toString()),zm.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Fs.removeReference(n,t),this.Ls.add(n.toString()),zm.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ls.add(t.toString()),zm.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Fs.ls(t.targetId).forEach((function(e){return n.Ls.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ls.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ks",value:function(){this.$s=new Set}},{key:"Os",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return zm.forEach(this.Ls,(function(r){var i=Tm.fromPath(r);return t.Us(e,i).next((function(e){e||n.removeEntry(i,xm.min())}))})).next((function(){return t.$s=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Us(e,t).next((function(e){e?n.Ls.delete(t.toString()):n.Ls.add(t.toString())}))}},{key:"xs",value:function(e){return 0}},{key:"Us",value:function(e,t){var n=this;return zm.or([function(){return zm.resolve(n.Fs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ms(e,t)}])}}],[{key:"Bs",value:function(t){return new e(t)}}]),e}(),bx=function(){function e(t){rn(this,e),this.It=t}return on(e,[{key:"$",value:function(e,t,n,r){var i=this,a=new Zm("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",bb,{unique:!0}),e.createObjectStore("documentMutations")}(e),wx(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=zm.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),wx(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:xm.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").W().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",bb,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return zm.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.qs(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ks(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Gs(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Qs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.js(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:Lb});t.createIndex("collectionPathOverlayIndex",Mb,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Fb,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:_b});t.createIndex("documentKeyIndex",Sb),t.createIndex("collectionGroupIndex",Eb)}(e)})).next((function(){return i.Ws(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.zs(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Ob}).createIndex("sequenceNumberIndex",Pb,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Db}).createIndex("documentKeyIndex",Rb,{unique:!1})}(e)}))),o}},{key:"Ks",value:function(e){var t=0;return e.store("remoteDocuments").Z((function(e,n){t+=Lw(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"qs",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next((function(n){return zm.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",i).next((function(r){return zm.forEach(r,(function(r){rm(r.userId===n.userId);var i=ew(t.It,r);return Rw(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Gs",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Z((function(n,i){var a=new _m(n),o=function(e){return[0,mb(e)]}(a);r.push(t.get(o).next((function(n){return n?zm.resolve():function(n){return t.put({targetId:0,path:mb(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return zm.waitFor(r)}))}))}},{key:"Qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:Nb});var n=t.store("collectionParents"),r=new _w,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:mb(i)})}};return t.store("remoteDocuments").Z({X:!0},(function(e,t){var n=new _m(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Z({X:!0},(function(e,t){var n=(0,Tt.Z)(e,3),r=(n[0],n[1]),a=(n[2],kb(r));return i(a.popLast())}))}))}},{key:"js",value:function(e){var t=this,n=e.store("targets");return n.Z((function(e,r){var i=tw(r),a=nw(t.It,i);return n.put(a)}))}},{key:"Ws",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Z((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new Tm(_m.fromString(i.document.name).popFirst(5)):i.noDocument?Tm.fromSegments(i.noDocument.path):i.unknownDocument?Tm.fromSegments(i.unknownDocument.path):nm()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return zm.waitFor(r)}))}},{key:"zs",value:function(e,t){var n=this,r=t.store("mutations"),i=ex(this.It),a=new yx(kx.Bs,this.It.re);return r.W().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:Ek();ew(n.It,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),zm.forEach(r,(function(e,r){var o=new Hv(r),u=lw.oe(n.It,o),s=a.getIndexManager(o),c=Mw.oe(o,n.It,s,a.referenceDelegate);return new sx(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new Bb(t,Jm.at),e).next()}))}))}}]),e}();function wx(e){e.createObjectStore("targetDocuments",{keyPath:Cb}).createIndex("documentTargetsIndex",Ab,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Tb,{unique:!0}),e.createObjectStore("targetGlobal")}var xx="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Ix=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(rn(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Hs=a,this.window=o,this.document=u,this.Js=c,this.Ys=l,this.Xs=f,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=function(e){return Promise.resolve()},!e.C())throw new om(am.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new $w(this,i),this.ii=n+"main",this.It=new Qb(s),this.ri=new Bm(this.ii,this.Xs,new bx(this.It)),this.Cs=new Zw(this.referenceDelegate,this.It),this.remoteDocumentCache=ex(this.It),this.Ns=new uw,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===l&&Jv("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return on(e,[{key:"start",value:function(){var e=this;return this.ui().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new om(am.FAILED_PRECONDITION,xx);return e.ci(),e.ai(),e.hi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Cs.getHighestSequenceNumber(t)}))})).then((function(t){e.Ss=new Jm(t,e.Js)})).then((function(){e.Ds=!0})).catch((function(t){return e.ri&&e.ri.close(),Promise.reject(t)}))}},{key:"li",value:function(e){var t=this;return this.si=function(){var n=Xn(Qn().mark((function n(r){return Qn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ri.L(function(){var t=Xn(Qn().mark((function t(n){return Qn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget(Xn(Qn().mark((function e(){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ui();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ui",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Sx(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.fi(t).next((function(t){t||(e.isPrimary=!1,e.Hs.enqueueRetryable((function(){return e.si(!1)})))}))})).next((function(){return e.di(t)})).next((function(n){return e.isPrimary&&!n?e._i(t).next((function(){return!1})):!!n&&e.wi(t).next((function(){return!0}))}))})).catch((function(t){if(Wm(t))return Xv("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Xv("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Hs.enqueueRetryable((function(){return e.si(t)})),e.isPrimary=t}))}},{key:"fi",value:function(e){var t=this;return _x(e).get("owner").next((function(e){return zm.resolve(t.mi(e))}))}},{key:"gi",value:function(e){return Sx(e).delete(this.clientId)}},{key:"yi",value:function(){var e=Xn(Qn().mark((function e(){var t,n,r,i,a=this;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.pi(this.ni,18e5)){e.next=6;break}return this.ni=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=qb(e,"clientMetadata");return t.W().next((function(e){var n=a.Ii(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return zm.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.oi){n=sn(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.oi.removeItem(this.Ti(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"hi",value:function(){var e=this;this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ui().then((function(){return e.yi()})).then((function(){return e.hi()}))}))}},{key:"mi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"di",value:function(e){var t=this;return this.Ys?zm.resolve(!0):_x(e).get("owner").next((function(n){if(null!==n&&t.pi(n.leaseTimestampMs,5e3)&&!t.Ei(n.ownerId)){if(t.mi(n)&&t.networkEnabled)return!0;if(!t.mi(n)){if(!n.allowTabSynchronization)throw new om(am.FAILED_PRECONDITION,xx);return!1}}return!(!t.networkEnabled||!t.inForeground)||Sx(e).W().next((function(e){return void 0===t.Ii(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Xv("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Xn(Qn().mark((function e(){var t=this;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ds=!1,this.Ai(),this.ei&&(this.ei.cancel(),this.ei=null),this.Ri(),this.bi(),e.next=7,this.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new Bb(e,Jm.at);return t._i(n).next((function(){return t.gi(n)}))}));case 7:this.ri.close(),this.Pi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ii",value:function(e,t){var n=this;return e.filter((function(e){return n.pi(e.updateTimeMs,t)&&!n.Ei(e.clientId)}))}},{key:"vi",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Sx(t).W().next((function(t){return e.Ii(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ds}},{key:"getMutationQueue",value:function(e,t){return Mw.oe(e,this.It,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new Ew(e,this.It.re.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return lw.oe(this.It,e)}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;Xv("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.Xs)?Zb:14===i?zb:13===i?Ub:12===i?jb:11===i?Vb:void nm();return this.ri.runTransaction(e,o,u,(function(i){return a=new Bb(i,r.Ss?r.Ss.next():Jm.at),"readwrite-primary"===t?r.fi(a).next((function(e){return!!e||r.di(a)})).next((function(t){if(!t)throw Jv("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Hs.enqueueRetryable((function(){return r.si(!1)})),new om(am.FAILED_PRECONDITION,Fm);return n(a)})).next((function(e){return r.wi(a).next((function(){return e}))})):r.Vi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Vi",value:function(e){var t=this;return _x(e).get("owner").next((function(e){if(null!==e&&t.pi(e.leaseTimestampMs,5e3)&&!t.Ei(e.ownerId)&&!t.mi(e)&&!(t.Ys||t.allowTabSynchronization&&e.allowTabSynchronization))throw new om(am.FAILED_PRECONDITION,xx)}))}},{key:"wi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return _x(e).put("owner",t)}},{key:"_i",value:function(e){var t=this,n=_x(e);return n.get("owner").next((function(e){return t.mi(e)?(Xv("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):zm.resolve()}))}},{key:"pi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Jv("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ci",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=function(){e.Hs.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ui()}))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ri",value:function(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}},{key:"ai",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=function(){t.Ai(),!Sn()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Hs.enterRestrictedMode(!0),t.Hs.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Zs))}},{key:"bi",value:function(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}},{key:"Ei",value:function(e){var t;try{var n=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Xv("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Jv("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ai",value:function(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(T){Jv("Failed to set zombie client id.",T)}}},{key:"Pi",value:function(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(T){}}},{key:"Ti",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"C",value:function(){return Bm.C()}}]),e}();function _x(e){return qb(e,"owner")}function Sx(e){return qb(e,"clientMetadata")}function Ex(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Tx=function(){function e(t,n,r,i){rn(this,e),this.targetId=t,this.fromCache=n,this.Si=r,this.Di=i}return on(e,null,[{key:"Ci",value:function(t,n){var r,i=Ek(),a=Ek(),o=sn(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Cx=function(){function e(){rn(this,e),this.xi=!1}return on(e,[{key:"initialize",value:function(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.ki(e,t).next((function(a){return a||i.Oi(e,t,r,n)})).next((function(n){return n||i.Mi(e,t)}))}},{key:"ki",value:function(e,t){var n=this;if(gg(t))return zm.resolve(null);var r=Ig(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=_g(t,null,"F"),r=Ig(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=Ek.apply(void 0,(0,$n.Z)(i));return n.Ni.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Fi(t,i);return n.$i(t,o,a,r.readTime)?n.ki(e,_g(t,null,"F")):n.Bi(e,o,t,r)}))}))})))}))}},{key:"Oi",value:function(e,t,n,r){var i=this;return gg(t)||r.isEqual(xm.min())?this.Mi(e,t):this.Ni.getDocuments(e,n).next((function(a){var o=i.Fi(t,a);return i.$i(t,o,n,r)?i.Mi(e,t):(Yv()<=rr.DEBUG&&Xv("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Tg(t)),i.Bi(e,o,t,Dm(r,-1)))}))}},{key:"Fi",value:function(e,t){var n=new oy(Ng(e));return t.forEach((function(t,r){Cg(e,r)&&(n=n.add(r))})),n}},{key:"$i",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Mi",value:function(e,t){return Yv()<=rr.DEBUG&&Xv("QueryEngine","Using full collection scan to execute query:",Tg(t)),this.Ni.getDocumentsMatchingQuery(e,t,Lm.min())}},{key:"Bi",value:function(e,t,n,r){return this.Ni.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),Ax=function(){function e(t,n,r,i){rn(this,e),this.persistence=t,this.Li=n,this.It=i,this.Ui=new ry(gm),this.qi=new vk((function(e){return Qy(e)}),$y),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(r)}return on(e,[{key:"Qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new sx(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ui)}))}}]),e}();function Nx(e,t,n,r){return new Ax(e,t,n,r)}function Ox(e,t){return Px.apply(this,arguments)}function Px(){return Px=Xn(Qn().mark((function e(t,n){var r;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=im(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=Ek(),s=sn(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=sn(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=sn(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=sn(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{ji:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Px.apply(this,arguments)}function Dx(e,t){var n=im(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Gi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=zm.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);rm(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=Ek(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function Rx(e){var t=im(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Cs.getLastRemoteSnapshotVersion(e)}))}function Lx(e,t){var n=im(e),r=t.snapshotVersion,i=n.Ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.Ui;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Cs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Cs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(ly.EMPTY_BYTE_STRING,xm.min()).withLastLimboFreeSnapshotVersion(xm.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Cs.updateTargetData(e,c))}}));var u=yk(),s=Ek();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Mx(e,a,t.documentUpdates).next((function(e){u=e.Wi,s=e.zi}))),!r.isEqual(xm.min())){var c=n.Cs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Cs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return zm.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.Ui=i,e}))}function Mx(e,t,n){var r=Ek(),i=Ek();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=yk();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(xm.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Xv("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Wi:r,zi:i}}))}function Fx(e,t){var n=im(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function Vx(e,t){var n=im(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Cs.getTargetData(e,t).next((function(i){return i?(r=i,zm.resolve(r)):n.Cs.allocateTargetId(e).next((function(i){return r=new Hb(t,i,0,e.currentSequenceNumber),n.Cs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ui.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ui=n.Ui.insert(e.targetId,e),n.qi.set(t,e.targetId)),e}))}function jx(e,t,n){return Ux.apply(this,arguments)}function Ux(){return Ux=Xn(Qn().mark((function e(t,n,r){var i,a,o;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=im(t),a=i.Ui.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Wm(e.t1)){e.next=12;break}throw e.t1;case 12:Xv("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ui=i.Ui.remove(n),i.qi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Ux.apply(this,arguments)}function zx(e,t,n){var r=im(e),i=xm.min(),a=Ek();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=im(e),i=r.qi.get(n);return void 0!==i?zm.resolve(r.Ui.get(i)):r.Cs.getTargetData(t,n)}(r,e,Ig(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Li.getDocumentsMatchingQuery(e,t,n?i:xm.min(),n?a:Ek())})).next((function(e){return qx(r,Ag(t),e),{documents:e,Hi:a}}))}))}function Zx(e,t){var n=im(e),r=im(n.Cs),i=n.Ui.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.se(e,t).next((function(e){return e?e.target:null}))}))}function Bx(e,t){var n=im(e),r=n.Ki.get(t)||xm.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Gi.getAllFromCollectionGroup(e,t,Dm(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return qx(n,t,e),e}))}function qx(e,t,n){var r=e.Ki.get(t)||xm.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ki.set(t,r)}function Kx(e,t,n,r){return Wx.apply(this,arguments)}function Wx(){return Wx=Xn(Qn().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=im(t),o=Ek(),u=yk(),s=sn(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.Ji(l.metadata.name),l.document&&(o=o.add(f)),(h=n.Yi(l)).setReadTime(n.Xi(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.Gi.newChangeBuffer({trackRemovals:!0}),e.next=7,Vx(a,function(e){return Ig(yg(_m.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Mx(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.Cs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Cs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Wi,t.zi)})).next((function(){return t.Wi}))}))})));case 9:case"end":return e.stop()}}),e)}))),Wx.apply(this,arguments)}function Gx(e,t){return Hx.apply(this,arguments)}function Hx(){return Hx=Xn(Qn().mark((function e(t,n){var r,i,a,o=arguments;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Ek(),e.next=3,Vx(t,Ig(rw(n.bundledQuery)));case 3:return i=e.sent,a=im(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=qk(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ns.saveNamedQuery(e,n);var o=i.withResumeToken(ly.EMPTY_BYTE_STRING,t);return a.Ui=a.Ui.insert(o.targetId,o),a.Cs.updateTargetData(e,o).next((function(){return a.Cs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Cs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ns.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),Hx.apply(this,arguments)}function Qx(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function $x(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Yx(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Xx=function(){function e(t,n,r,i){rn(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return on(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new om(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Jv("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),Jx=function(){function e(t,n,r){rn(this,e),this.targetId=t,this.state=n,this.error=r}return on(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new om(i.error.code,i.error.message))),a?new e(t,i.state,r):(Jv("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),eI=function(){function e(t,n){rn(this,e),this.clientId=t,this.activeTargetIds=n}return on(e,null,[{key:"Zi",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Ck(),o=0;i&&o<r.activeTargetIds.length;++o)i=xy(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Jv("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),tI=function(){function e(t,n){rn(this,e),this.clientId=t,this.onlineState=n}return on(e,null,[{key:"Zi",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Jv("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),nI=function(){function e(){rn(this,e),this.activeTargetIds=Ck()}return on(e,[{key:"er",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"tr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),rI=function(){function e(t,n,r,i,a){rn(this,e),this.window=t,this.Hs=n,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new ry(gm),this.started=!1,this.cr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=Qx(this.persistenceKey,this.sr),this.hr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ur=this.ur.insert(this.sr,new nI),this.lr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.dr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this._r=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.wr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.mr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}return on(e,[{key:"start",value:function(){var e=Xn(Qn().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.vi();case 2:t=e.sent,n=sn(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.sr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(Qx(this.persistenceKey,i)))&&(o=eI.Zi(i,a))&&(this.ur=this.ur.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.gr(),(u=this.storage.getItem(this.wr))&&(s=this.yr(u))&&this.pr(s),c=sn(this.cr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.rr(f)}catch(d){c.e(d)}finally{c.f()}this.cr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.hr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Ir(this.ur)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ur.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Tr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Tr(e,t,n),this.Er(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Yx(this.persistenceKey,e));if(n){var r=Jx.Zi(e,n);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ar.nr(e),this.gr()}},{key:"isLocalQueryTarget",value:function(e){return this.Ar.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(Yx(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Rr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Er(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.br(e)}},{key:"notifyBundleLoaded",value:function(e){this.Pr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Xv("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Xv("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Xv("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"rr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Xv("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ar)return void Jv("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable(Xn(Qn().mark((function e(){var r,i,a,o,u,s,c;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.lr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.vr(n.key),e.abrupt("return",t.Vr(r,null));case 6:if(!(i=t.Sr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Vr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.dr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Dr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Cr(a));case 16:e.next=41;break;case 18:if(!t._r.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Nr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.kr(o));case 23:e.next=41;break;case 25:if(n.key!==t.wr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.yr(n.newValue))){e.next=30;break}return e.abrupt("return",t.pr(u));case 30:e.next=41;break;case 32:if(n.key!==t.hr){e.next=37;break}s=function(e){var t=Jm.at;if(null!=e)try{var n=JSON.parse(e);rm("number"==typeof n),t=n}catch(e){Jv("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==Jm.at&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.mr){e.next=41;break}return c=t.Or(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Mr(e)})));case 41:e.next=44;break;case 43:t.cr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ar",get:function(){return this.ur.get(this.sr)}},{key:"gr",value:function(){this.setItem(this.ar,this.Ar.tr())}},{key:"Tr",value:function(e,t,n){var r=new Xx(this.currentUser,e,t,n),i=$x(this.persistenceKey,this.currentUser,e);this.setItem(i,r.tr())}},{key:"Er",value:function(e){var t=$x(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"br",value:function(e){var t={clientId:this.sr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(t))}},{key:"Rr",value:function(e,t,n){var r=Yx(this.persistenceKey,e),i=new Jx(e,t,n);this.setItem(r,i.tr())}},{key:"Pr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}},{key:"vr",value:function(e){var t=this.lr.exec(e);return t?t[1]:null}},{key:"Sr",value:function(e,t){var n=this.vr(e);return eI.Zi(n,t)}},{key:"Dr",value:function(e,t){var n=this.dr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Xx.Zi(new Hv(i),r,t)}},{key:"Nr",value:function(e,t){var n=this._r.exec(e),r=Number(n[1]);return Jx.Zi(r,t)}},{key:"yr",value:function(e){return tI.Zi(e)}},{key:"Or",value:function(e){return JSON.parse(e)}},{key:"Cr",value:function(){var e=Xn(Qn().mark((function e(t){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Fr(t.batchId,t.state,t.error));case 2:Xv("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"kr",value:function(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}},{key:"Vr",value:function(e,t){var n=this,r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),a=this.Ir(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Br(o,u).then((function(){n.ur=r}))}},{key:"pr",value:function(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Ir",value:function(e){var t=Ck();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"C",value:function(e){return!(!e||!e.localStorage)}}]),e}(),iI=function(){function e(){rn(this,e),this.Lr=new nI,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return on(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Lr.er(e),this.Ur[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Ur[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Lr.nr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Ur[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Lr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Lr=new nI,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),aI=function(){function e(){rn(this,e)}return on(e,[{key:"qr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),oI=function(){function e(){var t=this;rn(this,e),this.Kr=function(){return t.Gr()},this.Qr=function(){return t.jr()},this.Wr=[],this.zr()}return on(e,[{key:"qr",value:function(e){this.Wr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}},{key:"zr",value:function(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}},{key:"Gr",value:function(){Xv("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=sn(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"jr",value:function(){Xv("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=sn(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),uI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},sI=function(){function e(t){rn(this,e),this.Hr=t.Hr,this.Jr=t.Jr}return on(e,[{key:"Yr",value:function(e){this.Xr=e}},{key:"Zr",value:function(e){this.eo=e}},{key:"onMessage",value:function(e){this.no=e}},{key:"close",value:function(){this.Jr()}},{key:"send",value:function(e){this.Hr(e)}},{key:"so",value:function(){this.Xr()}},{key:"io",value:function(e){this.eo(e)}},{key:"ro",value:function(e){this.no(e)}}]),e}(),cI=function(e){fn(n,e);var t=mn(n);function n(e){var r;return rn(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return on(n,[{key:"fo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Wv;o.setWithCredentials(!0),o.listenOnce(zv.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case Uv.NO_ERROR:var t=o.getResponseJson();Xv("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Uv.TIMEOUT:Xv("Connection",'RPC "'+e+'" timed out'),a(new om(am.DEADLINE_EXCEEDED,"Request time out"));break;case Uv.HTTP_ERROR:var n=o.getStatus();if(Xv("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(am).indexOf(t)>=0?t:am.UNKNOWN}(r.status);a(new om(u,r.message))}else a(new om(am.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new om(am.UNAVAILABLE,"Connection failed."));break;default:nm()}}finally{Xv("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"wo",value:function(e,t,n){var r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Vv(),a=jv(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new qv({})),this.lo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;var u=r.join("");Xv("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new sI({Hr:function(e){l?Xv("Connection","Not sending because WebChannel is closed:",e):(c||(Xv("Connection","Opening WebChannel transport."),s.open(),c=!0),Xv("Connection","WebChannel sending:",e),s.send(e))},Jr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,Kv.EventType.OPEN,(function(){l||Xv("Connection","WebChannel transport opened.")})),h(s,Kv.EventType.CLOSE,(function(){l||(l=!0,Xv("Connection","WebChannel transport closed"),f.io())})),h(s,Kv.EventType.ERROR,(function(e){l||(l=!0,em("Connection","WebChannel transport errored:",e),f.io(new om(am.UNAVAILABLE,"The operation could not be completed")))})),h(s,Kv.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];rm(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Xv("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=sk[e];if(void 0!==t)return pk(t)}(a),u=i.message;void 0===o&&(o=am.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.io(new om(o,u)),s.close()}else Xv("Connection","WebChannel received:",n),f.ro(n)}})),h(a,Zv.STAT_EVENT,(function(e){e.stat===Bv.PROXY?Xv("Connection","Detected buffering proxy"):e.stat===Bv.NOPROXY&&Xv("Connection","Detected no buffering proxy")})),setTimeout((function(){f.so()}),0),f}}]),n}(function(){function e(t){rn(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.oo=n+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return on(e,[{key:"co",get:function(){return!1}},{key:"ao",value:function(e,t,n,r,i){var a=this.ho(e,t);Xv("RestConnection","Sending: ",a,n);var o={};return this.lo(o,r,i),this.fo(e,a,o,n).then((function(e){return Xv("RestConnection","Received: ",e),e}),(function(t){throw em("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"_o",value:function(e,t,n,r,i,a){return this.ao(e,t,n,r,i)}},{key:"lo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Qv,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ho",value:function(e,t){var n=uI[e];return"".concat(this.oo,"/v1/").concat(t,":").concat(n)}}]),e}());function lI(){return"undefined"!=typeof window?window:null}function fI(){return"undefined"!=typeof document?document:null}function hI(e){return new Uk(e,!0)}var dI=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;rn(this,e),this.Hs=t,this.timerId=n,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}return on(e,[{key:"reset",value:function(){this.Io=0}},{key:"Ao",value:function(){this.Io=this.po}},{key:"Ro",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&Xv("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Io," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,(function(){return t.Eo=Date.now(),e()})),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}},{key:"Po",value:function(){null!==this.To&&(this.To.skipDelay(),this.To=null)}},{key:"cancel",value:function(){null!==this.To&&(this.To.cancel(),this.To=null)}},{key:"bo",value:function(){return(Math.random()-.5)*this.Io}}]),e}(),pI=function(){function e(t,n,r,i,a,o,u,s){rn(this,e),this.Hs=t,this.vo=r,this.Vo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new dI(t,n)}return on(e,[{key:"No",value:function(){return 1===this.state||5===this.state||this.ko()}},{key:"ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Oo()}},{key:"stop",value:function(){var e=Xn(Qn().mark((function e(){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.No(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Mo",value:function(){this.state=0,this.xo.reset()}},{key:"Fo",value:function(){var e=this;this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,(function(){return e.$o()})))}},{key:"Bo",value:function(e){this.Lo(),this.stream.send(e)}},{key:"$o",value:function(){var e=Xn(Qn().mark((function e(){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Lo",value:function(){this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"Uo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"close",value:function(){var e=Xn(Qn().mark((function e(t,n){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Lo(),this.Uo(),this.xo.cancel(),this.So++,4!==t?this.xo.reset():n&&n.code===am.RESOURCE_EXHAUSTED?(Jv(n.toString()),Jv("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):n&&n.code===am.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.qo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Zr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"qo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=(0,Tt.Z)(t,2),i=r[0],a=r[1];e.So===n&&e.Go(i,a)}),(function(n){t((function(){var t=new om(am.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Qo(t)}))}))}},{key:"Go",value:function(e,t){var n=this,r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr((function(){r((function(){return n.state=2,n.Co=n.Hs.enqueueAfterDelay(n.Vo,1e4,(function(){return n.ko()&&(n.state=3),Promise.resolve()})),n.listener.Yr()}))})),this.stream.Zr((function(e){r((function(){return n.Qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Oo",value:function(){var e=this;this.state=5,this.xo.Ro(Xn(Qn().mark((function t(){return Qn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Qo",value:function(e){return Xv("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Ko",value:function(e){var t=this;return function(n){t.Hs.enqueueAndForget((function(){return t.So===e?n():(Xv("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),vI=function(e){fn(n,e);var t=mn(n);function n(e,r,i,a,o,u){var s;return rn(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).It=o,s}return on(n,[{key:"jo",value:function(e,t){return this.connection.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.xo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:nm()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.gt?(rm(void 0===t||"string"==typeof t),ly.fromBase64String(t||"")):(rm(void 0===t||t instanceof Uint8Array),ly.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?am.UNKNOWN:pk(e.code);return new om(t,e.message||"")}(o);n=new Dk(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=Hk(e,s.document.name),l=qk(s.document.updateTime),f=new qy({mapValue:{fields:s.document.fields}}),h=Wy.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new Ok(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=Hk(e,v.document),y=v.readTime?qk(v.readTime):xm.min(),g=Wy.newNoDocument(m,y),k=v.removedTargetIds||[];n=new Ok([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=Hk(e,b.document),x=b.removedTargetIds||[];n=new Ok([],x,w,null)}else{if(!("filter"in t))return nm();t.filter;var I=t.filter;I.targetId;var _=I.count||0,S=new hk(_),E=I.targetId;n=new Pk(E,S)}return n}(this.It,e),n=function(e){if(!("targetChange"in e))return xm.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?xm.min():t.readTime?qk(t.readTime):xm.min()}(e);return this.listener.Wo(t,n)}},{key:"zo",value:function(e){var t={};t.database=Yk(this.It),t.addTarget=function(e,t){var n,r=t.target;return(n=Yy(r)?{documents:ib(e,r)}:{query:ab(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Zk(e,t.resumeToken):t.snapshotVersion.compareTo(xm.min())>0&&(n.readTime=zk(e,t.snapshotVersion.toTimestamp())),n}(this.It,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return nm()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.It,e);n&&(t.labels=n),this.Bo(t)}},{key:"Ho",value:function(e){var t={};t.database=Yk(this.It),t.removeTarget=e,this.Bo(t)}}]),n}(pI),mI=function(e){fn(n,e);var t=mn(n);function n(e,r,i,a,o,u){var s;return rn(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).It=o,s.Jo=!1,s}return on(n,[{key:"Yo",get:function(){return this.Jo}},{key:"start",value:function(){this.Jo=!1,this.lastStreamToken=void 0,Ti(hn(n.prototype),"start",this).call(this)}},{key:"qo",value:function(){this.Jo&&this.Xo([])}},{key:"jo",value:function(e,t){return this.connection.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(rm(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();var t=function(e,t){return e&&e.length>0?(rm(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?qk(e.updateTime):qk(t);return n.isEqual(xm.min())&&(n=qk(t)),new Hg(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=qk(e.commitTime);return this.listener.Zo(n,t)}return rm(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}},{key:"eu",value:function(){var e={};e.database=Yk(this.It),this.Bo(e)}},{key:"Xo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return nb(t.It,e)}))};this.Bo(n)}}]),n}(pI),yI=function(e){fn(n,e);var t=mn(n);function n(e,r,i,a){var o;return rn(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.It=a,o.nu=!1,o}return on(n,[{key:"su",value:function(){if(this.nu)throw new om(am.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ao",value:function(e,t,n){var r=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=(0,Tt.Z)(i,2),o=a[0],u=a[1];return r.connection.ao(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===am.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new om(am.UNKNOWN,e.toString())}))}},{key:"_o",value:function(e,t,n,r){var i=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=(0,Tt.Z)(a,2),u=o[0],s=o[1];return i.connection._o(e,t,n,u,s,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===am.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new om(am.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.nu=!0}}]),n}(function(){return on((function e(){rn(this,e)}))}());var gI=function(){function e(t,n){rn(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}return on(e,[{key:"uu",value:function(){var e=this;0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ru=null,e.au("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()})))}},{key:"hu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"au",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ou?(Jv(t),this.ou=!1):Xv("OnlineStateTracker",t)}},{key:"lu",value:function(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}]),e}(),kI=on((function e(t,n,r,i,a){var o=this;rn(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.qr((function(e){r.enqueueAndForget(Xn(Qn().mark((function e(){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=NI(o),!e.t0){e.next=5;break}return Xv("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Xn(Qn().mark((function e(t){var n;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=im(t))._u.add(4),e.next=4,xI(n);case 4:return n.gu.set("Unknown"),n._u.delete(4),e.next=8,bI(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.gu=new gI(r,i)}));function bI(e){return wI.apply(this,arguments)}function wI(){return wI=Xn(Qn().mark((function e(t){var n,r,i;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!NI(t)){e.next=18;break}n=sn(t.wu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),wI.apply(this,arguments)}function xI(e){return II.apply(this,arguments)}function II(){return II=Xn(Qn().mark((function e(t){var n,r,i;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=sn(t.wu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),II.apply(this,arguments)}function _I(e,t){var n=im(e);n.du.has(t.targetId)||(n.du.set(t.targetId,t),AI(n)?CI(n):a_(n).ko()&&EI(n,t))}function SI(e,t){var n=im(e),r=a_(n);n.du.delete(t),r.ko()&&TI(n,t),0===n.du.size&&(r.ko()?r.Fo():NI(n)&&n.gu.set("Unknown"))}function EI(e,t){e.yu.Mt(t.targetId),a_(e).zo(t)}function TI(e,t){e.yu.Mt(t),a_(e).Ho(t)}function CI(e){e.yu=new Lk({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},se:function(t){return e.du.get(t)||null}}),a_(e).start(),e.gu.uu()}function AI(e){return NI(e)&&!a_(e).No()&&e.du.size>0}function NI(e){return 0===im(e)._u.size}function OI(e){e.yu=void 0}function PI(e){return DI.apply(this,arguments)}function DI(){return DI=Xn(Qn().mark((function e(t){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.du.forEach((function(e,n){EI(t,e)}));case 1:case"end":return e.stop()}}),e)}))),DI.apply(this,arguments)}function RI(e,t){return LI.apply(this,arguments)}function LI(){return LI=Xn(Qn().mark((function e(t,n){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:OI(t),AI(t)?(t.gu.hu(n),CI(t)):t.gu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),LI.apply(this,arguments)}function MI(e,t,n){return FI.apply(this,arguments)}function FI(){return FI=Xn(Qn().mark((function e(t,n,r){var i;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.gu.set("Online"),!(n instanceof Dk&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Xn(Qn().mark((function e(t,n){var r,i,a,o;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=sn(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.du.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.du.delete(o),t.yu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Xv("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,VI(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Ok?t.yu.Gt(n):n instanceof Pk?t.yu.Yt(n):t.yu.Wt(n),r.isEqual(xm.min())){e.next=29;break}return e.prev=14,e.next=17,Rx(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.yu.te(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.du.get(r);i&&e.du.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.du.get(t);if(n){e.du.set(t,n.withResumeToken(ly.EMPTY_BYTE_STRING,n.snapshotVersion)),TI(e,t);var r=new Hb(n.target,t,1,n.sequenceNumber);EI(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Xv("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,VI(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),FI.apply(this,arguments)}function VI(e,t,n){return jI.apply(this,arguments)}function jI(){return jI=Xn(Qn().mark((function e(t,n,r){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Wm(n)){e.next=2;break}throw n;case 2:return t._u.add(1),e.next=5,xI(t);case 5:t.gu.set("Offline"),r||(r=function(){return Rx(t.localStore)}),t.asyncQueue.enqueueRetryable(Xn(Qn().mark((function e(){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Xv("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t._u.delete(1),e.next=6,bI(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),jI.apply(this,arguments)}function UI(e,t){return t().catch((function(n){return VI(e,n,t)}))}function zI(e){return ZI.apply(this,arguments)}function ZI(){return ZI=Xn(Qn().mark((function e(t){var n,r,i,a;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=im(t),r=o_(n),i=n.fu.length>0?n.fu[n.fu.length-1].batchId:-1;case 2:if(!BI(n)){e.next=19;break}return e.prev=3,e.next=6,Fx(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.fu.length&&r.Fo(),e.abrupt("break",19);case 10:i=a.batchId,qI(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,VI(n,e.t0);case 17:e.next=2;break;case 19:KI(n)&&WI(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),ZI.apply(this,arguments)}function BI(e){return NI(e)&&e.fu.length<10}function qI(e,t){e.fu.push(t);var n=o_(e);n.ko()&&n.Yo&&n.Xo(t.mutations)}function KI(e){return NI(e)&&!o_(e).No()&&e.fu.length>0}function WI(e){o_(e).start()}function GI(e){return HI.apply(this,arguments)}function HI(){return HI=Xn(Qn().mark((function e(t){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o_(t).eu();case 1:case"end":return e.stop()}}),e)}))),HI.apply(this,arguments)}function QI(e){return $I.apply(this,arguments)}function $I(){return $I=Xn(Qn().mark((function e(t){var n,r,i,a;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=o_(t),r=sn(t.fu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Xo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),$I.apply(this,arguments)}function YI(e,t,n){return XI.apply(this,arguments)}function XI(){return XI=Xn(Qn().mark((function e(t,n,r){var i,a;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.fu.shift(),a=Wb.from(i,n,r),e.next=3,UI(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,zI(t);case 5:case"end":return e.stop()}}),e)}))),XI.apply(this,arguments)}function JI(e,t){return e_.apply(this,arguments)}function e_(){return e_=Xn(Qn().mark((function e(t,n){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&o_(t).Yo,!e.t0){e.next=4;break}return e.next=4,function(){var e=Xn(Qn().mark((function e(t,n){var r,i;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!dk(i=n.code)||i===am.ABORTED){e.next=7;break}return r=t.fu.shift(),o_(t).Mo(),e.next=5,UI(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,zI(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:KI(t)&&WI(t);case 5:case"end":return e.stop()}}),e)}))),e_.apply(this,arguments)}function t_(e,t){return n_.apply(this,arguments)}function n_(){return n_=Xn(Qn().mark((function e(t,n){var r,i;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=im(t)).asyncQueue.verifyOperationInProgress(),Xv("RemoteStore","RemoteStore received new credentials"),i=NI(r),r._u.add(3),e.next=6,xI(r);case 6:return i&&r.gu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r._u.delete(3),e.next=12,bI(r);case 12:case"end":return e.stop()}}),e)}))),n_.apply(this,arguments)}function r_(e,t){return i_.apply(this,arguments)}function i_(){return i_=Xn(Qn().mark((function e(t,n){var r;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=im(t),!n){e.next=7;break}return r._u.delete(2),e.next=5,bI(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r._u.add(2),e.next=12,xI(r);case 12:r.gu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),i_.apply(this,arguments)}function a_(e){return e.pu||(e.pu=function(e,t,n){var r=im(e);return r.su(),new vI(t,r.connection,r.authCredentials,r.appCheckCredentials,r.It,n)}(e.datastore,e.asyncQueue,{Yr:PI.bind(null,e),Zr:RI.bind(null,e),Wo:MI.bind(null,e)}),e.wu.push(function(){var t=Xn(Qn().mark((function t(n){return Qn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.pu.Mo(),AI(e)?CI(e):e.gu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.pu.stop();case 6:OI(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.pu}function o_(e){return e.Iu||(e.Iu=function(e,t,n){var r=im(e);return r.su(),new mI(t,r.connection,r.authCredentials,r.appCheckCredentials,r.It,n)}(e.datastore,e.asyncQueue,{Yr:GI.bind(null,e),Zr:JI.bind(null,e),tu:QI.bind(null,e),Zo:YI.bind(null,e)}),e.wu.push(function(){var t=Xn(Qn().mark((function t(n){return Qn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Iu.Mo(),t.next=4,zI(e);case 4:t.next=9;break;case 6:return t.next=8,e.Iu.stop();case 8:e.fu.length>0&&(Xv("RemoteStore","Stopping write stream with ".concat(e.fu.length," pending writes")),e.fu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}var u_=function(){function e(t,n,r,i,a){rn(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new um,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return on(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new om(am.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function s_(e,t){if(Jv("AsyncQueue","".concat(t,": ").concat(e)),Wm(e))return new om(am.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var c_=function(){function e(t){rn(this,e),this.comparator=t?function(e,n){return t(e,n)||Tm.comparator(e.key,n.key)}:function(e,t){return Tm.comparator(e.key,t.key)},this.keyedMap=kk(),this.sortedSet=new ry(this.comparator)}return on(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),l_=function(){function e(){rn(this,e),this.Tu=new ry(Tm.comparator)}return on(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Tu.get(t);n?0!==e.type&&3===n.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==n.type?this.Tu=this.Tu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Tu=this.Tu.remove(t):1===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):nm():this.Tu=this.Tu.insert(t,e)}},{key:"Eu",value:function(){var e=[];return this.Tu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),f_=function(){function e(t,n,r,i,a,o,u,s,c){rn(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s,this.hasCachedResults=c}return on(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,c_.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),h_=on((function e(){rn(this,e),this.Au=void 0,this.listeners=[]})),d_=on((function e(){rn(this,e),this.queries=new vk((function(e){return Eg(e)}),Sg),this.onlineState="Unknown",this.Ru=new Set}));function p_(e,t){return v_.apply(this,arguments)}function v_(){return v_=Xn(Qn().mark((function e(t,n){var r,i,a,o,u;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=im(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new h_),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Au=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=s_(e.t0,"Initialization of query '".concat(Tg(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.bu(r.onlineState),o.Au&&n.Pu(o.Au)&&b_(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),v_.apply(this,arguments)}function m_(e,t){return y_.apply(this,arguments)}function y_(){return y_=Xn(Qn().mark((function e(t,n){var r,i,a,o,u;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=im(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),y_.apply(this,arguments)}function g_(e,t){var n,r=im(e),i=!1,a=sn(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=sn(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Pu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Au=o}}}catch(f){a.e(f)}finally{a.f()}i&&b_(r)}function k_(e,t,n){var r=im(e),i=r.queries.get(t);if(i){var a,o=sn(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function b_(e){e.Ru.forEach((function(e){e.next()}))}var w_=function(){function e(t,n,r){rn(this,e),this.query=t,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}return on(e,[{key:"Pu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=sn(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new f_(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),a=!0):this.Cu(e,this.onlineState)&&(this.xu(e),a=!0),this.Su=e,a}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"bu",value:function(e){this.onlineState=e;var t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}},{key:"Cu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Nu||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Du",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"xu",value:function(e){e=f_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}]),e}(),x_=function(){function e(t,n){rn(this,e),this.ku=t,this.byteLength=n}return on(e,[{key:"Ou",value:function(){return"metadata"in this.ku}}]),e}(),I_=function(){function e(t){rn(this,e),this.It=t}return on(e,[{key:"Ji",value:function(e){return Hk(this.It,e)}},{key:"Yi",value:function(e){return e.metadata.exists?eb(this.It,e.document,!1):Wy.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}},{key:"Xi",value:function(e){return qk(e)}}]),e}(),__=function(){function e(t,n,r){rn(this,e),this.Mu=t,this.localStore=n,this.It=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=S_(t)}return on(e,[{key:"Fu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;var n=_m.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"$u",value:function(e){var t,n=new Map,r=new I_(this.It),i=sn(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Ji(a.metadata.name),s=sn(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||Ek()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Xn(Qn().mark((function e(){var t,n,r,i,a;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kx(this.localStore,new I_(this.It),this.documents,this.Mu.id);case 2:t=e.sent,n=this.$u(this.documents),r=sn(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,Gx(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Bu:this.collectionGroups,Lu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function S_(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var E_=on((function e(t){rn(this,e),this.key=t})),T_=on((function e(t){rn(this,e),this.key=t})),C_=function(){function e(t,n){rn(this,e),this.query=t,this.Uu=n,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Ek(),this.mutatedKeys=Ek(),this.Gu=Ng(t),this.Qu=new c_(this.Gu)}return on(e,[{key:"ju",get:function(){return this.Uu}},{key:"Wu",value:function(e,t){var n=this,r=t?t.zu:new l_,i=t?t.Qu:this.Qu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Cg(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Hu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Gu(f,s)>0||c&&n.Gu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Qu:o,zu:r,$i:u,mutatedKeys:a}}},{key:"Hu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;var a=e.zu.Eu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return nm()}};return n(e)-n(t)}(e.type,t.type)||r.Gu(e.doc,t.doc)})),this.Ju(n);var o=t?this.Yu():[],u=0===this.Ku.size&&this.current?1:0,s=u!==this.qu;return this.qu=u,0!==a.length||s?{snapshot:new f_(this.query,e.Qu,i,a,e.mutatedKeys,0===u,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}},{key:"bu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new l_,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}},{key:"Zu",value:function(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}},{key:"Ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Uu=t.Uu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Uu=t.Uu.delete(e)})),this.current=e.current)}},{key:"Yu",value:function(){var e=this;if(!this.current)return[];var t=this.Ku;this.Ku=Ek(),this.Qu.forEach((function(t){e.Zu(t.key)&&(e.Ku=e.Ku.add(t.key))}));var n=[];return t.forEach((function(t){e.Ku.has(t)||n.push(new T_(t))})),this.Ku.forEach((function(e){t.has(e)||n.push(new E_(e))})),n}},{key:"tc",value:function(e){this.Uu=e.Hi,this.Ku=Ek();var t=this.Wu(e.documents);return this.applyChanges(t,!0)}},{key:"ec",value:function(){return f_.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}]),e}(),A_=on((function e(t,n,r){rn(this,e),this.query=t,this.targetId=n,this.view=r})),N_=on((function e(t){rn(this,e),this.key=t,this.nc=!1})),O_=function(){function e(t,n,r,i,a,o){rn(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new vk((function(e){return Eg(e)}),Sg),this.rc=new Map,this.oc=new Set,this.uc=new ry(Tm.comparator),this.cc=new Map,this.ac=new fx,this.hc={},this.lc=new Map,this.fc=zw.vn(),this.onlineState="Unknown",this.dc=void 0}return on(e,[{key:"isPrimaryClient",get:function(){return!0===this.dc}}]),e}();function P_(e,t){return D_.apply(this,arguments)}function D_(){return D_=Xn(Qn().mark((function e(t,n){var r,i,a,o,u,s;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=SS(t),!(o=r.ic.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.ec(),e.next=15;break;case 6:return e.next=8,Vx(r.localStore,Ig(n));case 8:return u=e.sent,r.isPrimaryClient&&_I(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,R_(r,n,i,"current"===s,u.resumeToken);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),D_.apply(this,arguments)}function R_(e,t,n,r,i){return L_.apply(this,arguments)}function L_(){return L_=Xn(Qn().mark((function e(t,n,r,i,a){var o,u,s,c,l,f;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._c=function(e,n,r){return function(){var e=Xn(Qn().mark((function e(t,n,r,i){var a,o,u;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Wu(r),e.t0=a.$i,!e.t0){e.next=6;break}return e.next=5,zx(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Wu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(tS(t,n.targetId,u.Xu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,zx(t.localStore,n,!0);case 3:return o=e.sent,u=new C_(n,o.Hi),s=u.Wu(o.documents),c=Nk.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=u.applyChanges(s,t.isPrimaryClient,c),tS(t,r,l.Xu),f=new A_(n,r,u),e.abrupt("return",(t.ic.set(n,f),t.rc.has(r)?t.rc.get(r).push(n):t.rc.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),L_.apply(this,arguments)}function M_(e,t){return F_.apply(this,arguments)}function F_(){return F_=Xn(Qn().mark((function e(t,n){var r,i,a;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=im(t),i=r.ic.get(n),!((a=r.rc.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.rc.set(i.targetId,a.filter((function(e){return!Sg(e,n)}))),void r.ic.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,jx(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),SI(r.remoteStore,i.targetId),J_(r,i.targetId)})).catch(jm);case 9:e.next=14;break;case 11:return J_(r,i.targetId),e.next=14,jx(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),F_.apply(this,arguments)}function V_(e,t,n){return j_.apply(this,arguments)}function j_(){return j_=Xn(Qn().mark((function e(t,n,r){var i,a,o;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ES(t),e.prev=1,e.next=4,function(e,t){var n,r,i=im(e),a=wm.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Ek());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=yk(),s=Ek();return i.Gi.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=sn(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=tk(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new ik(c.key,l,Ky(l.value.mapValue),Qg.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:bk(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.hc[e.currentUser.toKey()];r||(r=new ry(gm)),r=r.insert(t,n),e.hc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,iS(i,a.changes);case 9:return e.next=11,zI(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=s_(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),j_.apply(this,arguments)}function U_(e,t){return z_.apply(this,arguments)}function z_(){return z_=Xn(Qn().mark((function e(t,n){var r,i;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=im(t),e.prev=1,e.next=4,Lx(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.cc.get(t);n&&(rm(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.nc=!0:e.modifiedDocuments.size>0?rm(n.nc):e.removedDocuments.size>0&&(rm(n.nc),n.nc=!1))})),e.next=8,iS(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,jm(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),z_.apply(this,arguments)}function Z_(e,t,n){var r=im(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ic.forEach((function(e,n){var r=n.view.bu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=im(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=sn(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.bu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&b_(n)}(r.eventManager,t),i.length&&r.sc.Wo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function B_(e,t,n){return q_.apply(this,arguments)}function q_(){return q_=Xn(Qn().mark((function e(t,n,r){var i,a,o,u,s,c;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=im(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.cc.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new ry(Tm.comparator)).insert(o,Wy.newNoDocument(o,xm.min())),s=Ek().add(o),c=new Ak(xm.min(),new Map,new oy(gm),u,s),e.next=9,U_(i,c);case 9:i.uc=i.uc.remove(o),i.cc.delete(n),rS(i),e.next=16;break;case 14:return e.next=16,jx(i.localStore,n,!1).then((function(){return J_(i,n,r)})).catch(jm);case 16:case"end":return e.stop()}}),e)}))),q_.apply(this,arguments)}function K_(e,t){return W_.apply(this,arguments)}function W_(){return W_=Xn(Qn().mark((function e(t,n){var r,i,a;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=im(t),i=n.batch.batchId,e.prev=1,e.next=4,Dx(r.localStore,n);case 4:return a=e.sent,X_(r,i,null),Y_(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,iS(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,jm(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),W_.apply(this,arguments)}function G_(e,t,n){return H_.apply(this,arguments)}function H_(){return H_=Xn(Qn().mark((function e(t,n,r){var i,a;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=im(t),e.prev=1,e.next=4,function(e,t){var n=im(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return rm(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,X_(i,n,r),Y_(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,iS(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,jm(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),H_.apply(this,arguments)}function Q_(e,t){return $_.apply(this,arguments)}function $_(){return $_=Xn(Qn().mark((function e(t,n){var r,i,a,o;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return NI((r=im(t)).remoteStore)||Xv("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=im(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.lc.get(i)||[]).push(n),r.lc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=s_(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),$_.apply(this,arguments)}function Y_(e,t){(e.lc.get(t)||[]).forEach((function(e){e.resolve()})),e.lc.delete(t)}function X_(e,t,n){var r=im(e),i=r.hc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.hc[r.currentUser.toKey()]=i}}function J_(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=sn(e.rc.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ic.delete(a),n&&e.sc.wc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.rc.delete(t),e.isPrimaryClient&&e.ac.ls(t).forEach((function(t){e.ac.containsKey(t)||eS(e,t)}))}function eS(e,t){e.oc.delete(t.path.canonicalString());var n=e.uc.get(t);null!==n&&(SI(e.remoteStore,n),e.uc=e.uc.remove(t),e.cc.delete(n),rS(e))}function tS(e,t,n){var r,i=sn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof E_?(e.ac.addReference(a.key,t),nS(e,a)):a instanceof T_?(Xv("SyncEngine","Document no longer in limbo: "+a.key),e.ac.removeReference(a.key,t),e.ac.containsKey(a.key)||eS(e,a.key)):nm()}}catch(o){i.e(o)}finally{i.f()}}function nS(e,t){var n=t.key,r=n.path.canonicalString();e.uc.get(n)||e.oc.has(r)||(Xv("SyncEngine","New document in limbo: "+n),e.oc.add(r),rS(e))}function rS(e){for(;e.oc.size>0&&e.uc.size<e.maxConcurrentLimboResolutions;){var t=e.oc.values().next().value;e.oc.delete(t);var n=new Tm(_m.fromString(t)),r=e.fc.next();e.cc.set(r,new N_(n)),e.uc=e.uc.insert(n,r),_I(e.remoteStore,new Hb(Ig(yg(n.path)),r,2,Jm.at))}}function iS(e,t,n){return aS.apply(this,arguments)}function aS(){return aS=Xn(Qn().mark((function e(t,n,r){var i,a,o,u;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=im(t),a=[],o=[],u=[],e.t0=i.ic.isEmpty(),e.t0){e.next=9;break}return i.ic.forEach((function(e,t){u.push(i._c(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=Tx.Ci(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.sc.Wo(a),e.next=9,function(){var e=Xn(Qn().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=im(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return zm.forEach(n,(function(t){return zm.forEach(t.Si,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return zm.forEach(t.Di,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Wm(e.t0)){e.next=10;break}throw e.t0;case 10:Xv("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=sn(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.Ui.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.Ui=r.Ui.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),aS.apply(this,arguments)}function oS(e,t){return uS.apply(this,arguments)}function uS(){return uS=Xn(Qn().mark((function e(t,n){var r,i;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=im(t)).currentUser.isEqual(n)){e.next=11;break}return Xv("SyncEngine","User change. New user:",n.toKey()),e.next=5,Ox(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.lc.forEach((function(e){e.forEach((function(e){e.reject(new om(am.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.lc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,iS(r,i.ji);case 11:case"end":return e.stop()}}),e)}))),uS.apply(this,arguments)}function sS(e,t){var n=im(e),r=n.cc.get(t);if(r&&r.nc)return Ek().add(r.key);var i=Ek(),a=n.rc.get(t);if(!a)return i;var o,u=sn(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.ic.get(s);i=i.unionWith(c.view.ju)}}catch(l){u.e(l)}finally{u.f()}return i}function cS(e,t){return lS.apply(this,arguments)}function lS(){return lS=Xn(Qn().mark((function e(t,n){var r,i,a;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=im(t),e.next=3,zx(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.tc(i),e.abrupt("return",(r.isPrimaryClient&&tS(r,n.targetId,a.Xu),a));case 6:case"end":return e.stop()}}),e)}))),lS.apply(this,arguments)}function fS(e,t){return hS.apply(this,arguments)}function hS(){return hS=Xn(Qn().mark((function e(t,n){var r;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=im(t),e.abrupt("return",Bx(r.localStore,n).then((function(e){return iS(r,e)})));case 2:case"end":return e.stop()}}),e)}))),hS.apply(this,arguments)}function dS(e,t,n,r){return pS.apply(this,arguments)}function pS(){return pS=Xn(Qn().mark((function e(t,n,r,i){var a,o;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=im(t),e.next=3,function(e,t){var n=im(e),r=im(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Tn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):zm.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,zI(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(X_(a,n,i||null),Y_(a,n),function(e,t){im(im(e).mutationQueue).An(t)}(a.localStore,n)):nm();case 11:return e.next=13,iS(a,o);case 13:e.next=16;break;case 15:Xv("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),pS.apply(this,arguments)}function vS(e,t){return mS.apply(this,arguments)}function mS(){return mS=Xn(Qn().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(SS(r=im(t)),ES(r),!0!==n||!0===r.dc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,yS(r,i.toArray());case 5:return a=e.sent,r.dc=!0,e.next=9,r_(r.remoteStore,!0);case 9:o=sn(a);try{for(o.s();!(u=o.n()).done;)s=u.value,_I(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.dc){e.next=25;break}return c=[],l=Promise.resolve(),r.rc.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return J_(r,t),jx(r.localStore,t,!0)})),SI(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,yS(r,c);case 21:return function(e){var t=im(e);t.cc.forEach((function(e,n){SI(t.remoteStore,n)})),t.ac.fs(),t.cc=new Map,t.uc=new ry(Tm.comparator)}(r),r.dc=!1,e.next=25,r_(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),mS.apply(this,arguments)}function yS(e,t,n){return gS.apply(this,arguments)}function gS(){return gS=Xn(Qn().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=im(t),a=[],o=[],u=sn(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.rc.get(c))||0===f.length){e.next=34;break}return e.next=11,Vx(i.localStore,Ig(f[0]));case 11:l=e.sent,h=sn(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.ic.get(p),e.next=20,cS(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,Zx(i.localStore,c);case 36:return y=e.sent,e.next=39,Vx(i.localStore,y);case 39:return l=e.sent,e.next=42,R_(i,kS(y),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.sc.Wo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),gS.apply(this,arguments)}function kS(e){return mg(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function bS(e){var t=im(e);return im(im(t.localStore).persistence).vi()}function wS(e,t,n,r){return xS.apply(this,arguments)}function xS(){return xS=Xn(Qn().mark((function e(t,n,r,i){var a,o,u,s;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=im(t)).dc){e.next=3;break}return e.abrupt("return",void Xv("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.rc.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,Bx(a.localStore,Ag(o[0]));case 10:return u=e.sent,s=Ak.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,ly.EMPTY_BYTE_STRING),e.next=14,iS(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,jx(a.localStore,n,!0);case 17:return J_(a,n,i),e.abrupt("break",20);case 19:nm();case 20:case"end":return e.stop()}}),e)}))),xS.apply(this,arguments)}function IS(e,t,n){return _S.apply(this,arguments)}function _S(){return _S=Xn(Qn().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=SS(t)).dc){e.next=45;break}a=sn(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.rc.has(u)){e.next=10;break}return Xv("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,Zx(i.localStore,u);case 12:return s=e.sent,e.next=15,Vx(i.localStore,s);case 15:return c=e.sent,e.next=18,R_(i,kS(s),c.targetId,!1,c.resumeToken);case 18:_I(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=sn(r),e.prev=30,h=Qn().mark((function e(){var t;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.rc.has(t),!e.t0){e.next=5;break}return e.next=5,jx(i.localStore,t,!1).then((function(){SI(i.remoteStore,t),J_(i,t)})).catch(jm);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),_S.apply(this,arguments)}function SS(e){var t=im(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=U_.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=sS.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=B_.bind(null,t),t.sc.Wo=g_.bind(null,t.eventManager),t.sc.wc=k_.bind(null,t.eventManager),t}function ES(e){var t=im(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=K_.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=G_.bind(null,t),t}function TS(e,t,n){var r=im(e);(function(){var e=Xn(Qn().mark((function e(t,n,r){var i,a,o,u,s;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=im(e),r=qk(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ns.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(S_(i)),a=new __(i,t.localStore,n.It),e.next=15,n.mc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Fu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.mc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,iS(t,s.Lu,void 0);case 31:return e.next=33,function(e,t){var n=im(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ns.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Bu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(em("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var CS=function(){function e(){rn(this,e),this.synchronizeTabs=!1}return on(e,[{key:"initialize",value:function(){var e=Xn(Qn().mark((function e(t){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.It=hI(t.databaseInfo.databaseId),this.sharedClientState=this.gc(t),this.persistence=this.yc(t),e.next=5,this.persistence.start();case 5:this.localStore=this.Ic(t),this.gcScheduler=this.Tc(t,this.localStore),this.indexBackfillerScheduler=this.Ec(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Tc",value:function(e,t){return null}},{key:"Ec",value:function(e,t){return null}},{key:"Ic",value:function(e){return Nx(this.persistence,new Cx,e.initialUser,this.It)}},{key:"yc",value:function(e){return new yx(kx.Bs,this.It)}},{key:"gc",value:function(e){return new iI}},{key:"terminate",value:function(){var e=Xn(Qn().mark((function e(){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),AS=function(e){fn(n,e);var t=mn(n);function n(e,r,i){var a;return rn(this,n),(a=t.call(this)).Ac=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return on(n,[{key:"initialize",value:function(){var e=Xn(Qn().mark((function e(t){var r=this;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ti(hn(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Ac.initialize(this,t);case 4:return e.next=6,ES(this.Ac.syncEngine);case 6:return e.next=8,zI(this.Ac.remoteStore);case 8:return e.next=10,this.persistence.li((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ic",value:function(e){return Nx(this.persistence,new Cx,e.initialUser,this.It)}},{key:"Tc",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new Hw(n,e.asyncQueue,t)}},{key:"Ec",value:function(e,t){var n=new Xm(t,this.persistence);return new Ym(e.asyncQueue,n)}},{key:"yc",value:function(e){var t=Ex(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Dw.withCacheSize(this.cacheSizeBytes):Dw.DEFAULT;return new Ix(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,lI(),fI(),this.It,this.sharedClientState,!!this.forceOwnership)}},{key:"gc",value:function(e){return new iI}}]),n}(CS),NS=function(e){fn(n,e);var t=mn(n);function n(e,r){var i;return rn(this,n),(i=t.call(this,e,r,!1)).Ac=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return on(n,[{key:"initialize",value:function(){var e=Xn(Qn().mark((function e(t){var r,i=this;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ti(hn(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Ac.syncEngine,e.t0=this.sharedClientState instanceof rI,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Fr:dS.bind(null,r),$r:wS.bind(null,r),Br:IS.bind(null,r),vi:bS.bind(null,r),Mr:fS.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.li(function(){var e=Xn(Qn().mark((function e(t){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vS(i.Ac.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"gc",value:function(e){var t=lI();if(!rI.C(t))throw new om(am.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Ex(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new rI(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(AS),OS=function(){function e(){rn(this,e)}return on(e,[{key:"initialize",value:function(){var e=Xn(Qn().mark((function e(t,n){var r=this;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Z_(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=oS.bind(null,this.syncEngine),e.next=12,r_(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new d_}},{key:"createDatastore",value:function(e){var t,n=hI(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new cI(t));return function(e,t,n,r){return new yI(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Z_(o.syncEngine,e,0)},a=oI.C()?new oI:new aI,new kI(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new O_(e,t,n,r,i,a);return o&&(u.dc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Xn(Qn().mark((function e(t){var n;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=im(t),Xv("RemoteStore","RemoteStore shutting down."),n._u.add(5),e.next=5,xI(n);case 5:n.mu.shutdown(),n.gu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function PS(e,t,n){if(!n)throw new om(am.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function DS(e,t,n,r){if(!0===t&&!0===r)throw new om(am.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function RS(e){if(!Tm.isDocumentKey(e))throw new om(am.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function LS(e){if(Tm.isDocumentKey(e))throw new om(am.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function MS(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":nm()}function FS(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new om(am.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=MS(e);throw new om(am.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function VS(e,t){if(t<=0)throw new om(am.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var jS=new Map,US=function(){function e(t){var n;if(rn(this,e),void 0===t.host){if(void 0!==t.ssl)throw new om(am.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new om(am.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,DS("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return on(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),zS=function(){function e(t,n,r,i){rn(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new US({}),this._settingsFrozen=!1}return on(e,[{key:"app",get:function(){if(!this._app)throw new om(am.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new om(am.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new US(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new cm;switch(e.type){case"gapi":var t=e.client;return new dm(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new om(am.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=jS.get(e);t&&(Xv("ComponentProvider","Removing Datastore"),jS.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function ZS(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=FS(e,zS))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&em("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=Hv.MOCK_USER;else{o=Rn(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new om(am.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Hv(s)}e._authCredentials=new lm(new sm(o,u))}}var BS=function(){function e(t,n,r){rn(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return on(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new KS(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),qS=function(){function e(t,n,r){rn(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return on(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),KS=function(e){fn(n,e);var t=mn(n);function n(e,r,i){var a;return rn(this,n),(a=t.call(this,e,r,yg(i)))._path=i,a.type="collection",a}return on(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new BS(this.firestore,null,new Tm(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(qS);function WS(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Hn(e),PS("collection","path",t),e instanceof zS){var a=_m.fromString.apply(_m,[t].concat(r));return LS(a),new KS(e,null,a)}if(!(e instanceof BS||e instanceof KS))throw new om(am.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(_m.fromString.apply(_m,[t].concat(r)));return LS(o),new KS(e.firestore,null,o)}function GS(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Hn(e),1===arguments.length&&(t=ym.R()),PS("doc","path",t),e instanceof zS){var a=_m.fromString.apply(_m,[t].concat(r));return RS(a),new BS(e,null,new Tm(a))}if(!(e instanceof BS||e instanceof KS))throw new om(am.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(_m.fromString.apply(_m,[t].concat(r)));return RS(o),new BS(e.firestore,e instanceof KS?e.converter:null,new Tm(o))}function HS(e,t){return e=Hn(e),t=Hn(t),(e instanceof BS||e instanceof KS)&&(t instanceof BS||t instanceof KS)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function QS(e,t){return e=Hn(e),t=Hn(t),e instanceof qS&&t instanceof qS&&e.firestore===t.firestore&&Sg(e._query,t._query)&&e.converter===t.converter}function $S(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Xn(Qn().mark((function r(){var i;return Qn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Xn(Qn().mark((function e(){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var YS=function(){function e(t){rn(this,e),this.observer=t,this.muted=!1}return on(e,[{key:"next",value:function(e){this.observer.next&&this.Rc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Rc(this.observer.error,e):Jv("Uncaught Error in snapshot listener:",e)}},{key:"bc",value:function(){this.muted=!0}},{key:"Rc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),XS=function(){function e(t,n){var r=this;rn(this,e),this.Pc=t,this.It=n,this.metadata=new um,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then((function(e){e&&e.Ou()?r.metadata.resolve(e.ku.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.ku))))}),(function(e){return r.metadata.reject(e)}))}return on(e,[{key:"close",value:function(){return this.Pc.cancel()}},{key:"getMetadata",value:function(){var e=Xn(Qn().mark((function e(){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"mc",value:function(){var e=Xn(Qn().mark((function e(){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Vc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Vc",value:function(){var e=Xn(Qn().mark((function e(){var t,n,r,i;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Sc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.vc.decode(t),r=Number(n),isNaN(r)&&this.Dc("length string (".concat(n,") is not valid number")),e.next=9,this.Cc(r);case 9:return i=e.sent,e.abrupt("return",new x_(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"xc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Sc",value:function(){var e=Xn(Qn().mark((function e(){var t,n;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.xc()<0)){e.next=7;break}return e.next=3,this.Nc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.xc())<0&&this.Dc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Cc",value:function(){var e=Xn(Qn().mark((function e(t){var n;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Nc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Dc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.vc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dc",value:function(e){throw this.Pc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Nc",value:function(){var e=Xn(Qn().mark((function e(){var t,n;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Pc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),JS=function(){function e(t){rn(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return on(e,[{key:"lookup",value:function(){var e=Xn(Qn().mark((function e(t){var n,r=this;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new om(am.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Xn(Qn().mark((function e(t,n){var r,i,a,o,u,s;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=im(t),i=Yk(r.It)+"/documents",a={documents:n.map((function(e){return Gk(r.It,e)}))},e.next=5,r._o("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=tb(r.It,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());rm(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new lk(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Xn(Qn().mark((function e(){var t,n=this;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Tm.fromPath(t);n.mutations.push(new fk(r,n.precondition(r)))})),e.next=7,function(){var e=Xn(Qn().mark((function e(t,n){var r,i,a;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=im(t),i=Yk(r.It)+"/documents",a={writes:n.map((function(e){return nb(r.It,e)}))},e.next=3,r.ao("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw nm();t=xm.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new om(am.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(xm.min())?Qg.exists(!1):Qg.updateTime(t):Qg.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(xm.min()))throw new om(am.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Qg.updateTime(t)}return Qg.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),eE=function(){function e(t,n,r,i,a){rn(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.kc=r.maxAttempts,this.xo=new dI(this.asyncQueue,"transaction_retry")}return on(e,[{key:"run",value:function(){this.kc-=1,this.Oc()}},{key:"Oc",value:function(){var e=this;this.xo.Ro(Xn(Qn().mark((function t(){var n,r;return Qn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new JS(e.datastore),(r=e.Mc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Fc(t)}))}))})).catch((function(t){e.Fc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Mc",value:function(e){try{var t=this.updateFunction(e);return!by(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Fc",value:function(e){var t=this;this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Oc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"$c",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!dk(t)}return!1}}]),e}(),tE=function(){function e(t,n,r,i){var a=this;rn(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Hv.UNAUTHENTICATED,this.clientId=ym.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Xn(Qn().mark((function e(t){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Xv("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Xv("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return on(e,[{key:"getConfiguration",value:function(){var e=Xn(Qn().mark((function e(){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new om(am.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new um;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Xn(Qn().mark((function n(){var r;return Qn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=s_(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function nE(e,t){return rE.apply(this,arguments)}function rE(){return rE=Xn(Qn().mark((function e(t,n){var r,i;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Xv("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Xn(Qn().mark((function e(t){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Ox(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),rE.apply(this,arguments)}function iE(e,t){return aE.apply(this,arguments)}function aE(){return aE=Xn(Qn().mark((function e(t,n){var r,i;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,oE(t);case 3:return r=e.sent,Xv("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return t_(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return t_(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),aE.apply(this,arguments)}function oE(e){return uE.apply(this,arguments)}function uE(){return uE=Xn(Qn().mark((function e(t){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Xv("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,nE(t,new CS);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),uE.apply(this,arguments)}function sE(e){return cE.apply(this,arguments)}function cE(){return cE=Xn(Qn().mark((function e(t){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Xv("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,iE(t,new OS);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),cE.apply(this,arguments)}function lE(e){return oE(e).then((function(e){return e.persistence}))}function fE(e){return oE(e).then((function(e){return e.localStore}))}function hE(e){return sE(e).then((function(e){return e.remoteStore}))}function dE(e){return sE(e).then((function(e){return e.syncEngine}))}function pE(e){return sE(e).then((function(e){return e.datastore}))}function vE(e){return mE.apply(this,arguments)}function mE(){return mE=Xn(Qn().mark((function e(t){var n,r;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sE(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=P_.bind(null,n.syncEngine),r.onUnlisten=M_.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),mE.apply(this,arguments)}function yE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new um;return e.asyncQueue.enqueueAndForget(Xn(Qn().mark((function i(){return Qn().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new YS({next:function(a){t.enqueueAndForget((function(){return m_(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new om(am.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new om(am.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new w_(yg(n.path),a,{includeMetadataChanges:!0,Nu:!0});return p_(e,o)},i.next=3,vE(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function gE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new um;return e.asyncQueue.enqueueAndForget(Xn(Qn().mark((function i(){return Qn().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new YS({next:function(n){t.enqueueAndForget((function(){return m_(e,o)})),n.fromCache&&"server"===r.source?i.reject(new om(am.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new w_(n,a,{includeMetadataChanges:!0,Nu:!0});return p_(e,o)},i.next=3,vE(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var kE=function(){function e(){var t=this;rn(this,e),this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new dI(this,"async_queue_retry"),this.Wc=function(){var e=fI();e&&Xv("AsyncQueue","Visibility state changed to "+e.visibilityState),t.xo.Po()};var n=fI();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Wc)}return on(e,[{key:"isShuttingDown",get:function(){return this.Uc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.zc(),this.Hc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;var t=fI();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}},{key:"enqueue",value:function(e){var t=this;if(this.zc(),this.Uc)return new Promise((function(){}));var n=new um;return this.Hc((function(){return t.Uc&&t.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Lc.push(e),t.Jc()}))}},{key:"Jc",value:function(){var e=Xn(Qn().mark((function e(){var t=this;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Lc.length){e.next=14;break}return e.prev=1,e.next=4,this.Lc[0]();case 4:this.Lc.shift(),this.xo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Wm(e.t0)){e.next=12;break}throw e.t0;case 12:Xv("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Lc.length>0&&this.xo.Ro((function(){return t.Jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t=this,n=this.Bc.then((function(){return t.Gc=!0,e().catch((function(e){t.Kc=e,t.Gc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Jv("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Gc=!1,e}))}));return this.Bc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.zc(),this.jc.indexOf(e)>-1&&(t=0);var i=u_.createAndSchedule(this,e,t,n,(function(e){return r.Yc(e)}));return this.qc.push(i),i}},{key:"zc",value:function(){this.Kc&&nm()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Xc",value:function(){var e=Xn(Qn().mark((function e(){var t;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Bc,e.next=3,t;case 3:if(t!==this.Bc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Zc",value:function(e){var t,n=sn(this.qc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ta",value:function(e){var t=this;return this.Xc().then((function(){t.qc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=sn(t.qc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Xc()}))}},{key:"ea",value:function(e){this.jc.push(e)}},{key:"Yc",value:function(e){var t=this.qc.indexOf(e);this.qc.splice(t,1)}}]),e}();function bE(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=sn(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var wE=function(){function e(){rn(this,e),this._progressObserver={},this._taskCompletionResolver=new um,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return on(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),xE=function(e){fn(n,e);var t=mn(n);function n(e,r,i,a){var o;return rn(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new kE,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return on(n,[{key:"_terminate",value:function(){return this._firestoreClient||_E(this),this._firestoreClient.terminate()}}]),n}(zS);function IE(e){return e._firestoreClient||_E(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function _E(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new gy(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new tE(e._authCredentials,e._appCheckCredentials,e._queue,r)}function SE(e,t,n){var r=new um;return e.asyncQueue.enqueue(Xn(Qn().mark((function i(){var a;return Qn().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,nE(e,n);case 3:return i.next=5,iE(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===am.FAILED_PRECONDITION||e.code===am.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(a=i.t0)){i.next=13;break}throw a;case 13:em("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function EE(e){return function(e){return e.asyncQueue.enqueue(Xn(Qn().mark((function t(){var n,r;return Qn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,lE(e);case 2:return n=t.sent,t.next=5,hE(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=im(e);return t._u.delete(0),bI(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(IE(e=FS(e,xE)))}function TE(e){return function(e){return e.asyncQueue.enqueue(Xn(Qn().mark((function t(){var n,r;return Qn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,lE(e);case 2:return n=t.sent,t.next=5,hE(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Xn(Qn().mark((function e(t){var n;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=im(t))._u.add(0),e.next=4,xI(n);case 4:n.gu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(IE(e=FS(e,xE)))}function CE(e,t){var n=IE(e=FS(e,xE)),r=new wE;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new XS(e,t)}(function(e,t){if(e instanceof Uint8Array)return $S(e,t);if(e instanceof ArrayBuffer)return $S(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,hI(t));e.asyncQueue.enqueueAndForget(Xn(Qn().mark((function t(){return Qn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=TS,t.next=3,dE(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function AE(e,t){return function(e,t){return e.asyncQueue.enqueue(Xn(Qn().mark((function n(){return Qn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=im(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ns.getNamedQuery(e,t)}))},n.next=3,fE(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(IE(e=FS(e,xE)),t).then((function(t){return t?new qS(e,null,t.query):null}))}function NE(e){if(e._initialized||e._terminated)throw new om(am.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var OE=function(){function e(t){rn(this,e),this._byteString=t}return on(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(ly.fromBase64String(t))}catch(t){throw new om(am.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(ly.fromUint8Array(t))}}]),e}(),PE=function(){function e(){rn(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new om(am.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Em(n)}return on(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var DE=on((function e(t){rn(this,e),this._methodName=t})),RE=function(){function e(t,n){if(rn(this,e),!isFinite(t)||t<-90||t>90)throw new om(am.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new om(am.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return on(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return gm(this._lat,e._lat)||gm(this._long,e._long)}}]),e}(),LE=/^__.*__$/,ME=function(){function e(t,n,r){rn(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return on(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new ik(e,this.data,this.fieldMask,t,this.fieldTransforms):new rk(e,this.data,t,this.fieldTransforms)}}]),e}(),FE=function(){function e(t,n,r){rn(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return on(e,[{key:"toMutation",value:function(e,t){return new ik(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function VE(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw nm()}}var jE=function(){function e(t,n,r,i,a,o){rn(this,e),this.settings=t,this.databaseId=n,this.It=r,this.ignoreUndefinedProperties=i,void 0===a&&this.na(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return on(e,[{key:"path",get:function(){return this.settings.path}},{key:"sa",get:function(){return this.settings.sa}},{key:"ia",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ra",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.ua(e),r}},{key:"ca",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.na(),r}},{key:"aa",value:function(e){return this.ia({path:void 0,oa:!0})}},{key:"ha",value:function(e){return aT(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"na",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ua(this.path.get(e))}},{key:"ua",value:function(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(VE(this.sa)&&LE.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}]),e}(),UE=function(){function e(t,n,r){rn(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.It=r||hI(t)}return on(e,[{key:"da",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new jE({sa:e,methodName:t,fa:n,path:Em.emptyPath(),oa:!1,la:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}]),e}();function zE(e){var t=e._freezeSettings(),n=hI(e._databaseId);return new UE(e._databaseId,!!t.ignoreUndefinedProperties,n)}function ZE(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.da(a.merge||a.mergeFields?2:0,t,n,i);tT("Data must be an object, but it was:",o,r);var u,s,c=JE(r,o);if(a.merge)u=new cy(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=sn(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=nT(t,d,n);if(!o.contains(p))throw new om(am.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));oT(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new cy(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new ME(new qy(c),u,s)}var BE=function(e){fn(n,e);var t=mn(n);function n(){return rn(this,n),t.apply(this,arguments)}return on(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.sa)throw 1===e.sa?e.ha("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ha("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(DE);function qE(e,t,n){return new jE({sa:3,fa:t.settings.fa,methodName:e._methodName,oa:n},t.databaseId,t.It,t.ignoreUndefinedProperties)}var KE=function(e){fn(n,e);var t=mn(n);function n(){return rn(this,n),t.apply(this,arguments)}return on(n,[{key:"_toFieldTransform",value:function(e){return new Gg(e.path,new jg)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(DE),WE=function(e){fn(n,e);var t=mn(n);function n(e,r){var i;return rn(this,n),(i=t.call(this,e))._a=r,i}return on(n,[{key:"_toFieldTransform",value:function(e){var t=qE(this,e,!0),n=this._a.map((function(e){return XE(e,t)})),r=new Ug(n);return new Gg(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(DE),GE=function(e){fn(n,e);var t=mn(n);function n(e,r){var i;return rn(this,n),(i=t.call(this,e))._a=r,i}return on(n,[{key:"_toFieldTransform",value:function(e){var t=qE(this,e,!0),n=this._a.map((function(e){return XE(e,t)})),r=new Zg(n);return new Gg(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(DE),HE=function(e){fn(n,e);var t=mn(n);function n(e,r){var i;return rn(this,n),(i=t.call(this,e)).wa=r,i}return on(n,[{key:"_toFieldTransform",value:function(e){var t=new qg(e.It,Rg(e.It,this.wa));return new Gg(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(DE);function QE(e,t,n,r){var i=e.da(1,t,n);tT("Data must be an object, but it was:",i,r);var a=[],o=qy.empty();ty(r,(function(e,r){var u=iT(t,e,n);r=Hn(r);var s=i.ca(u);if(r instanceof BE)a.push(u);else{var c=XE(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new cy(a);return new FE(o,u,i.fieldTransforms)}function $E(e,t,n,r,i,a){var o=e.da(1,t,n),u=[nT(t,r,n)],s=[i];if(a.length%2!=0)throw new om(am.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(nT(t,a[c])),s.push(a[c+1]);for(var l=[],f=qy.empty(),h=u.length-1;h>=0;--h)if(!oT(l,u[h])){var d=u[h],p=s[h];p=Hn(p);var v=o.ca(d);if(p instanceof BE)l.push(d);else{var m=XE(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new cy(l);return new FE(f,y,o.fieldTransforms)}function YE(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return XE(n,e.da(r?4:3,t))}function XE(e,t){if(eT(e=Hn(e)))return tT("Unsupported field value:",t,e),JE(e,t);if(e instanceof DE)return function(e,t){if(!VE(t.sa))throw t.ha("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ha("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.oa&&4!==t.sa)throw t.ha("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=sn(e);try{for(a.s();!(n=a.n()).done;){var o=XE(n.value,t.aa(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Hn(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Rg(t.It,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=wm.fromDate(e);return{timestampValue:zk(t.It,n)}}if(e instanceof wm){var r=new wm(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:zk(t.It,r)}}if(e instanceof RE)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof OE)return{bytesValue:Zk(t.It,e._byteString)};if(e instanceof BS){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ha("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Kk(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ha("Unsupported field value: ".concat(MS(e)))}(e,t)}function JE(e,t){var n={};return ny(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ty(e,(function(e,r){var i=XE(r,t.ra(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function eT(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof wm||e instanceof RE||e instanceof OE||e instanceof BS||e instanceof DE)}function tT(e,t,n){if(!eT(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=MS(n);throw"an object"===r?t.ha(e+" a custom object"):t.ha(e+" "+r)}}function nT(e,t,n){if((t=Hn(t))instanceof PE)return t._internalPath;if("string"==typeof t)return iT(e,t);throw aT("Field path arguments must be of type string or ",e,!1,void 0,n)}var rT=new RegExp("[~\\*/\\[\\]]");function iT(e,t,n){if(t.search(rT)>=0)throw aT("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return yn(PE,(0,$n.Z)(t.split(".")))._internalPath}catch(R){throw aT("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function aT(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new om(am.INVALID_ARGUMENT,u+e+s)}function oT(e,t){return e.some((function(e){return e.isEqual(t)}))}var uT=function(){function e(t,n,r,i,a){rn(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return on(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new BS(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new sT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(cT("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),sT=function(e){fn(n,e);var t=mn(n);function n(){return rn(this,n),t.apply(this,arguments)}return on(n,[{key:"data",value:function(){return Ti(hn(n.prototype),"data",this).call(this)}}]),n}(uT);function cT(e,t){return"string"==typeof t?iT(e,t):t instanceof PE?t._internalPath:t._delegate._internalPath}function lT(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new om(am.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var fT=on((function e(){rn(this,e)}));function hT(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var dT=function(e){fn(n,e);var t=mn(n);function n(e,r,i){var a;return rn(this,n),(a=t.call(this)).ma=e,a.ga=r,a.ya=i,a.type="where",a}return on(n,[{key:"_apply",value:function(e){var t=zE(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new om(am.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){_T(o,a);var s,c=[],l=sn(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(IT(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=IT(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||_T(o,a),u=YE(n,"where",o,"in"===a||"not-in"===a);var h=tg.create(i,a,u);return function(e,t){if(t.dt()){var n=bg(e);if(null!==n&&!n.isEqual(t.field))throw new om(am.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=kg(e);null!==r&&ST(e,t.field,r)}var i=function(e,t){var n,r=sn(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new om(am.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new om(am.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new qS(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new vg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(fT);var pT=function(e){fn(n,e);var t=mn(n);function n(e,r){var i;return rn(this,n),(i=t.call(this)).ma=e,i.pa=r,i.type="orderBy",i}return on(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new om(am.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new om(am.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new fg(t,n);return function(e,t){if(null===kg(e)){var n=bg(e);null!==n&&ST(e,n,t.field)}}(e,r),r}(e._query,this.ma,this.pa);return new qS(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new vg(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(fT);var vT=function(e){fn(n,e);var t=mn(n);function n(e,r,i){var a;return rn(this,n),(a=t.call(this)).type=e,a.Ia=r,a.Ta=i,a}return on(n,[{key:"_apply",value:function(e){return new qS(e.firestore,e.converter,_g(e._query,this.Ia,this.Ta))}}]),n}(fT);var mT=function(e){fn(n,e);var t=mn(n);function n(e,r,i){var a;return rn(this,n),(a=t.call(this)).type=e,a.Ea=r,a.Aa=i,a}return on(n,[{key:"_apply",value:function(e){var t=xT(e,this.type,this.Ea,this.Aa);return new qS(e.firestore,e.converter,function(e,t){return new vg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(fT);function yT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new mT("startAt",t,!0)}function gT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new mT("startAfter",t,!1)}var kT=function(e){fn(n,e);var t=mn(n);function n(e,r,i){var a;return rn(this,n),(a=t.call(this)).type=e,a.Ea=r,a.Aa=i,a}return on(n,[{key:"_apply",value:function(e){var t=xT(e,this.type,this.Ea,this.Aa);return new qS(e.firestore,e.converter,function(e,t){return new vg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(fT);function bT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new kT("endBefore",t,!1)}function wT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new kT("endAt",t,!0)}function xT(e,t,n,r){if(n[0]=Hn(n[0]),n[0]instanceof uT)return function(e,t,n,r,i){if(!r)throw new om(am.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=sn(xg(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(Py(t,r.key));else{var c=r.data.field(s.field);if(vy(c))throw new om(am.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new om(am.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new lg(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=zE(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new om(am.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new om(am.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!wg(e)&&-1!==c.indexOf("/"))throw new om(am.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(_m.fromString(c));if(!Tm.isDocumentKey(l))throw new om(am.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Tm(l);u.push(Py(t,f))}else{var h=YE(n,r,c);u.push(h)}}return new lg(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function IT(e,t,n){if("string"==typeof(n=Hn(n))){if(""===n)throw new om(am.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wg(t)&&-1!==n.indexOf("/"))throw new om(am.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(_m.fromString(n));if(!Tm.isDocumentKey(r))throw new om(am.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Py(e,new Tm(r))}if(n instanceof BS)return Py(e,n._key);throw new om(am.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(MS(n),"."))}function _T(e,t){if(!Array.isArray(e)||0===e.length)throw new om(am.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new om(am.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function ST(e,t,n){if(!n.isEqual(t))throw new om(am.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var ET=function(){function e(){rn(this,e)}return on(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Sy(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dy(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(py(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw nm()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return ty(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new RE(dy(e.latitude),dy(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=my(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(yy(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=hy(e);return new wm(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=_m.fromString(e);rm(vb(n));var r=new ky(n.get(1),n.get(3)),i=new Tm(n.popFirst(5));return r.isEqual(t)||Jv("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function TT(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var CT=function(e){fn(n,e);var t=mn(n);function n(e){var r;return rn(this,n),(r=t.call(this)).firestore=e,r}return on(n,[{key:"convertBytes",value:function(e){return new OE(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new BS(this.firestore,null,t)}}]),n}(ET),AT=function(){function e(t,n){rn(this,e),this.hasPendingWrites=t,this.fromCache=n}return on(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),NT=function(e){fn(n,e);var t=mn(n);function n(e,r,i,a,o,u){var s;return rn(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return on(n,[{key:"exists",value:function(){return Ti(hn(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new OT(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(cT("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(uT),OT=function(e){fn(n,e);var t=mn(n);function n(){return rn(this,n),t.apply(this,arguments)}return on(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ti(hn(n.prototype),"data",this).call(this,e)}}]),n}(NT),PT=function(){function e(t,n,r,i){rn(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new AT(i.hasPendingWrites,i.fromCache),this.query=r}return on(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new OT(n._firestore,n._userDataWriter,r.key,r,new AT(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new om(am.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new OT(e._firestore,e._userDataWriter,t.doc.key,t.doc,new AT(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new OT(e._firestore,e._userDataWriter,t.doc.key,t.doc,new AT(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:DT(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function DT(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return nm()}}function RT(e,t){return e instanceof NT&&t instanceof NT?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof PT&&t instanceof PT&&e._firestore===t._firestore&&QS(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var LT=function(e){fn(n,e);var t=mn(n);function n(e){var r;return rn(this,n),(r=t.call(this)).firestore=e,r}return on(n,[{key:"convertBytes",value:function(e){return new OE(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new BS(this.firestore,null,t)}}]),n}(ET);function MT(e){e=FS(e,BS);var t=FS(e.firestore,xE),n=IE(t),r=new LT(t);return function(e,t){var n=new um;return e.asyncQueue.enqueueAndForget(Xn(Qn().mark((function r(){return Qn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Xn(Qn().mark((function e(t,n,r){var i,a;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=im(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new om(am.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=s_(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,fE(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new NT(t,r,e._key,n,new AT(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function FT(e){e=FS(e,qS);var t=FS(e.firestore,xE),n=IE(t),r=new LT(t);return function(e,t){var n=new um;return e.asyncQueue.enqueueAndForget(Xn(Qn().mark((function r(){return Qn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Xn(Qn().mark((function e(t,n,r){var i,a,o,u,s;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,zx(t,n,!0);case 3:i=e.sent,a=new C_(n,i.Hi),o=a.Wu(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=s_(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,fE(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new PT(t,r,e,n)}))}function VT(e,t,n){e=FS(e,BS);var r=FS(e.firestore,xE),i=TT(e.converter,t,n);return ZT(r,[ZE(zE(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Qg.none())])}function jT(e,t,n){e=FS(e,BS);for(var r=FS(e.firestore,xE),i=zE(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return ZT(r,[("string"==typeof(t=Hn(t))||t instanceof PE?$E(i,"updateDoc",e._key,t,n,o):QE(i,"updateDoc",e._key,t)).toMutation(e._key,Qg.exists(!0))])}function UT(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Hn(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||bE(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(bE(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof BS)l=FS(e.firestore,xE),f=yg(e._key.path),c={next:function(t){n[s]&&n[s](BT(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=FS(e,qS);l=FS(p.firestore,xE),f=p._query;var v=new LT(l);c={next:function(e){n[s]&&n[s](new PT(l,v,p,e))},error:n[s+1],complete:n[s+2]},lT(e._query)}return function(e,t,n,r){var i=new YS(r),a=new w_(t,i,n);return e.asyncQueue.enqueueAndForget(Xn(Qn().mark((function t(){return Qn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=p_,t.next=3,vE(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.bc(),e.asyncQueue.enqueueAndForget(Xn(Qn().mark((function t(){return Qn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=m_,t.next=3,vE(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(IE(l),f,h,c)}function zT(e,t){return function(e,t){var n=new YS(t);return e.asyncQueue.enqueueAndForget(Xn(Qn().mark((function t(){return Qn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){im(e).Ru.add(t),t.next()},t.next=3,vE(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.bc(),e.asyncQueue.enqueueAndForget(Xn(Qn().mark((function t(){return Qn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){im(e).Ru.delete(t)},t.next=3,vE(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(IE(e=FS(e,xE)),bE(t)?t:{next:t})}function ZT(e,t){return function(e,t){var n=new um;return e.asyncQueue.enqueueAndForget(Xn(Qn().mark((function r(){return Qn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=V_,r.next=3,dE(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(IE(e),t)}function BT(e,t,n){var r=n.docs.get(t._key),i=new LT(e);return new NT(e,i,t._key,r,new AT(n.hasPendingWrites,n.fromCache),t.converter)}var qT={maxAttempts:5},KT=function(){function e(t,n){rn(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=zE(t)}return on(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=WT(e,this._firestore),i=TT(r.converter,t,n),a=ZE(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Qg.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=WT(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Hn(t))||t instanceof PE?$E(this._dataReader,"WriteBatch.update",i._key,t,n,o):QE(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Qg.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=WT(e,this._firestore);return this._mutations=this._mutations.concat(new lk(t._key,Qg.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new om(am.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function WT(e,t){if((e=Hn(e)).firestore!==t)throw new om(am.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var GT=function(e){fn(n,e);var t=mn(n);function n(e,r){var i;return rn(this,n),(i=t.call(this,e,r))._firestore=e,i}return on(n,[{key:"get",value:function(e){var t=this,r=WT(e,this._firestore),i=new LT(this._firestore);return Ti(hn(n.prototype),"get",this).call(this,e).then((function(e){return new NT(t._firestore,i,r._key,e._document,new AT(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){rn(this,e),this._firestore=t,this._transaction=n,this._dataReader=zE(t)}return on(e,[{key:"get",value:function(e){var t=this,n=WT(e,this._firestore),r=new CT(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return nm();var i=e[0];if(i.isFoundDocument())return new uT(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new uT(t._firestore,r,n._key,null,n.converter);throw nm()}))}},{key:"set",value:function(e,t,n){var r=WT(e,this._firestore),i=TT(r.converter,t,n),a=ZE(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=WT(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Hn(t))||t instanceof PE?$E(this._dataReader,"Transaction.update",i._key,t,n,o):QE(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=WT(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function HT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new WE("arrayUnion",t)}function QT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new GE("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Qv=e}(Wr),jr(new Jn("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new xE(new fm(e.getProvider("auth-internal")),new vm(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new om(am.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ky(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Xr(Gv,"3.7.2",e),Xr(Gv,"3.7.2","esm2017")}();function $T(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new om("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function YT(){if("undefined"===typeof Uint8Array)throw new om("unimplemented","Uint8Arrays are not available in this environment.")}function XT(){if("undefined"==typeof atob)throw new om("unimplemented","Blobs are unavailable in Firestore in this environment.")}var JT=function(){function e(t){rn(this,e),this._delegate=t}return on(e,[{key:"toBase64",value:function(){return XT(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return YT(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return XT(),new e(OE.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return YT(),new e(OE.fromUint8Array(t))}}]),e}();function eC(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=sn(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var tC=function(){function e(){rn(this,e)}return on(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){NE(e=FS(e,xE));var n=IE(e),r=e._freezeSettings(),i=new OS;return SE(n,i,new AS(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){NE(e=FS(e,xE));var t=IE(e),n=e._freezeSettings(),r=new OS;return SE(t,r,new NS(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new om(am.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new um;return e._queue.enqueueAndForgetEvenWhileRestricted(Xn(Qn().mark((function n(){return Qn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Xn(Qn().mark((function e(t){var n;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Bm.C()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Bm.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(Ex(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),nC=function(){function e(t,n,r){var i=this;rn(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof ky||(this._appCompat=t)}return on(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||em("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};ZS(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return EE(this._delegate)}},{key:"disableNetwork",value:function(){return TE(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&DS("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new um;return e.asyncQueue.enqueueAndForget(Xn(Qn().mark((function n(){return Qn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=Q_,n.next=3,dE(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(IE(e=FS(e,xE)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return zT(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new om("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new mC(this,WS(this._delegate,e))}catch(t){throw sC(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new uC(this,GS(this._delegate,e))}catch(t){throw sC(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new dC(this,function(e,t){if(e=FS(e,zS),PS("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new om(am.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new qS(e,null,function(e){return new vg(_m.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw sC(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=FS(e,xE);var r=Object.assign(Object.assign({},qT),n);return function(e){if(e.maxAttempts<1)throw new om(am.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new um;return e.asyncQueue.enqueueAndForget(Xn(Qn().mark((function i(){var a;return Qn().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,pE(e);case 2:a=i.sent,new eE(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(IE(e),(function(n){return t(new GT(e,n))}),r)}(this._delegate,(function(n){return e(new iC(t,n))}))}},{key:"batch",value:function(){var e=this;return IE(this._delegate),new aC(new KT(this._delegate,(function(t){return ZT(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return CE(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return AE(this._delegate,e).then((function(e){return e?new dC(t,e):null}))}}]),e}(),rC=function(e){fn(n,e);var t=mn(n);function n(e){var r;return rn(this,n),(r=t.call(this)).firestore=e,r}return on(n,[{key:"convertBytes",value:function(e){return new JT(new OE(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return uC.forKey(t,this.firestore,null)}}]),n}(ET);var iC=function(){function e(t,n){rn(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new rC(t)}return on(e,[{key:"get",value:function(e){var t=this,n=yC(e);return this._delegate.get(n).then((function(e){return new fC(t._firestore,new NT(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=yC(e);return n?($T("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=yC(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=yC(e);return this._delegate.delete(t),this}}]),e}(),aC=function(){function e(t){rn(this,e),this._delegate=t}return on(e,[{key:"set",value:function(e,t,n){var r=yC(e);return n?($T("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=yC(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=yC(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),oC=function(){function e(t,n,r){rn(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return on(e,[{key:"fromFirestore",value:function(e,t){var n=new OT(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new hC(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new rC(t),n),i.set(n,a)),a}}]),e}();oC.INSTANCES=new WeakMap;var uC=function(){function e(t,n){rn(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new rC(t)}return on(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new mC(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new mC(this.firestore,WS(this._delegate,e))}catch(t){throw sC(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Hn(e))instanceof BS&&HS(this._delegate,e)}},{key:"set",value:function(e,t){t=$T("DocumentReference.set",t);try{return t?VT(this._delegate,e,t):VT(this._delegate,e)}catch(n){throw sC(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?jT(this._delegate,e):jT.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw sC(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return ZT(FS(e.firestore,xE),[new lk(e._key,Qg.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=cC(n),a=lC(n,(function(t){return new fC(e.firestore,new NT(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return UT(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?MT(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=FS(e,BS);var t=FS(e.firestore,xE);return yE(IE(t),e._key,{source:"server"}).then((function(n){return BT(t,e,n)}))}(this._delegate):function(e){e=FS(e,BS);var t=FS(e.firestore,xE);return yE(IE(t),e._key).then((function(n){return BT(t,e,n)}))}(this._delegate),t.then((function(e){return new fC(n.firestore,new NT(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(oC.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new om("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new BS(n._delegate,r,new Tm(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new BS(n._delegate,r,t))}}]),e}();function sC(e,t,n){return e.message=e.message.replace(t,n),e}function cC(e){var t,n=sn(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!eC(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function lC(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=eC(e[0])?e[0]:eC(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var fC=function(){function e(t,n){rn(this,e),this._firestore=t,this._delegate=n}return on(e,[{key:"ref",get:function(){return new uC(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return RT(this._delegate,e._delegate)}}]),e}(),hC=function(e){fn(n,e);var t=mn(n);function n(){return rn(this,n),t.apply(this,arguments)}return on(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||nm()}(void 0!==t),t}}]),n}(fC),dC=function(){function e(t,n){rn(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new rC(t)}return on(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,hT(this._delegate,function(e,t,n){var r=t,i=cT("where",e);return new dT(i,r,n)}(t,n,r)))}catch(i){throw sC(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,hT(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=cT("orderBy",e);return new pT(n,t)}(t,n)))}catch(r){throw sC(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,hT(this._delegate,function(e){return VS("limit",e),new vT("limit",e,"F")}(t)))}catch(n){throw sC(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,hT(this._delegate,function(e){return VS("limitToLast",e),new vT("limitToLast",e,"L")}(t)))}catch(n){throw sC(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,hT(this._delegate,yT.apply(void 0,arguments)))}catch(t){throw sC(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,hT(this._delegate,gT.apply(void 0,arguments)))}catch(t){throw sC(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,hT(this._delegate,bT.apply(void 0,arguments)))}catch(t){throw sC(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,hT(this._delegate,wT.apply(void 0,arguments)))}catch(t){throw sC(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return QS(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?FT(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=FS(e,qS);var t=FS(e.firestore,xE),n=IE(t),r=new LT(t);return gE(n,e._query,{source:"server"}).then((function(n){return new PT(t,r,e,n)}))}(this._delegate):function(e){e=FS(e,qS);var t=FS(e.firestore,xE),n=IE(t),r=new LT(t);return lT(e._query),gE(n,e._query).then((function(n){return new PT(t,r,e,n)}))}(this._delegate),t.then((function(e){return new vC(n.firestore,new PT(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=cC(n),a=lC(n,(function(t){return new vC(e.firestore,new PT(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return UT(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(oC.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),pC=function(){function e(t,n){rn(this,e),this._firestore=t,this._delegate=n}return on(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new hC(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),vC=function(){function e(t,n){rn(this,e),this._firestore=t,this._delegate=n}return on(e,[{key:"query",get:function(){return new dC(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new hC(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new pC(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new hC(n._firestore,r))}))}},{key:"isEqual",value:function(e){return RT(this._delegate,e._delegate)}}]),e}(),mC=function(e){fn(n,e);var t=mn(n);function n(e,r){var i;return rn(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return on(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new uC(this.firestore,e):null}},{key:"doc",value:function(e){try{return new uC(this.firestore,void 0===e?GS(this._delegate):GS(this._delegate,e))}catch(t){throw sC(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=FS(e.firestore,xE),r=GS(e),i=TT(e.converter,t);return ZT(n,[ZE(zE(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Qg.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new uC(t.firestore,e)}))}},{key:"isEqual",value:function(e){return HS(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(oC.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(dC);function yC(e){return FS(e,BS)}var gC=function(){function e(){rn(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=yn(PE,n)}return on(e,[{key:"isEqual",value:function(e){return(e=Hn(e))instanceof PE&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Em.keyField().canonicalString())}}]),e}(),kC=function(){function e(t){rn(this,e),this._delegate=t}return on(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new KE("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new BE("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=HT.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=QT.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new HE("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),bC={Firestore:nC,GeoPoint:RE,Timestamp:wm,Blob:JT,Transaction:iC,WriteBatch:aC,DocumentReference:uC,DocumentSnapshot:fC,Query:dC,QueryDocumentSnapshot:hC,QuerySnapshot:vC,CollectionReference:mC,FieldPath:gC,FieldValue:kC,setLogLevel:function(e){!function(e){$v.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Jn("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},bC)))}(e,(function(e,t){return new nC(e,t,new tC)})),e.registerVersion("@firebase/firestore-compat","0.2.2")}(xi);var wC=xi.initializeApp({apiKey:"AIzaSyBq9gY8FQF87FcOhnA6xmcYZTV4lpivMk4",authDomain:"legendary-cord.firebaseapp.com",projectId:"legendary-cord",storageBucket:"legendary-cord.appspot.com",messagingSenderId:"251911306420",appId:"1:251911306420:web:9641aea1a145f497f0ebe1",measurementId:"G-NXDJY6Q4N9"}).firestore(),xC=xi.auth(),IC=new xi.auth.GoogleAuthProvider,_C=wC;var SC=function(){var e=v(bt),n=v(St),r=v(_t),i=(0,t.useState)(""),a=(0,Tt.Z)(i,2),o=a[0],u=a[1],s=(0,t.useState)([]),c=(0,Tt.Z)(s,2),l=c[0],f=c[1];return(0,t.useEffect)((function(){n&&_C.collection("channels").doc(n).collection("messages").orderBy("timestamp","desc").onSnapshot((function(e){return f(e.docs.map((function(e){return e.data()})))}))}),[n]),(0,Dt.jsxs)("div",{className:"chat",children:[(0,Dt.jsx)(Rt,{channelName:r}),(0,Dt.jsx)("div",{className:"chat__messages",children:l.map((function(e){return(0,Dt.jsx)(nn,{user:e.user,timestamp:e.timestamp,message:e.message})}))}),(0,Dt.jsxs)("div",{className:"chat__input",children:[(0,Dt.jsx)(Lt.Z,{fontSize:"large"}),(0,Dt.jsxs)("form",{children:[(0,Dt.jsx)("input",{value:o,disabled:!n,onChange:function(e){return u(e.target.value)},placeholder:"Message #testchannel"}),(0,Dt.jsx)("button",{disabled:!n,className:"chat__inputButton",type:"submit",onClick:function(t){t.preventDefault(),_C.collection("channels").doc(n).collection("messages").add({timestamp:xi.firestore.FieldValue.serverTimestamp(),message:o,user:e}),u("")},children:"Send Message"})]}),(0,Dt.jsxs)("div",{className:"chat__inputIcons",children:[(0,Dt.jsx)(Mt.Z,{fontSize:"large"}),(0,Dt.jsx)(Ft.Z,{fontSize:"large"}),(0,Dt.jsx)(Vt.Z,{fontSize:"large"}),(0,Dt.jsx)(jt.Z,{fontSize:"large"})]})]})]})},EC=n(1131),TC=n(2419),CC=n(6002),AC=n(5860),NC=n(3898);var OC=function(e){var t=e.id,n=e.channelName,r=_();return(0,Dt.jsx)("div",{className:"sidebarChannel",onClick:function(){return r(It({channelId:t,channelName:n}))},children:(0,Dt.jsxs)("h4",{children:[(0,Dt.jsx)("span",{className:"sidebarChannel__hash",children:"#"}),n]})})},PC=n(5436),DC=n(1886),RC=n(7122);var LC=function(){var e=v(bt),n=(0,t.useState)([]),r=(0,Tt.Z)(n,2),i=r[0],a=r[1];return(0,t.useEffect)((function(){_C.collection("channels").onSnapshot((function(e){return a(e.docs.map((function(e){return{id:e.id,channel:e.data()}})))}))}),[]),(0,Dt.jsxs)("div",{className:"sidebar",children:[(0,Dt.jsxs)("div",{className:"sidebar__top",children:[(0,Dt.jsx)("h3",{children:"Testing Chat"}),(0,Dt.jsx)(EC.Z,{})]}),(0,Dt.jsxs)("div",{className:"sidebar__channels",children:[(0,Dt.jsxs)("div",{className:"sidebar__channelsHeader",children:[(0,Dt.jsxs)("div",{className:"sidebar__header",children:[(0,Dt.jsx)(EC.Z,{}),(0,Dt.jsx)("h4",{children:"Text Channels"})]}),(0,Dt.jsx)(TC.Z,{onClick:function(){var e=prompt("Enter a new channel name");e&&_C.collection("channels").add({channelName:e})},className:"sidebar__addChannel"})]}),(0,Dt.jsx)("div",{className:"sidebar__channelsList",children:i.map((function(e){var t=e.id,n=e.channel;return(0,Dt.jsx)(OC,{id:t,channelName:n.channelName},t)}))})]}),(0,Dt.jsxs)("div",{className:"sidebar__voice",children:[(0,Dt.jsx)(NC.Z,{className:"sidebar__voiceIcon",fontSize:"large"}),(0,Dt.jsxs)("div",{className:"sidebar__voiceInfo",children:[(0,Dt.jsx)("h3",{children:"Voice Connected"}),(0,Dt.jsx)("p",{children:"Stream"})]}),(0,Dt.jsxs)("div",{className:"sidebar__voiceIcons",children:[(0,Dt.jsx)(AC.Z,{}),(0,Dt.jsx)(CC.Z,{})]})]}),(0,Dt.jsxs)("div",{className:"sidebar__profile",children:[(0,Dt.jsx)(tn,{onClick:function(){return xC.signOut()},src:e.photo,alt:e.displayName.substring(0)}),(0,Dt.jsxs)("div",{className:"sidebar__profileInfo",children:[(0,Dt.jsx)("h3",{children:e.displayName}),(0,Dt.jsxs)("p",{children:["#",e.uid.substring(0,4)]})]}),(0,Dt.jsxs)("div",{className:"sidebar__profileIcons",children:[(0,Dt.jsx)(PC.Z,{}),(0,Dt.jsx)(DC.Z,{}),(0,Dt.jsx)(RC.Z,{})]})]})]})},MC=n(5735),FC=n(2065),VC=n(792),jC=n(6702),UC=n(2763);function zC(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var ZC=t.createContext(null);function BC(e,n){var r=Object.create(null);return e&&t.Children.map(e,(function(e){return e})).forEach((function(e){r[e.key]=function(e){return n&&(0,t.isValidElement)(e)?n(e):e}(e)})),r}function qC(e,t,n){return null!=n[t]?n[t]:e.props[t]}function KC(e,n,r){var i=BC(e.children),a=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),a=[];for(var o in e)o in t?a.length&&(i[o]=a,a=[]):a.push(o);var u={};for(var s in t){if(i[s])for(r=0;r<i[s].length;r++){var c=i[s][r];u[i[s][r]]=n(c)}u[s]=n(s)}for(r=0;r<a.length;r++)u[a[r]]=n(a[r]);return u}(n,i);return Object.keys(a).forEach((function(o){var u=a[o];if((0,t.isValidElement)(u)){var s=o in n,c=o in i,l=n[o],f=(0,t.isValidElement)(l)&&!l.props.in;!c||s&&!f?c||!s||f?c&&s&&(0,t.isValidElement)(l)&&(a[o]=(0,t.cloneElement)(u,{onExited:r.bind(null,u),in:l.props.in,exit:qC(u,"exit",e),enter:qC(u,"enter",e)})):a[o]=(0,t.cloneElement)(u,{in:!1}):a[o]=(0,t.cloneElement)(u,{onExited:r.bind(null,u),in:!0,exit:qC(u,"exit",e),enter:qC(u,"enter",e)})}})),a}var WC=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},GC=function(e){var n,r;function i(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(cn(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}r=e,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,ln(n,r);var a=i.prototype;return a.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},a.componentWillUnmount=function(){this.mounted=!1},i.getDerivedStateFromProps=function(e,n){var r,i,a=n.children,o=n.handleExited;return{children:n.firstRender?(r=e,i=o,BC(r.children,(function(e){return(0,t.cloneElement)(e,{onExited:i.bind(null,e),in:!0,appear:qC(e,"appear",r),enter:qC(e,"enter",r),exit:qC(e,"exit",r)})}))):KC(e,a,o),firstRender:!1}},a.handleExited=function(e,t){var n=BC(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=(0,zt.Z)({},t.children);return delete n[e.key],{children:n}})))},a.render=function(){var e=this.props,n=e.component,r=e.childFactory,i=(0,Ut.Z)(e,["component","childFactory"]),a=this.state.contextValue,o=WC(this.state.children).map(r);return delete i.appear,delete i.enter,delete i.exit,null===n?t.createElement(ZC.Provider,{value:a},o):t.createElement(ZC.Provider,{value:a},t.createElement(n,i,o))},i}(t.Component);GC.propTypes={},GC.defaultProps={component:"div",childFactory:function(e){return e}};var HC=GC,QC=(n(3361),n(9140));n(2561);function $C(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,QC.O)(t)}var YC=function(){var e=$C.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};var XC=function(e){var n=e.className,r=e.classes,i=e.pulsate,a=void 0!==i&&i,o=e.rippleX,u=e.rippleY,s=e.rippleSize,c=e.in,l=e.onExited,f=e.timeout,h=t.useState(!1),d=(0,Tt.Z)(h,2),p=d[0],v=d[1],m=(0,Zt.Z)(n,r.ripple,r.rippleVisible,a&&r.ripplePulsate),y={width:s,height:s,top:-s/2+u,left:-s/2+o},g=(0,Zt.Z)(r.child,p&&r.childLeaving,a&&r.childPulsate);return c||p||v(!0),t.useEffect((function(){if(!c&&null!=l){var e=setTimeout(l,f);return function(){clearTimeout(e)}}}),[l,c,f]),(0,Dt.jsx)("span",{className:m,style:y,children:(0,Dt.jsx)("span",{className:g})})};var JC,eA,tA,nA,rA,iA,aA,oA,uA=(0,Gt.Z)("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),sA=["center","classes","className"],cA=YC(rA||(rA=JC||(JC=zC(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))),lA=YC(iA||(iA=eA||(eA=zC(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))),fA=YC(aA||(aA=tA||(tA=zC(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"])))),hA=(0,qt.ZP)("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),dA=(0,qt.ZP)(XC,{name:"MuiTouchRipple",slot:"Ripple"})(oA||(oA=nA||(nA=zC(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"]))),uA.rippleVisible,cA,550,(function(e){return e.theme.transitions.easing.easeInOut}),uA.ripplePulsate,(function(e){return e.theme.transitions.duration.shorter}),uA.child,uA.childLeaving,lA,550,(function(e){return e.theme.transitions.easing.easeInOut}),uA.childPulsate,fA,(function(e){return e.theme.transitions.easing.easeInOut})),pA=t.forwardRef((function(e,n){var r=(0,Kt.Z)({props:e,name:"MuiTouchRipple"}),i=r.center,a=void 0!==i&&i,o=r.classes,u=void 0===o?{}:o,s=r.className,c=(0,Ut.Z)(r,sA),l=t.useState([]),f=(0,Tt.Z)(l,2),h=f[0],d=f[1],p=t.useRef(0),v=t.useRef(null);t.useEffect((function(){v.current&&(v.current(),v.current=null)}),[h]);var m=t.useRef(!1),y=t.useRef(null),g=t.useRef(null),k=t.useRef(null);t.useEffect((function(){return function(){clearTimeout(y.current)}}),[]);var b=t.useCallback((function(e){var t=e.pulsate,n=e.rippleX,r=e.rippleY,i=e.rippleSize,a=e.cb;d((function(e){return[].concat((0,$n.Z)(e),[(0,Dt.jsx)(dA,{classes:{ripple:(0,Zt.Z)(u.ripple,uA.ripple),rippleVisible:(0,Zt.Z)(u.rippleVisible,uA.rippleVisible),ripplePulsate:(0,Zt.Z)(u.ripplePulsate,uA.ripplePulsate),child:(0,Zt.Z)(u.child,uA.child),childLeaving:(0,Zt.Z)(u.childLeaving,uA.childLeaving),childPulsate:(0,Zt.Z)(u.childPulsate,uA.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i},p.current)])})),p.current+=1,v.current=a}),[u]),w=t.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=t.pulsate,i=void 0!==r&&r,o=t.center,u=void 0===o?a||t.pulsate:o,s=t.fakeElement,c=void 0!==s&&s;if("mousedown"===(null==e?void 0:e.type)&&m.current)m.current=!1;else{"touchstart"===(null==e?void 0:e.type)&&(m.current=!0);var l,f,h,d=c?null:k.current,p=d?d.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(u||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)l=Math.round(p.width/2),f=Math.round(p.height/2);else{var v=e.touches&&e.touches.length>0?e.touches[0]:e,w=v.clientX,x=v.clientY;l=Math.round(w-p.left),f=Math.round(x-p.top)}if(u)(h=Math.sqrt((2*Math.pow(p.width,2)+Math.pow(p.height,2))/3))%2===0&&(h+=1);else{var I=2*Math.max(Math.abs((d?d.clientWidth:0)-l),l)+2,_=2*Math.max(Math.abs((d?d.clientHeight:0)-f),f)+2;h=Math.sqrt(Math.pow(I,2)+Math.pow(_,2))}null!=e&&e.touches?null===g.current&&(g.current=function(){b({pulsate:i,rippleX:l,rippleY:f,rippleSize:h,cb:n})},y.current=setTimeout((function(){g.current&&(g.current(),g.current=null)}),80)):b({pulsate:i,rippleX:l,rippleY:f,rippleSize:h,cb:n})}}),[a,b]),x=t.useCallback((function(){w({},{pulsate:!0})}),[w]),I=t.useCallback((function(e,t){if(clearTimeout(y.current),"touchend"===(null==e?void 0:e.type)&&g.current)return g.current(),g.current=null,void(y.current=setTimeout((function(){I(e,t)})));g.current=null,d((function(e){return e.length>0?e.slice(1):e})),v.current=t}),[]);return t.useImperativeHandle(n,(function(){return{pulsate:x,start:w,stop:I}}),[x,w,I]),(0,Dt.jsx)(hA,(0,zt.Z)({className:(0,Zt.Z)(uA.root,u.root,s),ref:k},c,{children:(0,Dt.jsx)(HC,{component:null,exit:!0,children:h})}))})),vA=pA;function mA(e){return(0,Ht.Z)("MuiButtonBase",e)}var yA,gA=(0,Gt.Z)("MuiButtonBase",["root","disabled","focusVisible"]),kA=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],bA=(0,qt.ZP)("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:function(e,t){return t.root}})((yA={display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"}},(0,Ee.Z)(yA,"&.".concat(gA.disabled),{pointerEvents:"none",cursor:"default"}),(0,Ee.Z)(yA,"@media print",{colorAdjust:"exact"}),yA)),wA=t.forwardRef((function(e,n){var r=(0,Kt.Z)({props:e,name:"MuiButtonBase"}),i=r.action,a=r.centerRipple,o=void 0!==a&&a,u=r.children,s=r.className,c=r.component,l=void 0===c?"button":c,f=r.disabled,h=void 0!==f&&f,d=r.disableRipple,p=void 0!==d&&d,v=r.disableTouchRipple,m=void 0!==v&&v,y=r.focusRipple,g=void 0!==y&&y,k=r.LinkComponent,b=void 0===k?"a":k,w=r.onBlur,x=r.onClick,I=r.onContextMenu,_=r.onDragLeave,S=r.onFocus,E=r.onFocusVisible,T=r.onKeyDown,C=r.onKeyUp,A=r.onMouseDown,N=r.onMouseLeave,O=r.onMouseUp,P=r.onTouchEnd,D=r.onTouchMove,R=r.onTouchStart,L=r.tabIndex,M=void 0===L?0:L,F=r.TouchRippleProps,V=r.touchRippleRef,j=r.type,U=(0,Ut.Z)(r,kA),z=t.useRef(null),Z=t.useRef(null),B=(0,VC.Z)(Z,V),q=(0,UC.Z)(),K=q.isFocusVisibleRef,W=q.onFocus,G=q.onBlur,H=q.ref,Q=t.useState(!1),$=(0,Tt.Z)(Q,2),Y=$[0],X=$[1];h&&Y&&X(!1),t.useImperativeHandle(i,(function(){return{focusVisible:function(){X(!0),z.current.focus()}}}),[]);var J=t.useState(!1),ee=(0,Tt.Z)(J,2),te=ee[0],ne=ee[1];t.useEffect((function(){ne(!0)}),[]);var re=te&&!p&&!h;function ie(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:m;return(0,jC.Z)((function(r){return t&&t(r),!n&&Z.current&&Z.current[e](r),!0}))}t.useEffect((function(){Y&&g&&!p&&te&&Z.current.pulsate()}),[p,g,Y,te]);var ae=ie("start",A),oe=ie("stop",I),ue=ie("stop",_),se=ie("stop",O),ce=ie("stop",(function(e){Y&&e.preventDefault(),N&&N(e)})),le=ie("start",R),fe=ie("stop",P),he=ie("stop",D),de=ie("stop",(function(e){G(e),!1===K.current&&X(!1),w&&w(e)}),!1),pe=(0,jC.Z)((function(e){z.current||(z.current=e.currentTarget),W(e),!0===K.current&&(X(!0),E&&E(e)),S&&S(e)})),ve=function(){var e=z.current;return l&&"button"!==l&&!("A"===e.tagName&&e.href)},me=t.useRef(!1),ye=(0,jC.Z)((function(e){g&&!me.current&&Y&&Z.current&&" "===e.key&&(me.current=!0,Z.current.stop(e,(function(){Z.current.start(e)}))),e.target===e.currentTarget&&ve()&&" "===e.key&&e.preventDefault(),T&&T(e),e.target===e.currentTarget&&ve()&&"Enter"===e.key&&!h&&(e.preventDefault(),x&&x(e))})),ge=(0,jC.Z)((function(e){g&&" "===e.key&&Z.current&&Y&&!e.defaultPrevented&&(me.current=!1,Z.current.stop(e,(function(){Z.current.pulsate(e)}))),C&&C(e),x&&e.target===e.currentTarget&&ve()&&" "===e.key&&!e.defaultPrevented&&x(e)})),ke=l;"button"===ke&&(U.href||U.to)&&(ke=b);var be={};"button"===ke?(be.type=void 0===j?"button":j,be.disabled=h):(U.href||U.to||(be.role="button"),h&&(be["aria-disabled"]=h));var we=(0,VC.Z)(n,H,z);var xe=(0,zt.Z)({},r,{centerRipple:o,component:l,disabled:h,disableRipple:p,disableTouchRipple:m,focusRipple:g,tabIndex:M,focusVisible:Y}),Ie=function(e){var t=e.disabled,n=e.focusVisible,r=e.focusVisibleClassName,i=e.classes,a={root:["root",t&&"disabled",n&&"focusVisible"]},o=(0,Bt.Z)(a,mA,i);return n&&r&&(o.root+=" ".concat(r)),o}(xe);return(0,Dt.jsxs)(bA,(0,zt.Z)({as:ke,className:(0,Zt.Z)(Ie.root,s),ownerState:xe,onBlur:de,onClick:x,onContextMenu:oe,onFocus:pe,onKeyDown:ye,onKeyUp:ge,onMouseDown:ae,onMouseLeave:ce,onMouseUp:se,onDragLeave:ue,onTouchEnd:fe,onTouchMove:he,onTouchStart:le,ref:we,tabIndex:h?-1:M,type:j},be,U,{children:[u,re?(0,Dt.jsx)(vA,(0,zt.Z)({ref:B,center:o},F)):null]}))})),xA=wA,IA=n(9853);function _A(e){return(0,Ht.Z)("MuiButton",e)}var SA=(0,Gt.Z)("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);var EA=t.createContext({}),TA=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],CA=function(e){return(0,zt.Z)({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}})},AA=(0,qt.ZP)(xA,{shouldForwardProp:function(e){return(0,qt.FO)(e)||"classes"===e},name:"MuiButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["".concat(n.variant).concat((0,IA.Z)(n.color))],t["size".concat((0,IA.Z)(n.size))],t["".concat(n.variant,"Size").concat((0,IA.Z)(n.size))],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})((function(e){var t,n,r,i=e.theme,a=e.ownerState;return(0,zt.Z)({},i.typography.button,(t={minWidth:64,padding:"6px 16px",borderRadius:(i.vars||i).shape.borderRadius,transition:i.transitions.create(["background-color","box-shadow","border-color","color"],{duration:i.transitions.duration.short}),"&:hover":(0,zt.Z)({textDecoration:"none",backgroundColor:i.vars?"rgba(".concat(i.vars.palette.text.primaryChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):(0,FC.Fq)(i.palette.text.primary,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===a.variant&&"inherit"!==a.color&&{backgroundColor:i.vars?"rgba(".concat(i.vars.palette[a.color].mainChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):(0,FC.Fq)(i.palette[a.color].main,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===a.variant&&"inherit"!==a.color&&{border:"1px solid ".concat((i.vars||i).palette[a.color].main),backgroundColor:i.vars?"rgba(".concat(i.vars.palette[a.color].mainChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):(0,FC.Fq)(i.palette[a.color].main,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===a.variant&&{backgroundColor:(i.vars||i).palette.grey.A100,boxShadow:(i.vars||i).shadows[4],"@media (hover: none)":{boxShadow:(i.vars||i).shadows[2],backgroundColor:(i.vars||i).palette.grey[300]}},"contained"===a.variant&&"inherit"!==a.color&&{backgroundColor:(i.vars||i).palette[a.color].dark,"@media (hover: none)":{backgroundColor:(i.vars||i).palette[a.color].main}}),"&:active":(0,zt.Z)({},"contained"===a.variant&&{boxShadow:(i.vars||i).shadows[8]})},(0,Ee.Z)(t,"&.".concat(SA.focusVisible),(0,zt.Z)({},"contained"===a.variant&&{boxShadow:(i.vars||i).shadows[6]})),(0,Ee.Z)(t,"&.".concat(SA.disabled),(0,zt.Z)({color:(i.vars||i).palette.action.disabled},"outlined"===a.variant&&{border:"1px solid ".concat((i.vars||i).palette.action.disabledBackground)},"outlined"===a.variant&&"secondary"===a.color&&{border:"1px solid ".concat((i.vars||i).palette.action.disabled)},"contained"===a.variant&&{color:(i.vars||i).palette.action.disabled,boxShadow:(i.vars||i).shadows[0],backgroundColor:(i.vars||i).palette.action.disabledBackground})),t),"text"===a.variant&&{padding:"6px 8px"},"text"===a.variant&&"inherit"!==a.color&&{color:(i.vars||i).palette[a.color].main},"outlined"===a.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===a.variant&&"inherit"!==a.color&&{color:(i.vars||i).palette[a.color].main,border:i.vars?"1px solid rgba(".concat(i.vars.palette[a.color].mainChannel," / 0.5)"):"1px solid ".concat((0,FC.Fq)(i.palette[a.color].main,.5))},"contained"===a.variant&&{color:i.vars?i.vars.palette.text.primary:null==(n=(r=i.palette).getContrastText)?void 0:n.call(r,i.palette.grey[300]),backgroundColor:(i.vars||i).palette.grey[300],boxShadow:(i.vars||i).shadows[2]},"contained"===a.variant&&"inherit"!==a.color&&{color:(i.vars||i).palette[a.color].contrastText,backgroundColor:(i.vars||i).palette[a.color].main},"inherit"===a.color&&{color:"inherit",borderColor:"currentColor"},"small"===a.size&&"text"===a.variant&&{padding:"4px 5px",fontSize:i.typography.pxToRem(13)},"large"===a.size&&"text"===a.variant&&{padding:"8px 11px",fontSize:i.typography.pxToRem(15)},"small"===a.size&&"outlined"===a.variant&&{padding:"3px 9px",fontSize:i.typography.pxToRem(13)},"large"===a.size&&"outlined"===a.variant&&{padding:"7px 21px",fontSize:i.typography.pxToRem(15)},"small"===a.size&&"contained"===a.variant&&{padding:"4px 10px",fontSize:i.typography.pxToRem(13)},"large"===a.size&&"contained"===a.variant&&{padding:"8px 22px",fontSize:i.typography.pxToRem(15)},a.fullWidth&&{width:"100%"})}),(function(e){var t;return e.ownerState.disableElevation&&(t={boxShadow:"none","&:hover":{boxShadow:"none"}},(0,Ee.Z)(t,"&.".concat(SA.focusVisible),{boxShadow:"none"}),(0,Ee.Z)(t,"&:active",{boxShadow:"none"}),(0,Ee.Z)(t,"&.".concat(SA.disabled),{boxShadow:"none"}),t)})),NA=(0,qt.ZP)("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.startIcon,t["iconSize".concat((0,IA.Z)(n.size))]]}})((function(e){var t=e.ownerState;return(0,zt.Z)({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},CA(t))})),OA=(0,qt.ZP)("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.endIcon,t["iconSize".concat((0,IA.Z)(n.size))]]}})((function(e){var t=e.ownerState;return(0,zt.Z)({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},CA(t))})),PA=t.forwardRef((function(e,n){var r=t.useContext(EA),i=(0,MC.Z)(r,e),a=(0,Kt.Z)({props:i,name:"MuiButton"}),o=a.children,u=a.color,s=void 0===u?"primary":u,c=a.component,l=void 0===c?"button":c,f=a.className,h=a.disabled,d=void 0!==h&&h,p=a.disableElevation,v=void 0!==p&&p,m=a.disableFocusRipple,y=void 0!==m&&m,g=a.endIcon,k=a.focusVisibleClassName,b=a.fullWidth,w=void 0!==b&&b,x=a.size,I=void 0===x?"medium":x,_=a.startIcon,S=a.type,E=a.variant,T=void 0===E?"text":E,C=(0,Ut.Z)(a,TA),A=(0,zt.Z)({},a,{color:s,component:l,disabled:d,disableElevation:v,disableFocusRipple:y,fullWidth:w,size:I,type:S,variant:T}),N=function(e){var t=e.color,n=e.disableElevation,r=e.fullWidth,i=e.size,a=e.variant,o=e.classes,u={root:["root",a,"".concat(a).concat((0,IA.Z)(t)),"size".concat((0,IA.Z)(i)),"".concat(a,"Size").concat((0,IA.Z)(i)),"inherit"===t&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon","iconSize".concat((0,IA.Z)(i))],endIcon:["endIcon","iconSize".concat((0,IA.Z)(i))]},s=(0,Bt.Z)(u,_A,o);return(0,zt.Z)({},o,s)}(A),O=_&&(0,Dt.jsx)(NA,{className:N.startIcon,ownerState:A,children:_}),P=g&&(0,Dt.jsx)(OA,{className:N.endIcon,ownerState:A,children:g});return(0,Dt.jsxs)(AA,(0,zt.Z)({ownerState:A,className:(0,Zt.Z)(r.className,N.root,f),component:l,disabled:d,focusRipple:!y,focusVisibleClassName:(0,Zt.Z)(N.focusVisible,k),ref:n,type:S},C,{classes:N,children:[O,o,P]}))})),DA=PA;var RA=function(){return(0,Dt.jsxs)("div",{className:"login",children:[(0,Dt.jsx)("div",{className:"login__logo",children:(0,Dt.jsx)("img",{src:"https://logos-world.net/wp-content/uploads/2020/12/Discord-Logo.png",alt:"logo"})}),(0,Dt.jsx)(DA,{onClick:function(){xC.signInWithPopup(IC).catch((function(e){return alert(e.message)}))},children:"Sign In"})]})};var LA=function(){var e=_(),n=v(bt);return(0,t.useEffect)((function(){xC.onAuthStateChanged((function(t){e(t?gt({uid:t.uid,photo:t.photoURL,email:t.email,displayName:t.displayName}):kt())}))}),[e]),(0,Dt.jsx)("div",{className:"app",children:n?(0,Dt.jsxs)(Dt.Fragment,{children:[(0,Dt.jsx)(LC,{}),(0,Dt.jsx)(SC,{})]}):(0,Dt.jsx)(RA,{})})},MA=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))},FA=document.getElementById("root");(0,r.s)(FA).render((0,Dt.jsx)(t.StrictMode,{children:(0,Dt.jsx)(k,{store:Et,children:(0,Dt.jsx)(LA,{})})})),MA()}()}();
//# sourceMappingURL=main.ae502ab9.js.map